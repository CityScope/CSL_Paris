(this.webpackJsonpchampscope=this.webpackJsonpchampscope||[]).push([[0],{154:function(e,t,a){e.exports=a(207)},163:function(e,t,a){},164:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},204:function(e,t){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),o=a.n(i),c=a(31),s=a(45),l=a(33),u=a(34),m=a(24),p=a(7),h=a(242),d=a(209),f=a(137),g=a(243),b=a(245),v=a(27),w=(a(163),a(240));function E(){return r.a.createElement("div",null,r.a.createElement(w.a,{style:{borderColor:"#fff",color:"white",fontWeight:"bolder"}}))}var y=a(244),S=Object(f.a)({typography:{button:{fontFamily:'"Open Sans", "sans-serif"'}}}),C=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function k(){var e=C();return r.a.createElement(g.a,{theme:S},r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{style:{borderColor:"#fff",color:"white",fontWeight:"bolder"},variant:"outlined"},"Enter CityScope")))}var x=a(254),O=(a(164),a(72)),j=a.n(O),_=function(){return r.a.createElement("div",{className:"video-background"},r.a.createElement("div",{className:"video-foreground"},r.a.createElement(j.a,{url:"https://vimeo.com/390936231",playing:!0,controls:!1,muted:!0,loop:!0,width:"0em",height:"0em"})))};var T=a(246),L=a(107);function M(){var e=Object(h.a)((function(){return{CSlogo:{color:"white",fontSize:"4em"}}}))();return r.a.createElement(L.a,{className:e.CSlogo,onClick:function(){return window.open("http://cityscope.media.mit.edu/","_blank")}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120"},r.a.createElement("path",{fill:"#FFF",d:"M 60.2 38.4 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 61.1 38.4 60.6 38.4 60.2 38.4 Z M 64 28.8 h 2.1 v 1.7 H 64 V 28.8 Z M 64 31.5 h 2.1 v 6.7 H 64 V 31.5 Z M 69.9 38.3 c -0.3 0 -0.6 0 -0.9 -0.1 c -0.3 -0.1 -0.5 -0.2 -0.7 -0.3 c -0.2 -0.1 -0.3 -0.3 -0.4 -0.6 c -0.1 -0.2 -0.2 -0.5 -0.2 -0.9 v -3.6 h -0.9 v -1.3 h 0.9 v -2.1 h 2.1 v 2.1 H 71 v 1.3 h -1.2 V 36 c 0 0.3 0.1 0.4 0.2 0.5 c 0.1 0.1 0.3 0.1 0.5 0.1 c 0.1 0 0.2 0 0.3 0 c 0.1 0 0.2 0 0.2 0 v 1.6 c -0.1 0 -0.2 0.1 -0.4 0.1 C 70.4 38.3 70.2 38.3 69.9 38.3 Z M 72.2 38.8 H 73 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.1 -0.1 0.2 -0.3 0.2 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.5 c -0.1 -0.2 -0.2 -0.5 -0.3 -0.9 l -2 -5.2 h 2.3 l 0.9 2.9 c 0.1 0.2 0.1 0.3 0.2 0.5 c 0 0.2 0.1 0.3 0.1 0.5 c 0 0.2 0.1 0.3 0.1 0.5 h 0 c 0 -0.2 0.1 -0.3 0.1 -0.5 c 0 -0.1 0.1 -0.3 0.1 -0.5 c 0 -0.2 0.1 -0.4 0.2 -0.5 l 0.9 -2.9 h 2.1 l -2.3 6.8 c -0.1 0.4 -0.3 0.7 -0.4 1 c -0.2 0.3 -0.3 0.5 -0.5 0.7 c -0.2 0.2 -0.4 0.3 -0.7 0.4 c -0.3 0.1 -0.6 0.1 -0.9 0.1 h -1.4 V 38.8 Z M 59.8 50 c -1 0 -1.8 -0.2 -2.3 -0.6 c -0.6 -0.4 -0.9 -1 -0.9 -1.8 h 2 c 0 0.3 0.2 0.6 0.4 0.7 c 0.2 0.2 0.5 0.2 0.9 0.2 c 0.3 0 0.6 -0.1 0.8 -0.2 c 0.2 -0.1 0.3 -0.3 0.3 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.4 c -0.1 -0.1 -0.2 -0.2 -0.4 -0.2 c -0.2 -0.1 -0.3 -0.1 -0.5 -0.1 c -0.2 0 -0.4 -0.1 -0.6 -0.1 c -0.3 -0.1 -0.6 -0.1 -0.9 -0.2 c -0.3 -0.1 -0.5 -0.2 -0.8 -0.3 c -0.2 -0.1 -0.4 -0.3 -0.6 -0.6 c -0.1 -0.2 -0.2 -0.6 -0.2 -1 c 0 -0.3 0.1 -0.7 0.2 -0.9 c 0.2 -0.3 0.4 -0.5 0.6 -0.7 c 0.3 -0.2 0.6 -0.3 0.9 -0.4 c 0.4 -0.1 0.7 -0.1 1.1 -0.1 c 1 0 1.7 0.2 2.2 0.6 c 0.5 0.4 0.8 0.9 0.8 1.6 h -2 c 0 -0.3 -0.2 -0.5 -0.3 -0.6 c -0.2 -0.1 -0.4 -0.2 -0.7 -0.2 c -0.3 0 -0.5 0 -0.7 0.2 c -0.2 0.1 -0.3 0.3 -0.3 0.5 c 0 0.1 0 0.2 0.1 0.3 c 0.1 0.1 0.2 0.1 0.4 0.2 c 0.1 0 0.3 0.1 0.5 0.1 c 0.2 0 0.4 0.1 0.6 0.1 c 0.3 0.1 0.6 0.1 0.9 0.2 c 0.3 0.1 0.6 0.2 0.8 0.3 c 0.2 0.2 0.5 0.4 0.6 0.6 c 0.2 0.3 0.2 0.6 0.2 1 c 0 0.4 -0.1 0.7 -0.2 1 c -0.2 0.3 -0.4 0.5 -0.6 0.7 c -0.3 0.2 -0.6 0.3 -1 0.4 C 60.6 50 60.2 50 59.8 50 Z M 66.8 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 67.8 49.9 67.3 50 66.8 50 Z M 70.7 40.4 h 2.1 v 1.7 h -2.1 V 40.4 Z M 70.7 43.1 h 2.1 v 6.7 h -2.1 V 43.1 Z M 77.2 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 78 49.9 77.6 50 77.2 50 Z M 78.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 78.3 Z M 81.2 43.1 h 2.1 V 44 h 0 c 0.3 -0.4 0.5 -0.6 0.9 -0.8 c 0.3 -0.2 0.7 -0.3 1.2 -0.3 c 0.4 0 0.7 0.1 1 0.2 c 0.3 0.1 0.5 0.3 0.7 0.5 c 0.2 0.2 0.4 0.5 0.5 0.8 c 0.1 0.3 0.2 0.7 0.2 1 v 4.4 h -2.1 v -3.9 c 0 -0.4 -0.1 -0.6 -0.3 -0.9 c -0.2 -0.2 -0.4 -0.3 -0.8 -0.3 c -0.4 0 -0.6 0.1 -0.9 0.4 c -0.2 0.3 -0.3 0.6 -0.3 1 v 3.7 h -2.1 V 43.1 Z M 92 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 92.9 49.9 92.4 50 92 50 Z M 99.1 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 99.9 49.9 99.6 50 99.1 50 Z M 100.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 100.3 Z M 0 49.9 L 0 0 M 0 0 v 49.8 h 21.3 v -7.1 H 7.1 V 7.1 h 42.7 V 0 L 0 0 Z M 14.2 14.2 v 21.3 h 28.5 v 7.1 H 28.5 v 7.1 h 21.3 V 28.5 H 21.3 v -7.1 h 28.5 v -7.1 H 14.2 Z"})))}var N={setStartSceneState:function(e){return{type:"SET_START_SCENE",data:e}}},A=Object(v.b)((function(e){return{readyState:e.LOADING}}),N)((function(e){var t=Object(f.a)({overrides:{MuiCssBaseline:{"@global":{"*":{"scrollbar-width":"thin"},"*::-webkit-scrollbar":{width:"4px",height:"4px"}}}},palette:{background:{default:"black"},color:{default:"#fff"}},typography:{h2:{fontFamily:["Cormorant Garamond","cursive"].join(","),fontWeight:400,fontSize:"4.5em"},subtitle1:{fontFamily:'"Roboto", "Cormorant Garamond", "sans-serif"',fontWeight:400,fontSize:"1.5em"},subtitle2:{fontFamily:'"Cormorant Garamond", "sans-serif"'},caption:{fontFamily:'"Roboto","Cormorant Garamond", "sans-serif"',fontSize:"1em"},h6:{fontSize:"2em",fontWeight:400,fontFamily:["Cormorant Garamond","cursive"].join(",")}}}),a=Object(h.a)((function(e){var t;return{box:(t={background:"none",color:"#fff",padding:e.spacing(3)},Object(p.a)(t,e.breakpoints.down("sm"),{maxWidth:"90vw"}),Object(p.a)(t,e.breakpoints.up("md"),{maxWidth:"70vw"}),Object(p.a)(t,e.breakpoints.up("lg"),{maxWidth:"60vw"}),Object(p.a)(t,"textAlign","center"),Object(p.a)(t,"marginLeft","auto"),Object(p.a)(t,"marginRight","auto"),Object(p.a)(t,"maxHeight","100vh"),Object(p.a)(t,"overflow","auto"),t)}})),i=Object(n.useState)(!1),o=Object(m.a)(i,2),c=o[0],s=o[1],l=a();return c?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{theme:t},r.a.createElement(x.a,{className:l.box},r.a.createElement(b.a,null),r.a.createElement(x.a,{p:1.5}),r.a.createElement(d.a,{variant:"h2"},"CITYSCOPE"),r.a.createElement(d.a,{variant:"h2"},"Champs-\xc9lys\xe9es "),r.a.createElement(x.a,{p:3}),e.readyState?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(d.a,{variant:"caption"},"Loading CityScope...")):r.a.createElement("div",{onClick:function(t){t.preventDefault(),s(!0),e.setStartSceneState(!0)}},r.a.createElement(k,null)),r.a.createElement(x.a,{p:3}),r.a.createElement(d.a,{variant:"subtitle1"},r.a.createElement("b",null,"Virtual CityScope Champs-\xc9lys\xe9es is an interactive and immersive platform to explore the future of Paris\u2019 most important street."," "),"CityScope Champs-\xc9lys\xe9es is a tangible user interface for urban planning and decision-making. It was designed as part of an exhibition at the Pavillon de l'Arsenal in Paris, France. The exhibition, curated by PCA-STREAM, explores new plans and future interventions for the Champs \xc9lys\xe9es Avenue. These plans include options for reduced traffic, encouraged walkability, improved cycling and pedestrian mobility, and improved access to cultural landmarks and amenities along the avenue. Due to COVID-19 and the forced shutdown of the exhibition, we have decided to move this exhibition online."),r.a.createElement(x.a,{p:3}),r.a.createElement(T.a,{container:!0,spacing:5},r.a.createElement(T.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(d.a,{variant:"h6"},"CityScope Champs-Elys\xe9es"),r.a.createElement(d.a,{variant:"caption"},"in Pavillon de l'Arsenal, Paris"),r.a.createElement(x.a,{p:1}),r.a.createElement("div",null,r.a.createElement(d.a,{variant:"caption"},"Arnaud Grignard, Nicolas Ayoub, Luis Alonso, Ariel Noyman, Markus Elkatsha, Maggie Church, Kent Larson")),r.a.createElement("div",null,r.a.createElement(d.a,{variant:"caption"},"Gama Platform: Tri Nguyen-Huu (IRD), Patrick Taillandier (INRA), Alexis Drogoul (IRD)"))),r.a.createElement(T.a,{item:!0,xs:12,md:6,lg:6},r.a.createElement(d.a,{variant:"h6"},"Virtual CityScope"),r.a.createElement(x.a,{p:1}),r.a.createElement(d.a,{variant:"caption"},"Ariel Noyman, Arnaud Grignard, Nicolas Ayoub, Tri Nguyen-Huu, Luis Alonso, Kent Larson"))),r.a.createElement(x.a,{p:2}),r.a.createElement(M,null))),r.a.createElement(_,{youtubeId:"MVhauHKiEPA"}))})),R=a(43),F=a(251),I=a(247);function P(e){var t=Object(h.a)((function(t){return{root:{width:30,height:12,padding:0,margin:t.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:t.palette.common.white,"& + $track":{backgroundColor:e.knobcolor||"#888",opacity:1}},"&$focusVisible $thumb":{color:"#888",border:"1px solid #FFF"}},thumb:{width:10,height:10},track:{borderRadius:15,backgroundColor:"#FFF3",opacity:1},checked:{},focusVisible:{}}}))();return r.a.createElement(I.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},e))}var D=a(210),W=a(130),V=a.n(W),B=a(250),U=a(256),z=a(127),G=a.n(z),H=a(126),Z=a.n(H),Y={audioIconWrapper:{color:"rgba(255,255,255)",width:30,height:30,padding:0}},q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={playing:!1},e.handlePause=function(){e.setState({playing:!1})},e.handlePlay=function(){e.setState({playing:!0})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,e.state.playing?r.a.createElement(D.a,{onClick:e.handlePause},r.a.createElement(Z.a,{style:Y.audioIconWrapper})):r.a.createElement(D.a,{onClick:e.handlePlay},r.a.createElement(G.a,{style:Y.audioIconWrapper})),r.a.createElement(j.a,{url:"resources/audio/ace.mp3",playing:this.state.playing,controls:!1,loop:!0,width:"0em",height:"0em"}))}}]),a}(n.Component),K=a(128),X=a.n(K),Q=a(248),$=a(140),J=Object(f.a)({overrides:{MuiCssBaseline:{"@global":{"*":{"scrollbar-width":"thin"},"*::-webkit-scrollbar":{width:"5px",height:"10px"}}}},palette:{textPrimary:{main:"white"}},typography:{h2:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"3em"},h3:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"2em"},subtitle1:{fontFamily:'"Roboto","Cormorant Garamond", "sans-serif"',fontSize:"1.25em"}}}),ee=Object(h.a)((function(e){return{paper:{color:"white",background:"rgba(0,0,0,0.9)",marginBottom:"0em",overflow:"auto",padding:"3em"}}}));function te(){var e=ee(),t=r.a.useState(!1),a=Object(m.a)(t,2),n=a[0],i=a[1];return r.a.createElement(g.a,{theme:J},r.a.createElement("div",null,r.a.createElement(X.a,{type:"button",style:{color:"white"},onClick:function(){i(!0)}}),r.a.createElement(b.a,null),r.a.createElement(Q.a,{open:n,onClose:function(){i(!1)},id:"modal"},r.a.createElement($.a,{className:e.paper},r.a.createElement(d.a,{variant:"h2"},"CityScope Champs-\xc9lys\xe9es"),r.a.createElement(x.a,{p:3}),r.a.createElement(d.a,{variant:"subtitle1"},r.a.createElement("b",null,"Virtual CityScope Champs-\xc9lys\xe9es is an interactive and immersive platform to explore the future of Paris\u2019 most important street."," "),"CityScope Champs-\xc9lys\xe9es is a tangible user interface for urban planning and decision-making. It was designed as part of an exhibition at the Pavillon de l'Arsenal in Paris, France. The exhibition, curated by PCA-STREAM, explores new plans and future interventions for the Champs \xc9lys\xe9es Avenue. These plans include options for reduced traffic, encouraged walkability, improved cycling and pedestrian mobility, and improved access to cultural landmarks and amenities along the avenue. Due to COVID-19 and the forced shutdown of the exhibition, we have decided to move this exhibition online."),r.a.createElement(x.a,{p:3}),r.a.createElement(d.a,{variant:"subtitle1"},r.a.createElement("p",null,r.a.createElement(d.a,{variant:"h3"},"CityScope Champs-Elys\xe9es")),r.a.createElement("p",null,"MIT City Science Team: Arnaud Grignard, Nicolas Ayoub, Luis Alonso, Ariel Noyman, Markus Elkatsha, Maggie Church, Kent Larson"),r.a.createElement("p",null,"Gama Platform Team: Tri Nguyen-Huu (IRD), Patrick Taillandier (INRA), Alexis Drogoul (IRD)"),r.a.createElement(d.a,{variant:"h3"},"Virtual CityScope Champs-Elys\xe9es"),r.a.createElement("p",null,"Ariel Noyman, Arnaud Grignard, Nicolas Ayoub, Luis Alonso, Tri Nguyen-Huu, Kent Larson"),r.a.createElement(x.a,{p:3}))))))}var ae=a(260),ne=a(255),re=a(261),ie=a(253),oe=a(259),ce=a(257);a(171);function se(e){var t=Object(h.a)({root:{position:"fixed",bottom:"10em",right:"3em",zIndex:9999,maxWidth:"20em"}}),a=Object(f.a)({palette:{textPrimary:{main:"white"}},typography:{h5:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"3em",fontWeight:"300",color:"white",textShadow:"0em 0em 0.2em #000"}}}),i=t(),o=r.a.useState(e),c=Object(m.a)(o,2),s=c[0],l=c[1];Object(n.useEffect)((function(){e.thisToggleName&&(l(!0),setTimeout((function(){l(!1)}),5e3))}),[e.thisToggleName]);var u=function(){var t=e.thisToggleName;if(e.scenarioSwitch)switch(t){case"parks":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"+49% parks area, -4\xbaC on sidewalks"));case"culturalBuildings":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"+20 new leisure types, +585% in resting areas"));case"cars":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"-51% cars, -48% air pollution"));case"bicycles":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"+66% cyclists, -24% vehicles"));case"pedestrians":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"+23% pedestrians, +29% pathways"));default:return r.a.createElement(r.a.Fragment,null)}else switch(t){case"parks":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"75500m\xb2 of parks"));case"culturalBuildings":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"6 leisure types, 7300m\xb2 of relaxation space"));case"cars":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"33% mobility, 318,670 gCO2/Km"));case"bicycles":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"2% bike based mobility, 10,250 vehicles/h"));case"pedestrians":return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5"},"60% pedestrian, 257,000m\xb2 pathways"));default:return r.a.createElement(r.a.Fragment,null)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(g.a,{theme:a},r.a.createElement("div",{className:" ".concat(s?"show":"hide")},r.a.createElement("div",{className:i.root},r.a.createElement(u,null)))))}a(172);function le(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),i=a[0],o=a[1];return r.a.createElement("label",{className:"Toggle ".concat(i?"Toggle--checked":"")},r.a.createElement("input",{name:e.name,id:e.name,type:"checkbox",value:i,onChange:function(){return o(!i)}}),r.a.createElement("div",{className:"Toggle__slider"}),r.a.createElement("small",{className:"Toggle__text"},"2020"),r.a.createElement("small",{className:"Toggle__text"},"2040"))}var ue=a(252);var me={listenToMenuUI:function(e){return{type:"MENU_INTERACTION",data:e}}},pe=Object(v.b)((function(e){return{toggleStates:e.MENU_INTERACTION}}),me)((function(e){var t="#84ff03",a="#fe01fe",n="#fc0303",i="#03bafc",o="#FFF7",c=Object(f.a)({palette:{textPrimary:{main:"white"}},typography:{body1:{fontFamily:'"Roboto", "sans-serif"',fontSize:"1em"},h5:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"3em",fontWeight:"300"},h6:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"1.8em",fontWeight:"400"},h3:{fontFamily:'"Roboto", "sans-serif"',fontSize:"1.5em"},caption:{fontFamily:'"Roboto", "sans-serif"',fontSize:"1em"}}}),s=Object(h.a)((function(){return{dividerColor:{backgroundColor:"white"},checked:{},radio:{"&$checked":{color:"#fff"}},toolBar:{alignItems:"end"},title:{flexGrow:2},appBar:{background:"rgba(0,0,0,0.7)",color:"white",transition:c.transitions.create(["margin","width"],{easing:c.transitions.easing.sharp,duration:c.transitions.duration.leavingScreen})},menuIconWrapper:{color:"rgba(255,255,255)",position:"fixed",bottom:"1em",right:"1em",zIndex:9999},LogoWrapper:{position:"fixed",bottom:"1em",left:"1em",zIndex:1},largeIcon:{width:40,height:40},appBarShift:{width:"calc(100% - ".concat(300,"px)"),marginLeft:300,transition:c.transitions.create(["margin","width"],{easing:c.transitions.easing.easeOut,duration:c.transitions.duration.enteringScreen})},hide:{display:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{background:"rgba(0,0,0,0)",width:300,height:"100%"}}})),l=function(e){var t;L(Object(R.a)({},T,(t={},Object(p.a)(t,e,!T[e]),Object(p.a)(t,"thisToggleName",T[e]?null:e),t)))},u=r.a.useState("animateCamera"),v=Object(m.a)(u,2),w=v[0],E=v[1],y=s(),S=r.a.useState(!0),C=Object(m.a)(S,2),k=C[0],O=C[1],j=r.a.useState(!0),_=Object(m.a)(j,1)[0],T=e.toggleStates,L=e.listenToMenuUI;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(g.a,{theme:c},r.a.createElement(se,{thisToggleName:T.thisToggleName,scenarioSwitch:T.scenarioSwitch}),r.a.createElement(U.a,{title:"Toggle Options",placement:"top"},r.a.createElement(D.a,{className:y.menuIconWrapper,variant:"outlined",onClick:k?function(){O(!1)}:function(){O(!0)}},r.a.createElement(V.a,{className:y.largeIcon}))),r.a.createElement("div",{className:y.LogoWrapper},r.a.createElement(M,null)),r.a.createElement(ce.a,{className:y.drawer,variant:"persistent",anchor:"left",open:k,classes:{paper:y.drawerPaper}},r.a.createElement(B.a,{timeout:500,in:_},r.a.createElement(F.a,{position:"static",className:y.appBar},r.a.createElement(x.a,{p:1}),r.a.createElement(ae.a,null,r.a.createElement(d.a,{variant:"h5"},"CityScope")),r.a.createElement(ae.a,null,r.a.createElement(d.a,{variant:"h6"},"Champs-\xc9lys\xe9es")),r.a.createElement(ae.a,null,r.a.createElement("div",{onChange:function(){l("scenarioSwitch")},name:"scenarioSwitch",checked:T.scenarioSwitch},r.a.createElement(le,{onChange:function(){l("scenarioSwitch")},name:"scenarioSwitch",checked:T.scenarioSwitch}))),r.a.createElement(x.a,{p:1}),r.a.createElement(ue.a,{classes:{root:y.dividerColor}}),r.a.createElement(ae.a,null,r.a.createElement(d.a,{variant:"h6"},"select view")),r.a.createElement(ae.a,null,r.a.createElement(oe.a,{component:"fieldset"},r.a.createElement(re.a,{"aria-label":"camera",name:"camera",onChange:function(e){E(e.target.value),L(Object(R.a)({},T,{cameraScene:e.target.value}))},value:w},r.a.createElement(ie.a,{value:"animateCamera",control:r.a.createElement(ne.a,{classes:{root:y.radio}}),label:r.a.createElement(d.a,null,"Animate Camera")}),r.a.createElement(ie.a,{value:"radarCamera",control:r.a.createElement(ne.a,{classes:{root:y.radio}}),label:r.a.createElement(d.a,null,"Urban Metrics")}),r.a.createElement(ie.a,{value:"Triomphe",control:r.a.createElement(ne.a,{classes:{root:y.radio}}),label:r.a.createElement(d.a,null,"Arc de Triomphe")}),r.a.createElement(ie.a,{value:"Champs",control:r.a.createElement(ne.a,{classes:{root:y.radio}}),label:r.a.createElement(d.a,null,"Avenue des Champs-\xc9lys\xe9es")}),r.a.createElement(ie.a,{value:"Palais",control:r.a.createElement(ne.a,{classes:{root:y.radio}}),label:r.a.createElement(d.a,null,"Grand & Petit Palais")}),r.a.createElement(ie.a,{value:"Concorde",control:r.a.createElement(ne.a,{classes:{root:y.radio}}),label:r.a.createElement(d.a,null,"Place de la Concorde")})))),r.a.createElement(ue.a,{classes:{root:y.dividerColor}}),r.a.createElement(ae.a,null,r.a.createElement(d.a,{variant:"h6"},"layers")),r.a.createElement(ae.a,null,r.a.createElement(P,{knobcolor:t,checked:T.parks,onChange:function(){return l("parks")},name:"parks"}),r.a.createElement(d.a,{variant:"caption"},"parks")),r.a.createElement(ae.a,null,r.a.createElement(P,{knobcolor:a,checked:T.culturalBuildings,onChange:function(){return l("culturalBuildings")},name:"culturalBuildings"}),r.a.createElement(d.a,{variant:"caption"},"cultural")),r.a.createElement(ae.a,null,r.a.createElement(P,{knobcolor:n,checked:T.cars,onChange:function(){return l("cars")},name:"cars"}),r.a.createElement(d.a,{variant:"caption"},"cars")),r.a.createElement(ae.a,null,r.a.createElement(P,{knobcolor:i,checked:T.bicycles,onChange:function(){return l("bicycles")},name:"bicycles"}),r.a.createElement(d.a,{variant:"caption"},"bicycles")),r.a.createElement(ae.a,null,r.a.createElement(P,{knobcolor:o,checked:T.pedestrians,onChange:function(){return l("pedestrians")},name:"pedestrians"}),r.a.createElement(d.a,{variant:"caption"},"pedestrians")),r.a.createElement(ue.a,{classes:{root:y.dividerColor}}),r.a.createElement(ae.a,null,r.a.createElement(d.a,{variant:"h6"},"settings")),r.a.createElement(ae.a,null,r.a.createElement(q,null),r.a.createElement(d.a,{variant:"caption"},'"Aux Champs Elys\xe9es" by Arthur Des Ligneris')),r.a.createElement(ae.a,null,r.a.createElement(P,{checked:T.metricsObjSwitch,onChange:function(){return l("metricsObjSwitch")},name:"metricsObjSwitch"}),r.a.createElement(d.a,{variant:"caption"},"toggle metrics")),r.a.createElement(ae.a,null,r.a.createElement(P,{checked:T.cityModelSwitch,onChange:function(){return l("cityModelSwitch")},name:"cityModelSwitch"}),r.a.createElement(d.a,{variant:"caption"},"toggle 3D model")),r.a.createElement(ae.a,null,r.a.createElement(P,{checked:T.quality,onChange:function(){return l("quality")},name:"quality"}),r.a.createElement(d.a,{variant:"caption"},"render quality (for fast devices)")),r.a.createElement(ae.a,null,r.a.createElement(D.a,null,r.a.createElement(te,null)),r.a.createElement(d.a,{variant:"caption"},"information")),r.a.createElement(x.a,{p:5}))))))})),he=a(12),de=a.n(he),fe=a(22),ge=a(2),be=a(20),ve=a(131),we=a(138),Ee=a(96),ye=a(132),Se=a(55),Ce=a(9),ke=function(e,t){var a=function(e,t){e.traverse((function(e){(e instanceof ge.Mesh||e instanceof ge.Sprite)&&(e.visible=t)}))};e&&(t?(a(e,t),e.position.y=2*e.Y_Value,new be.a.Tween(e.position).to({y:e.Y_Value},1e3).easing(be.a.Easing.Quadratic.Out).start()):new be.a.Tween(e.position).to({y:2*e.Y_Value},1e3).easing(be.a.Easing.Quadratic.Out).start().onComplete((function(){a(e,t),e.position.y=e.Y_Value})))},xe=function(){var e=Object(fe.a)(de.a.mark((function e(){var t,a,n,r,i,o,c;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re("./resources/textures/shadowmap.png");case 2:return t=e.sent,(a=new ge.Color).setHSL(0,0,.5),n=new ge.MeshPhongMaterial({color:a}),r=new ge.MeshPhongMaterial({map:t,color:a}),i=[n,n,r,n,n,n],t.minFilter=ge.LinearFilter,(o=new ge.BoxBufferGeometry(1.57,.7,.92)).translate(0,.35,0),(c=new ge.Mesh(o,i)).castShadow=!0,c.receiveShadow=!0,c.name="pedestalMesh",e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(fe.a)(de.a.mark((function e(){var t,a,n,r,i,o,c;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re("./resources/textures/radar/rb.jpg");case 2:return t=e.sent,e.next=5,Re("./resources/textures/radar/ra.jpg");case 5:return a=e.sent,(n=new ge.Color).setHSL(0,0,.5),(r=new ge.MeshStandardMaterial({name:"radarMaterial",color:n,userData:{radarBeforeText:t,radarAfterText:a},map:t,metalness:.2,roughness:10})).side=ge.DoubleSide,i=[!1,r,!1,!1,r,r],t.minFilter=ge.LinearFilter,o=new ge.BoxBufferGeometry(1.57,1.57,.002),(c=new ge.Mesh(o,i)).position.set(0,1.8,0),c.Y_Value=1.8,c.castShadow=!1,c.receiveShadow=!1,c.name="metricsObj",e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(fe.a)(de.a.mark((function e(){var t,a,n,r;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ce.f.ppl,(a=new ge.Color).setHSL(0,0,.2),n=new ge.MeshLambertMaterial({color:a}),e.next=6,Ae(t);case 6:return(r=e.sent).name="people",r.traverse((function(e){e.material=n,e.scale.set(.95,.95,.95),e.position.set(0,.01,0),e.castShadow=!0})),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(fe.a)(de.a.mark((function e(){var t,a,n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new ge.Object3D).name="landscapeModelsWrapper",a=de.a.mark((function e(a){var n,r,i,o;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ce.d[a].URL,r=Ce.d[a].color,i=Ce.d[a].position,o=Ce.d[a].scale,e.next=6,Ae(n).then((function(e){t.add(e),e.name=a,e.scale.set(o,o,o),e.Y_Value=i[1],e.rotation.set(0,.4625123,0),e.traverse((function(e){e.material=new ge.MeshPhongMaterial({color:new ge.Color("hsl"+r)}),e.position.set(i[0],i[1],i[2])}))}));case 6:case"end":return e.stop()}}),e)})),e.t0=de.a.keys(Ce.d);case 4:if((e.t1=e.t0()).done){e.next=9;break}return n=e.t1.value,e.delegateYield(a(n),"t2",7);case 7:e.next=4;break;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(e,t,a,n,r){var i=.45,o=0,c=.1,s=new ye.a(a,n),l=new we.a(new ge.Vector2(e,t),1,.4,.85);l.threshold=o,l.strength=i,l.radius=c;var u=new Ee.a(r);u.renderToScreen=!1,u.addPass(s),u.addPass(l);var m=new Se.a(new ge.ShaderMaterial({uniforms:{baseTexture:{value:null},bloomTexture:{value:u.renderTarget2.texture}},vertexShader:Fe().vertex,fragmentShader:Fe().frag}),"baseTexture");m.needsSwap=!0;var p=new Ee.a(r);return p.addPass(s),p.addPass(m),{bloomComposer:u,finalComposer:p}},Le=function(){var e=Object(fe.a)(de.a.mark((function e(){var t,a,n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in(t=new ge.Object3D).name="agentsWrapper",a=function(e){var a=Ce.h[e].URL;fetch(a).then((function(e){return e.json()})).then((function(a){var n=Me(a,e);n.name=e,n.trips=a,n.position.y=.705,n.Y_Value=.705,t.add(n)})).catch((function(e){return console.error(e)}))},Ce.h)a(n);return t.rotation.set(0,.4625123,0),t.position.set(-822*Math.cos(.4625123)/2e3-.785,0,822*Math.sin(.4625123)/2e3-.46+.0095),t.rotation.set(0,.4625123,0),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(e,t){var a=new ge.Color;a.setHSL(Ce.h[t].color.h,Ce.h[t].color.s,Ce.h[t].color.l);var n=(new ge.TextureLoader).load("./resources/textures/agent.png");n.minFilter=ge.LinearFilter;for(var r=new ge.Object3D,i=0;i<e.length;i++){var o=new ge.SpriteMaterial({map:n,transparent:!0}),c=new ge.Sprite(o);c.material.color=a,c.material.blending=ge.AdditiveBlending,c.material.transparent=!0,c.scale.set(.03,.03,.03),c.position.set(0,0,0),r.add(c)}return r},Ne=function(){var e=Object(fe.a)(de.a.mark((function e(){var t,a,n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(Ce.b);case 2:return t=e.sent,(a=new ge.Color).setHSL(0,0,.3),n=new ge.MeshPhongMaterial({color:a}),t.name="cityModel",t.scale.set(505e-6,505e-6,505e-6),t.position.set(-.0055,.7,0),t.Y_Value=.7,t.rotation.set(0,.4625123,0),t.traverse((function(e){e.material=n})),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(fe.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){(new ve.a).load(t,e)})).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(fe.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){(new ge.TextureLoader).load(t,e)})).then((function(e){return e.minFilter=ge.LinearFilter,e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){return{vertex:"\n    varying vec2 vUv;\n       void main() {\n           vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    ",frag:" \n    uniform sampler2D baseTexture;\n    uniform sampler2D bloomTexture;\n    varying vec2 vUv;\n    vec4 getTexture( sampler2D texelToLinearTexture ) {\n        return mapTexelToLinear( texture2D( texelToLinearTexture , vUv ) );\n    }\n    void main() {\n        gl_FragColor = ( getTexture( baseTexture ) + vec4( 1.0 ) * getTexture( bloomTexture ) );\n    }"}},Ie=function(){var e=Object(fe.a)(de.a.mark((function e(t){var a,n,r,i,o,c,s,l,u;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=15,n=15,r="./resources/textures/floor/",e.next=5,Re(r+"WOOD_SML.jpg");case 5:return i=e.sent,e.next=8,Re(r+"GLOSS.jpg");case 8:return o=e.sent,e.next=11,Re(r+"WOOD_DISP.jpg");case 11:return c=e.sent,e.next=14,Re(r+"NRM.jpg");case 14:return s=e.sent,i.anisotropy=t.capabilities.getMaxAnisotropy(),i.wrapS=ge.RepeatWrapping,i.wrapT=ge.RepeatWrapping,i.repeat.set(a,n),s.anisotropy=t.capabilities.getMaxAnisotropy(),s.wrapS=ge.RepeatWrapping,s.wrapT=ge.RepeatWrapping,s.repeat.set(a,n),o.anisotropy=t.capabilities.getMaxAnisotropy(),o.wrapS=ge.RepeatWrapping,s.wrapT=ge.RepeatWrapping,o.repeat.set(a,n),c.minFilter=ge.LinearFilter,c.anisotropy=t.capabilities.getMaxAnisotropy(),c.wrapS=ge.RepeatWrapping,c.wrapT=ge.RepeatWrapping,c.repeat.set(a,n),l=new ge.MeshStandardMaterial({aoMap:o,aoMapIntensity:1,color:16777215,map:i,metalnessMap:i,displacementMap:c,displacementScale:.1,normalMap:s,metalness:5,roughness:.5}),50,(u=new ge.Mesh(new ge.PlaneBufferGeometry(50,50),l)).receiveShadow=!0,u.rotation.x=-.5*Math.PI,u.position.y=0,u.position.z=0,e.abrupt("return",u);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=a(133),De=a.n(Pe),We=a(174),Ve=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e))._init=Object(fe.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.ioClient=We.connect("http://18.27.79.192:8080/"),n.ioClient.on("welcome",(function(e){console.log(e),n.setState({socket:!0})})),n.shpContainer=new ge.Object3D,e.t0=n._sceneSetup(),e.next=6,Ne().then((function(e){return n.scene.add(e)}));case 6:return e.t1=e.sent,e.next=9,_e().then((function(e){n.scene.add(e)}));case 9:return e.t2=e.sent,e.next=12,Ie(n.renderer).then((function(e){n.scene.add(e)}));case 12:return e.t3=e.sent,e.next=15,xe().then((function(e){return n.scene.add(e)}));case 15:return e.t4=e.sent,e.next=18,Oe().then((function(e){return n.scene.add(e)}));case 18:return e.t5=e.sent,e.next=21,je().then((function(e){return n.scene.add(e)}));case 21:return e.t6=e.sent,e.next=24,Le().then((function(e){n.agentWrapper=e,n.scene.add(n.agentWrapper)}));case 24:e.t7=e.sent,e.t0.then.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7).then(n.setState({loading:!1}),n.props.setLoadingState(n.state.loading),n.startAnimationLoop());case 26:case"end":return e.stop()}}),e)}))),n._sceneSetup=Object(fe.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.scene=new ge.Scene,n.scene.dispose(),n.camera=new ge.PerspectiveCamera(50,n.width/n.height,.01,1e3),n.camera.position.z=-4,n.camera.position.x=0,n.camera.position.y=2,n.controls=new De.a(n.camera,n.mountingDiv),n.controls.maxDistance=7,n.controls.minDistance=.5,n.camera.lookAt(new ge.Vector3(0,1.25,0)),n.controls.target.set(0,.9,0),n.renderer=new ge.WebGLRenderer({antialias:!0,alpha:!0}),n.renderer.dispose(),n.renderer.setPixelRatio(window.devicePixelRatio),n.renderer.shadowMap.enabled=!0,n.renderer.toneMapping=ge.ReinhardToneMapping,n.renderer.setSize(n.width,n.height),n.mountingDiv.appendChild(n.renderer.domElement),n.whiteLight1=new ge.PointLight(16777215,4,1),n.whiteLight1.name="whiteLight",n.whiteLight1.position.set(0,1.5,-.5),n.whiteLight1.intensity=Ce.e.w1.low,n.whiteLight2=new ge.PointLight(16777215,4,1),n.whiteLight2.name="whiteLight",n.whiteLight2.position.set(0,1.5,.5),n.whiteLight2.intensity=Ce.e.w2.low,n.orangeLight=new ge.PointLight(15884545,0,100),n.orangeLight.intensity=Ce.e.orange.low,n.orangeLight.name="orangeLight",n.orangeLight.position.set(-1,2,-1),n.orangeLight.castShadow=!0,n.orangeLight.shadow.radius=2,n.blueLight=new ge.PointLight(29116,0,100),n.blueLight.intensity=Ce.e.blue.low,n.blueLight.name="this.blueLight",n.blueLight.position.set(1,2,1),n.blueLight.castShadow=!0,n.blueLight.shadow.radius=2,n.lightsWrapper=new ge.Object3D,n.lightsWrapper.name="lightsWrapper",n.lightsWrapper.add(n.whiteLight1,n.whiteLight2,n.orangeLight,n.blueLight),n.scene.add(n.lightsWrapper),t=Te(n.width,n.height,n.scene,n.camera,n.renderer),n.bloomComposer=t.bloomComposer,n.finalComposer=t.finalComposer,n.socketUsersContainer=new ge.Object3D,n.scene.add(n.socketUsersContainer);case 47:case"end":return e.stop()}}),e)}))),n._animateAgents=function(){var e=n.state.timeCounter;n.agentWrapper.children.forEach((function(t){for(var a=0;a<t.trips.length;a++)if(t.trips[a].path[e]){var n=t.trips[a].path[e];t.children[a].position.set(n[0],0,n[1])}})),n.setState({timeCounter:n.state.timeCounter<Ce.g?n.state.timeCounter+n.state.simSpeed:0})},n.handleWindowResize=function(){var e=n.mountingDiv.clientWidth,t=n.mountingDiv.clientHeight;n.renderer.setSize(e,t),n.bloomComposer.setSize(e,t),n.finalComposer.setSize(e,t),n.camera.aspect=e/t,n.camera.updateProjectionMatrix()},n._handleVis=function(e){e!==n.props&&function(){var t=n.props.menuInteraction,a=t.scenarioSwitch,r=t.parks,i=t.culturalBuildings,o=t.cars,c=t.bicycles,s=t.pedestrians,l=t.quality,u=t.cityModelSwitch,m=t.metricsObjSwitch,p=n.scene.getObjectByName("cityModel"),h=n.scene.getObjectByName("trips_car_before"),d=n.scene.getObjectByName("trips_car_after"),f=n.scene.getObjectByName("trips_pedestrians_before"),g=n.scene.getObjectByName("trips_pedestrians_after"),b=n.scene.getObjectByName("trips_bike_before"),v=n.scene.getObjectByName("trips_bike_after"),w=n.scene.getObjectByName("parks_before"),E=n.scene.getObjectByName("parks_after"),y=n.scene.getObjectByName("cultural_before"),S=n.scene.getObjectByName("cultural_after"),C=n.scene.getObjectByName("metricsObj");for(var k in e.menuInteraction)if(e.menuInteraction[k]!==n.props.menuInteraction[k])switch(k){case"scenarioSwitch":[n.blueLight,n.orangeLight].forEach((function(e){new be.a.Tween(e.position).to({x:-e.position.x,z:-e.position.z},2e3).easing(be.a.Easing.Quadratic.Out).onUpdate((function(){})).start()})),ke(w,r),ke(E,a&&r),ke(y,i),ke(S,a&&i),ke(h,!a&&o),ke(d,a&&o),ke(b,!a&&c),ke(v,a&&c),ke(f,!a&&s),ke(g,a&&s),new be.a.Tween(C.rotation).to({x:0,y:a?-3.14159:3.14159,z:0},2e3).easing(be.a.Easing.Cubic.InOut).start().onStart((function(){C.material.forEach((function(e){e&&(e.map=a?e.userData.radarAfterText:e.userData.radarBeforeText,e.map.needsUpdate=!0)}))}));break;case"metricsObjSwitch":ke(C,m);break;case"parks":ke(w,r),ke(E,a&&r);break;case"culturalBuildings":ke(y,i),ke(S,a&&i);break;case"cars":ke(h,!a&&o),ke(d,a&&o);break;case"bicycles":ke(b,!a&&c),ke(v,a&&c);break;case"pedestrians":ke(f,!a&&s),ke(g,a&&s);break;case"quality":n.setState({renderer:l}),l?(n.blueLight.intensity=Ce.e.blue.high,n.orangeLight.intensity=Ce.e.orange.high,n.whiteLight1.intensity=Ce.e.w1.high,n.whiteLight2.intensity=Ce.e.w2.high):(n.blueLight.intensity=Ce.e.blue.low,n.orangeLight.intensity=Ce.e.orange.low,n.whiteLight1.intensity=Ce.e.w1.low,n.whiteLight2.intensity=Ce.e.w2.low);break;case"cityModelSwitch":ke(p,!!u);break;case"cameraScene":var x=n.props.menuInteraction.cameraScene;if("animateCamera"===x)break;!function(){var e=Ce.a[x].camPos,t=Ce.a[x].lookAt,a=new ge.Vector3(t[0],t[1],t[2]);new be.a.Tween(n.camera.position).to({x:e[0],y:e[1],z:e[2]},1e3).easing(be.a.Easing.Quadratic.Out).onUpdate((function(){n.camera.lookAt(a)})).start()}()}}()},n._chooseRenderer=function(){n.state.renderer?(n.bloomComposer.render(),n.finalComposer.render()):n.renderer.render(n.scene,n.camera)},n._cameraState=function(){"animateCamera"===n.props.menuInteraction.cameraScene?(n.theta<36e3?n.theta+=n.cameraSpeed:n.theta=0,n.camera.position.x=Math.sin(n.theta/100)+n.radius*Math.sin(ge.MathUtils.degToRad(n.theta)),n.camera.position.y=1.5,n.camera.position.z=Math.sin(n.theta/100)+n.radius*Math.cos(ge.MathUtils.degToRad(n.theta)),n.camera.lookAt(new ge.Vector3(0,1.25,0)),n.camera.updateMatrixWorld()):function(e){if(e){var t=e.position;t.y<.3&&(t.y=.3),t.y>4&&(t.y=4)}}(n.camera),n.state.socket&&n.ioClient.emit("position",n.camera.position)},n._displayUsers=function(){n.ioClient.on("users",(function(e){for(var t in e)if(t!==n.ioClient.id){var a=n.scene.getObjectByName(t);if(a){var r=e[t];new be.a.Tween(a.position).to({x:r.x,y:r.y,z:r.z},100).easing(be.a.Easing.Quadratic.Out).start()}else{var i=new ge.Color;i.setHSL(0,0,1);var o=(new ge.TextureLoader).load("./resources/textures/agent.png");o.minFilter=ge.LinearFilter;var c=new ge.SpriteMaterial({map:o,transparent:!0}),s=new ge.Sprite(c);s.material.color=i,s.material.blending=ge.AdditiveBlending,s.material.transparent=!0,s.scale.set(.5,.5,.5),s.name=t,n.socketUsersContainer.add(s)}}}))},n.startAnimationLoop=function(){n._displayUsers(),n._cameraState(),be.a.update(),n._animateAgents(),n._chooseRenderer(),n.requestID=window.requestAnimationFrame(n.startAnimationLoop)},n.state={socket:!1,loading:!0,timeCounter:0,simSpeed:1,trips:{},renderer:!1,past:!0,camLookAt:new ge.Vector3(0,1.25,0)},n.theta=0,n.cameraSpeed=.5,n.radius=2.5,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.width=this.mountingDiv.clientWidth,this.height=this.mountingDiv.clientHeight,window.addEventListener("resize",this.handleWindowResize),setTimeout((function(){e._init()}),500)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.requestID),window.removeEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e){this._handleVis(e)}},{key:"_onMouseUp",value:function(e){var t=new ge.Vector2,a=new ge.Raycaster;t.x=e.clientX/this.width*2-1,t.y=-e.clientY/this.height*2+1,a.setFromCamera(t.clone(),this.camera);var n=a.intersectObjects(this.scene.children);if(n[0]&&n[0].point){console.log(n[0].object);var r=n[0].point;this.controls.target.set(r),this.controls.update()}}},{key:"render",value:function(){var e=this,t=this.props.startScene;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:t?{height:"100%",position:"fixed",width:"100%",top:0,left:0,backgroundColor:"black",visibility:""}:{height:"100%",width:"100%",position:"fixed",top:0,left:0,backgroundColor:"black",visibility:"hidden"},ref:function(t){return e.mountingDiv=t}}))}}]),a}(n.Component),Be={setLoadingState:function(e){return{type:"SET_LOADING_STATE",data:e}}},Ue=Object(v.b)((function(e){return{startScene:e.START_SCENE}}),Be)(Ve),ze=a(95),Ge=a(134),He=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){ze.a.initialize("UA-164555260-1",{debug:!1,siteSpeedSampleRate:100}),ze.a.pageview(window.location.pathname+window.location.search)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,'"CityScope Champs-\xc9lys\xe9es"'),r.a.createElement("meta",{name:"description",content:"Virtual CityScope Champs-\xc9lys\xe9es is an interactive and immersive platform to explore the future of Paris\u2019 most important street."}),r.a.createElement("meta",{name:"og:url",content:"http://rechamp.media.mit.edu/"}),r.a.createElement("meta",{name:"og:title",content:"CityScope Champs-\xc9lys\xe9es"}),r.a.createElement("meta",{name:"og:description",content:"Virtual CityScope Champs-\xc9lys\xe9es is an interactive and immersive platform to explore the future of Paris\u2019 most important street."}),r.a.createElement("meta",{name:"og:image",content:"https://raw.githubusercontent.com/CityScope/CSL_Paris/master/champscope/header.jpg"}),r.a.createElement("meta",{name:"og:type",content:"website"})),r.a.createElement(Ue,{menuInteraction:this.props.menuInteraction}),this.props.showMenu?r.a.createElement(pe,null):null,r.a.createElement(A,null))}}]),a}(n.Component),Ze=Object(v.b)((function(e){return{menuInteraction:e.MENU_INTERACTION,showMenu:e.START_SCENE}}),null)(He),Ye=function(e){var t=e.children,a=e.store;return r.a.createElement(v.a,{store:a},t)},qe=a(65),Ke={LOADING:!0,START_SCENE:!1,MENU_INTERACTION:Ce.c};function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING_STATE":return Object(R.a)({},e,{LOADING:t.data});case"SET_START_SCENE":return Object(R.a)({},e,{START_SCENE:t.data});case"MENU_INTERACTION":return Object(R.a)({},e,{MENU_INTERACTION:t.data});default:return e}}var Qe=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),$e=function(){return Object(qe.b)(Xe,Qe)}(),Je=document.getElementById("root");o.a.render(r.a.createElement(Ye,{store:$e},r.a.createElement(Ze,null)),Je)},9:function(e){e.exports=JSON.parse('{"c":{"scenarioSwitch":false,"parks":true,"culturalBuildings":true,"cars":true,"bicycles":true,"pedestrians":true,"cameraScene":"animateCamera","quality":false,"cityModelSwitch":true,"metricsObjSwitch":true,"thisToggleName":""},"a":{"Triomphe":{"camPos":[-0.55,1,-0.03],"lookAt":[-0.55,0,-0.03]},"Champs":{"camPos":[-0.3,1.1,0.2],"lookAt":[-0.3,0.5,-0.3]},"Palais":{"camPos":[0.3,1.1,-0.7],"lookAt":[0.4,0.5,0.8]},"Concorde":{"camPos":[1.25,1,0],"lookAt":[-1,0.75,0]},"radarCamera":{"camPos":[0,1.8,-1.75],"lookAt":[0,1.8,0]}},"e":{"orange":{"high":0.85,"low":2.75},"blue":{"high":0.85,"low":2.75},"w1":{"high":3,"low":9},"w2":{"high":3,"low":9}},"g":500,"b":"./resources/model/city/city.obj","d":{"parks_before":{"URL":"resources/model/park/parks_before.obj","color":"(80, 100%, 20%)","position":[0.09,0.702,0.01],"scale":0.000505},"parks_after":{"URL":"resources/model/park/parks_after.obj","color":"(80, 100%, 50%)","position":[0.09,0.7015,0.01],"scale":0.000505},"cultural_before":{"URL":"resources/model/culture/culture_before.obj","color":"(312, 50%, 50%)","position":[0.3,0.695,0.08],"scale":0.036},"cultural_after":{"URL":"resources/model/culture/culture_after.obj","color":"(312, 100%, 50%)","position":[0.3,0.69,0.08],"scale":0.036}},"f":{"ppl":"resources/ppl/ppl.obj"},"h":{"trips_car_before":{"dataObj":"trips_car_before","color":{"h":1,"s":1,"l":0.3},"URL":"resources/trips/real/trips_car_before.json"},"trips_car_after":{"dataObj":"trips_car_after","color":{"h":1,"s":1,"l":0.5},"URL":"resources/trips/real/trips_car_after.json"},"trips_pedestrians_before":{"dataObj":"trips_pedestrians_before","color":{"h":0,"s":0,"l":0.85},"URL":"resources/trips/real/trips_people_before.json"},"trips_pedestrians_after":{"dataObj":"trips_pedestrians_after","color":{"h":0,"s":0,"l":1},"URL":"resources/trips/real/trips_people_after.json"},"trips_bike_before":{"dataObj":"trips_bike_before","color":{"h":0.55,"s":1,"l":0.3},"URL":"resources/trips/real/trips_bike_before.json"},"trips_bike_after":{"dataObj":"trips_bike_after","color":{"h":0.55,"s":1,"l":0.5},"URL":"resources/trips/real/trips_bike_after.json"}}}')}},[[154,1,2]]]);
//# sourceMappingURL=main.14ae9ea5.chunk.js.map