{"version":3,"sources":["components/LandingPage/LoadingSprite.js","components/LandingPage/EnterButton.js","components/LandingPage/Video.js","components/LandingPage/LandingPage.js","redux/actions.js","components/Menu/CSSwitch.js","components/Menu/HorizontalDivider.js","components/Audio.js","components/Menu/Info.js","components/Menu/Logo.js","components/Menu/OverlayMertics/OverlayMertics.js","components/Menu/Menu.js","components/ThreeScene/ThreeUtils.js","components/ThreeScene/ThreeScene.js","App.js","redux/Provider.js","redux/initialState.js","redux/reducer.js","redux/store.js","index.js"],"names":["LoadingSprite","CircularProgress","style","borderColor","color","fontWeight","theme","createMuiTheme","typography","button","fontFamily","useStyles","makeStyles","root","margin","spacing","EnterButton","classes","className","Button","variant","Video","url","playing","controls","muted","loop","width","height","mapDispatchToProps","setStartSceneState","data","type","connect","state","readyState","LOADING","props","overrides","MuiCssBaseline","palette","background","default","h2","join","fontSize","subtitle1","subtitle2","caption","h6","box","padding","breakpoints","down","maxWidth","up","useState","startScene","setStartScene","Fragment","Box","CssBaseline","p","Typography","onClick","e","preventDefault","youtubeId","CSSwitch","switchBase","transform","common","white","backgroundColor","knobcolor","opacity","border","thumb","track","borderRadius","checked","focusVisible","Switch","focusVisibleClassName","disableRipple","HorizontalDivider","borderRight","minHeight","maxHeight","audioIconWrapper","Audio","handlePause","setState","handlePlay","IconButton","this","Component","textPrimary","main","paper","marginBottom","overflow","Info","React","open","setOpen","Dialog","onClose","id","Paper","Logo","CSlogo","position","bottom","right","SvgIcon","window","xmlns","viewBox","fill","d","OverlayMertics","zIndex","h3","textShadow","bool","setValue","useEffect","thisToggleName","setTimeout","OverlayContent","listenToMenuUI","toggleStates","MENU_INTERACTION","switchColors","h5","radio","toolBar","alignItems","menuButton","title","flexGrow","appBar","menuIconWrapper","left","largeIcon","setChecked","handleToggle","toggleName","Tooltip","placement","prev","Collapse","timeout","in","AppBar","Toolbar","Grid","item","xs","sm","md","lg","ListItem","scenarioSwitch","onChange","name","metricsObjSwitch","cityModelSwitch","parks","culturalBuildings","cars","bicycles","pedestrians","FormControl","component","RadioGroup","aria-label","cameraScene","target","value","FormControlLabel","control","Radio","label","quality","_objectDisplay","object","_visability","traverse","child","THREE","visible","y","TWEEN","Tween","to","easing","Easing","Quadratic","Out","start","onComplete","_addCustomSceneObjects","a","_loadTexture","pedestalTexture","modelColor","setHSL","modelMaterial","topModelMaterial","map","materialArray","minFilter","cubeGeo","translate","pedestalMesh","castShadow","receiveShadow","_addMetricsObject","radarBeforeText","radarAfterText","userData","metalness","roughness","side","metricsMesh","_pplLoader","URL","settings","ppl","pplCol","pplMaterial","_loadOBJmodel","model","material","scale","set","_landscapeModelsLoader","landscapeModelsWrapper","modelName","modelURL","modelPos","modelscale","then","add","rotation","_setupBloom","scene","camera","renderer","params","renderScene","RenderPass","bloomPass","UnrealBloomPass","threshold","strength","radius","bloomComposer","EffectComposer","renderToScreen","addPass","finalPass","ShaderPass","uniforms","baseTexture","bloomTexture","renderTarget2","texture","vertexShader","_shaders","vertex","fragmentShader","frag","needsSwap","finalComposer","_setupAgents","tripName","agentsWrapper","fetch","res","json","tripsData","thisTripsAgents","_makeAgents","trips","catch","err","console","error","Math","cos","sin","h","s","l","spriteText","load","spritesWarpper","i","length","spriteMaterial","transparent","sprite","blending","_handelCityModel","Promise","resolve","OBJLoader","result","_createFloor","repeatX","repeatY","path","baseText","ao","displace","normalText","anisotropy","capabilities","getMaxAnisotropy","wrapS","wrapT","repeat","aoMap","aoMapIntensity","metalnessMap","displacementMap","displacementScale","normalMap","planeMesh","x","PI","z","ThreeScene","_init","shpContainer","_sceneSetup","floor","metricsObject","agentWrapper","loading","setLoadingState","startAnimationLoop","dispose","OrbitControls","mountingDiv","maxDistance","minDistance","lookAt","antialias","alpha","setPixelRatio","devicePixelRatio","shadowMap","enabled","toneMapping","setSize","appendChild","domElement","whiteLight1","intensity","w1","low","whiteLight2","w2","orangeLight","orange","shadow","blueLight","blue","lightsWrapper","postEffect","_animateAgents","time","timeCounter","children","forEach","tripsObject","pnt","simSpeed","handleWindowResize","clientWidth","clientHeight","aspect","updateProjectionMatrix","_chooseRenderer","render","_cameraState","menuInteraction","theta","cameraSpeed","degToRad","updateMatrixWorld","_blockCamera","update","requestID","requestAnimationFrame","past","camLookAt","addEventListener","cancelAnimationFrame","removeEventListener","prevProps","cityModelObject","getObjectByName","trips_car_before","trips_car_after","trips_pedestrians_before","trips_pedestrians_after","trips_bike_before","trips_bike_after","parks_before","parks_after","cultural_before","cultural_after","metricsObj","thisMenuItem","thisLight","onUpdate","Cubic","InOut","onStart","needsUpdate","high","slectedScene","newCamPos","camPos","newLookAt","mouse","ray","clientX","clientY","setFromCamera","clone","objects","intersectObjects","point","log","rayPos","displayTHREEscene","top","visibility","ref","div","START_SCENE","App","showMenu","ProviderWrapper","store","initialState","reducer","action","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","createStore","configureStore","document","getElementById","ReactDOM","Provider"],"mappings":"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","file":"static/js/main.1e653103.chunk.js","sourcesContent":["import React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nexport default function LoadingSprite() {\n    return (\n        <div>\n            <CircularProgress\n                style={{\n                    borderColor: \"#fff\",\n                    color: \"white\",\n                    fontWeight: \"bolder\",\n                }}\n            />\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n    typography: {\n        button: {\n            fontFamily: '\"Open Sans\", \"sans-serif\"',\n        },\n    },\n});\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        \"& > *\": {\n            margin: theme.spacing(1),\n        },\n    },\n}));\n\nexport default function EnterButton() {\n    const classes = useStyles();\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <div className={classes.root}>\n                <Button\n                    style={{\n                        borderColor: \"#fff\",\n                        color: \"white\",\n                        fontWeight: \"bolder\",\n                    }}\n                    variant=\"outlined\"\n                >\n                    Enter CityScope\n                </Button>\n            </div>\n        </MuiThemeProvider>\n    );\n}\n","import React from \"react\";\nimport \"./Video.css\";\nimport ReactPlayer from \"react-player\";\n\n// https://medium.com/@kevinsimper/full-width-youtube-embed-with-react-js-responsive-embed-509de7e7c3bf\n\nconst Video = () => {\n    return (\n        <div className=\"video-background\">\n            <div className=\"video-foreground\">\n                <ReactPlayer\n                    url={\"https://vimeo.com/390936231\"}\n                    playing={true}\n                    controls={false}\n                    muted\n                    loop\n                    width={\"0em\"}\n                    height={\"0em\"}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default Video;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { connect } from \"react-redux\";\nimport \"./LandingPage.css\";\nimport LoadingSprite from \"../LandingPage/LoadingSprite\";\nimport EnterButton from \"../LandingPage/EnterButton\";\nimport Box from \"@material-ui/core/Box\";\nimport Video from \"./Video\";\nimport { setStartSceneState } from \"../../redux/actions\";\nimport AppleIcon from \"@material-ui/icons/Apple\";\n\nfunction LandingPage(props) {\n    const theme = createMuiTheme({\n        overrides: {\n            MuiCssBaseline: {\n                \"@global\": {\n                    \"*\": {\n                        \"scrollbar-width\": \"thin\",\n                    },\n                    \"*::-webkit-scrollbar\": {\n                        width: \"4px\",\n                        height: \"4px\",\n                    },\n                },\n            },\n        },\n        palette: {\n            background: {\n                default: \"black\",\n            },\n            color: {\n                default: \"#fff\",\n            },\n        },\n        typography: {\n            h2: {\n                fontFamily: [\"Cormorant Garamond\", \"cursive\"].join(\",\"),\n                fontWeight: 400,\n                fontSize: \"5em\",\n            },\n            subtitle1: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontWeight: 300,\n                fontSize: \"1.5em\",\n            },\n            subtitle2: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n            },\n            caption: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"1em\",\n            },\n            h6: {\n                fontFamily: [\"Cormorant Garamond\", \"cursive\"].join(\",\"),\n            },\n        },\n    });\n\n    const useStyles = makeStyles((theme) => ({\n        box: {\n            background: \"none\",\n            color: \"#fff\",\n            padding: theme.spacing(3),\n            [theme.breakpoints.down(\"sm\")]: {\n                maxWidth: \"90vw\",\n            },\n            [theme.breakpoints.up(\"md\")]: {\n                maxWidth: \"50vw\",\n            },\n            [theme.breakpoints.up(\"lg\")]: {\n                maxWidth: \"50vw\",\n            },\n\n            textAlign: \"center\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            maxHeight: \"100vh\",\n            overflow: \"auto\",\n        },\n    }));\n\n    const [startScene, setStartScene] = useState(false);\n\n    function _enterButtonEvent(e) {\n        e.preventDefault();\n        // hook\n        setStartScene(true);\n        // redux the start\n        props.setStartSceneState(true);\n    }\n\n    const classes = useStyles();\n\n    if (!startScene) {\n        return (\n            <React.Fragment>\n                <MuiThemeProvider theme={theme}>\n                    <Box className={classes.box}>\n                        <CssBaseline />\n                        <Box p={3}></Box>\n                        <Typography variant=\"h2\">CITYSCOPE</Typography>\n                        <Typography variant=\"h2\">Champs-Élysées </Typography>\n                        <Box p={2}></Box>\n                        {props.readyState ? (\n                            <LoadingSprite />\n                        ) : (\n                            <div onClick={_enterButtonEvent}>\n                                <EnterButton />\n                            </div>\n                        )}\n                        <Box p={3}>\n                            <Typography variant=\"subtitle1\">\n                                Lorem ipsum dolor sit amet, consectetur\n                                adipiscing elit, sed do eiusmod tempor\n                                incididunt ut labore et dolore magna aliqua. Ut\n                                enim ad minim veniam, quis nostrud exercitation\n                                ullamco laboris nisi ut aliquip ex ea commodo\n                                consequat. Duis aute irure dolor in\n                                reprehenderit in voluptate velit esse cillum\n                                dolore eu fugiat nulla pariatur. Excepteur sint\n                                occaecat cupidatat non proident, sunt in culpa\n                                qui officia deserunt mollit anim id est laborum.\n                            </Typography>\n                        </Box>\n                        <Box p={3} />\n                        <Typography variant=\"h6\">\n                            Exhabition in Pavillon de l'Arsenal\n                        </Typography>\n                        <Box p={1} />\n                        <div>\n                            <AppleIcon />\n                            <div>\n                                <Typography variant=\"caption\">PCA</Typography>\n                            </div>\n                        </div>\n                        <div>\n                            <AppleIcon />\n                            <div>\n                                <Typography variant=\"caption\">GAMA</Typography>\n                            </div>\n                        </div>\n                        <div>\n                            <AppleIcon />\n                            <div>\n                                <Typography variant=\"caption\">\n                                    MIT City Science\n                                </Typography>\n                            </div>\n                        </div>\n                        <Box p={3} />\n                        <Typography variant=\"h6\">\n                            Virtual Champs-Élysées\n                        </Typography>\n                        <Box p={1} />\n                        <Typography variant=\"caption\">\n                            Ariel Noyman, Arnaud Grignard, Nicolas Ayoub, Luis\n                            Alonso, Kent Larson\n                        </Typography>\n                    </Box>\n                </MuiThemeProvider>\n                <Video youtubeId={\"MVhauHKiEPA\"} />\n            </React.Fragment>\n        );\n    } else {\n        return null;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        readyState: state.LOADING,\n    };\n};\n\nconst mapDispatchToProps = {\n    setStartSceneState: setStartSceneState,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LandingPage);\n","/**\n * ACTIONS\n */\n\nexport const SET_LOADING_STATE = \"SET_LOADING_STATE\";\nexport function setLoadingState(data) {\n    return { type: SET_LOADING_STATE, data };\n}\n\nexport const SET_START_STATE = \"SET_START_SCENE\";\nexport function setStartSceneState(data) {\n    return { type: SET_START_STATE, data };\n}\n\nexport const MENU_INTERACTION = \"MENU_INTERACTION\";\nexport function listenToMenuUI(data) {\n    return { type: MENU_INTERACTION, data };\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\n\nexport function CSSwitch(props) {\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            width: 30,\n            height: 12,\n            padding: 0,\n            margin: theme.spacing(1),\n        },\n        switchBase: {\n            padding: 1,\n            \"&$checked\": {\n                transform: \"translateX(16px)\",\n                color: theme.palette.common.white,\n                \"& + $track\": {\n                    backgroundColor: props.knobcolor || \"#888\",\n                    opacity: 1,\n                },\n            },\n            \"&$focusVisible $thumb\": {\n                color: \"#888\",\n                border: \"1px solid #FFF\",\n            },\n        },\n        thumb: {\n            width: 10,\n            height: 10,\n        },\n        track: {\n            borderRadius: 30 / 2,\n            backgroundColor: \"#FFF3\",\n            opacity: 1,\n        },\n        checked: {},\n        focusVisible: {},\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Switch\n            focusVisibleClassName={classes.focusVisible}\n            disableRipple\n            classes={{\n                root: classes.root,\n                switchBase: classes.switchBase,\n                thumb: classes.thumb,\n                track: classes.track,\n                checked: classes.checked,\n            }}\n            {...props}\n        />\n    );\n}\n","import React from \"react\";\n\nexport default function HorizontalDivider() {\n    return (\n        <div\n            style={{\n                borderRight: \"1px solid #fff3\",\n                minHeight: \"10em\",\n                maxHeight: \"100em\",\n            }}\n        ></div>\n    );\n}\n","import React, { Component } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\nimport { IconButton } from \"@material-ui/core\";\n\nconst style = {\n    audioIconWrapper: {\n        color: \"rgba(255,255,255)\",\n        width: 30,\n        height: 30,\n        padding: 0,\n    },\n};\n\nexport default class Audio extends Component {\n    state = {\n        playing: false,\n    };\n\n    handlePause = () => {\n        this.setState({ playing: false });\n    };\n\n    handlePlay = () => {\n        this.setState({ playing: true });\n    };\n\n    render() {\n        const iconSelector = () => {\n            if (this.state.playing) {\n                return (\n                    <IconButton onClick={this.handlePause}>\n                        <PauseCircleOutlineIcon\n                            style={style.audioIconWrapper}\n                        />\n                    </IconButton>\n                );\n            } else {\n                return (\n                    <IconButton onClick={this.handlePlay}>\n                        <PlayCircleOutlineIcon style={style.audioIconWrapper} />\n                    </IconButton>\n                );\n            }\n        };\n\n        return (\n            <React.Fragment>\n                {iconSelector()}\n\n                <ReactPlayer\n                    url={\"resources/audio/ace.mp3\"}\n                    playing={this.state.playing}\n                    controls={false}\n                    loop\n                    width={\"0em\"}\n                    height={\"0em\"}\n                />\n            </React.Fragment>\n        );\n    }\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { Paper } from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\n\nconst theme = createMuiTheme({\n    overrides: {\n        MuiCssBaseline: {\n            \"@global\": {\n                \"*\": {\n                    \"scrollbar-width\": \"thin\",\n                },\n                \"*::-webkit-scrollbar\": {\n                    width: \"5px\",\n                    height: \"10px\",\n                },\n            },\n        },\n    },\n    palette: {\n        textPrimary: { main: \"white\" },\n    },\n    typography: {\n        h2: {\n            fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n            fontSize: \"3em\",\n        },\n        subtitle1: {\n            fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n            fontSize: \"1.5em\",\n        },\n    },\n});\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        color: \"white\",\n        background: \"rgba(0,0,0,0.9)\",\n        marginBottom: \"0em\",\n        overflow: \"auto\",\n        padding: \"3em\",\n    },\n}));\n\nexport default function Info() {\n    const classes = useStyles();\n    // getModalStyle is not a pure function, we roll the style only on the first render\n    const [open, setOpen] = React.useState(false);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <div>\n                <InfoIcon\n                    type=\"button\"\n                    style={{ color: \"white\" }}\n                    onClick={handleOpen}\n                />\n                <CssBaseline />\n                <Dialog open={open} onClose={handleClose} id={\"modal\"}>\n                    <Paper className={classes.paper}>\n                        <Typography variant=\"h2\">\n                            CityScope Champs-Élysées\n                        </Typography>\n                        <Box p={3} />\n                        <Typography variant=\"subtitle1\">\n                            Lorem ipsum dolor sit amet, consectetur adipiscing\n                            elit, sed do eiusmod tempor incididunt ut labore et\n                            dolore magna aliqua. Ut enim ad minim veniam, quis\n                            nostrud exercitation ullamco laboris nisi ut aliquip\n                            ex ea commodo consequat. Duis aute irure dolor in\n                            reprehenderit in voluptate velit esse cillum dolore\n                            eu fugiat nulla pariatur. Excepteur sint occaecat\n                            cupidatat non proident, sunt in culpa qui officia\n                            deserunt mollit anim id est laborum. Lorem ipsum\n                            dolor sit amet, consectetur adipiscing elit, sed do\n                            eiusmod tempor incididunt ut labore et dolore magna\n                            aliqua. Ut enim ad minim veniam, quis nostrud\n                            exercitation ullamco laboris nisi ut aliquip ex ea\n                            commodo consequat. Duis aute irure dolor in\n                            reprehenderit in voluptate velit esse cillum dolore\n                            eu fugiat nulla pariatur. Excepteur sint occaecat\n                            cupidatat non proident, sunt in culpa qui officia\n                            deserunt mollit anim id est laborum. Lorem ipsum\n                            dolor sit amet, consectetur adipiscing elit, sed do\n                            eiusmod tempor incididunt ut labore et dolore magna\n                            aliqua. Ut enim ad minim veniam, quis nostrud\n                            exercitation ullamco laboris nisi ut aliquip ex ea\n                            commodo consequat. Duis aute irure dolor in\n                            reprehenderit in voluptate velit esse cillum dolore\n                            eu fugiat nulla pariatur. Excepteur sint occaecat\n                            cupidatat non proident, sunt in culpa qui officia\n                            deserunt mollit anim id est laborum. Lorem ipsum\n                            dolor sit amet, consectetur adipiscing elit, sed do\n                            eiusmod tempor incididunt ut labore et dolore magna\n                            aliqua. Ut enim ad minim veniam, quis nostrud\n                            exercitation ullamco laboris nisi ut aliquip ex ea\n                            commodo consequat. Duis aute irure dolor in\n                            reprehenderit in voluptate velit esse cillum dolore\n                            eu fugiat nulla pariatur. Excepteur sint occaecat\n                            cupidatat non proident, sunt in culpa qui officia\n                            deserunt mollit anim id est laborum.\n                        </Typography>\n                    </Paper>\n                </Dialog>\n            </div>\n        </MuiThemeProvider>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SvgIcon from \"@material-ui/core/SvgIcon\";\n\nexport default function Logo() {\n    const useStyles = makeStyles(() => ({\n        CSlogo: {\n            position: \"fixed\",\n            bottom: \"1em\",\n            right: \"1em\",\n            color: \"white\",\n            fontSize: \"4em\",\n        },\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <SvgIcon\n            className={classes.CSlogo}\n            onClick={() =>\n                window.open(\"http://cityscope.media.mit.edu/\", \"_blank\")\n            }\n\n            // window.open(\"http://cityscope.media.mit.edu/\")}\n        >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 120 120\">\n                <path\n                    fill=\"#FFF\"\n                    d=\"M 60.2 38.4 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 61.1 38.4 60.6 38.4 60.2 38.4 Z M 64 28.8 h 2.1 v 1.7 H 64 V 28.8 Z M 64 31.5 h 2.1 v 6.7 H 64 V 31.5 Z M 69.9 38.3 c -0.3 0 -0.6 0 -0.9 -0.1 c -0.3 -0.1 -0.5 -0.2 -0.7 -0.3 c -0.2 -0.1 -0.3 -0.3 -0.4 -0.6 c -0.1 -0.2 -0.2 -0.5 -0.2 -0.9 v -3.6 h -0.9 v -1.3 h 0.9 v -2.1 h 2.1 v 2.1 H 71 v 1.3 h -1.2 V 36 c 0 0.3 0.1 0.4 0.2 0.5 c 0.1 0.1 0.3 0.1 0.5 0.1 c 0.1 0 0.2 0 0.3 0 c 0.1 0 0.2 0 0.2 0 v 1.6 c -0.1 0 -0.2 0.1 -0.4 0.1 C 70.4 38.3 70.2 38.3 69.9 38.3 Z M 72.2 38.8 H 73 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.1 -0.1 0.2 -0.3 0.2 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.5 c -0.1 -0.2 -0.2 -0.5 -0.3 -0.9 l -2 -5.2 h 2.3 l 0.9 2.9 c 0.1 0.2 0.1 0.3 0.2 0.5 c 0 0.2 0.1 0.3 0.1 0.5 c 0 0.2 0.1 0.3 0.1 0.5 h 0 c 0 -0.2 0.1 -0.3 0.1 -0.5 c 0 -0.1 0.1 -0.3 0.1 -0.5 c 0 -0.2 0.1 -0.4 0.2 -0.5 l 0.9 -2.9 h 2.1 l -2.3 6.8 c -0.1 0.4 -0.3 0.7 -0.4 1 c -0.2 0.3 -0.3 0.5 -0.5 0.7 c -0.2 0.2 -0.4 0.3 -0.7 0.4 c -0.3 0.1 -0.6 0.1 -0.9 0.1 h -1.4 V 38.8 Z M 59.8 50 c -1 0 -1.8 -0.2 -2.3 -0.6 c -0.6 -0.4 -0.9 -1 -0.9 -1.8 h 2 c 0 0.3 0.2 0.6 0.4 0.7 c 0.2 0.2 0.5 0.2 0.9 0.2 c 0.3 0 0.6 -0.1 0.8 -0.2 c 0.2 -0.1 0.3 -0.3 0.3 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.4 c -0.1 -0.1 -0.2 -0.2 -0.4 -0.2 c -0.2 -0.1 -0.3 -0.1 -0.5 -0.1 c -0.2 0 -0.4 -0.1 -0.6 -0.1 c -0.3 -0.1 -0.6 -0.1 -0.9 -0.2 c -0.3 -0.1 -0.5 -0.2 -0.8 -0.3 c -0.2 -0.1 -0.4 -0.3 -0.6 -0.6 c -0.1 -0.2 -0.2 -0.6 -0.2 -1 c 0 -0.3 0.1 -0.7 0.2 -0.9 c 0.2 -0.3 0.4 -0.5 0.6 -0.7 c 0.3 -0.2 0.6 -0.3 0.9 -0.4 c 0.4 -0.1 0.7 -0.1 1.1 -0.1 c 1 0 1.7 0.2 2.2 0.6 c 0.5 0.4 0.8 0.9 0.8 1.6 h -2 c 0 -0.3 -0.2 -0.5 -0.3 -0.6 c -0.2 -0.1 -0.4 -0.2 -0.7 -0.2 c -0.3 0 -0.5 0 -0.7 0.2 c -0.2 0.1 -0.3 0.3 -0.3 0.5 c 0 0.1 0 0.2 0.1 0.3 c 0.1 0.1 0.2 0.1 0.4 0.2 c 0.1 0 0.3 0.1 0.5 0.1 c 0.2 0 0.4 0.1 0.6 0.1 c 0.3 0.1 0.6 0.1 0.9 0.2 c 0.3 0.1 0.6 0.2 0.8 0.3 c 0.2 0.2 0.5 0.4 0.6 0.6 c 0.2 0.3 0.2 0.6 0.2 1 c 0 0.4 -0.1 0.7 -0.2 1 c -0.2 0.3 -0.4 0.5 -0.6 0.7 c -0.3 0.2 -0.6 0.3 -1 0.4 C 60.6 50 60.2 50 59.8 50 Z M 66.8 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 67.8 49.9 67.3 50 66.8 50 Z M 70.7 40.4 h 2.1 v 1.7 h -2.1 V 40.4 Z M 70.7 43.1 h 2.1 v 6.7 h -2.1 V 43.1 Z M 77.2 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 78 49.9 77.6 50 77.2 50 Z M 78.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 78.3 Z M 81.2 43.1 h 2.1 V 44 h 0 c 0.3 -0.4 0.5 -0.6 0.9 -0.8 c 0.3 -0.2 0.7 -0.3 1.2 -0.3 c 0.4 0 0.7 0.1 1 0.2 c 0.3 0.1 0.5 0.3 0.7 0.5 c 0.2 0.2 0.4 0.5 0.5 0.8 c 0.1 0.3 0.2 0.7 0.2 1 v 4.4 h -2.1 v -3.9 c 0 -0.4 -0.1 -0.6 -0.3 -0.9 c -0.2 -0.2 -0.4 -0.3 -0.8 -0.3 c -0.4 0 -0.6 0.1 -0.9 0.4 c -0.2 0.3 -0.3 0.6 -0.3 1 v 3.7 h -2.1 V 43.1 Z M 92 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 92.9 49.9 92.4 50 92 50 Z M 99.1 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 99.9 49.9 99.6 50 99.1 50 Z M 100.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 100.3 Z M 0 49.9 L 0 0 M 0 0 v 49.8 h 21.3 v -7.1 H 7.1 V 7.1 h 42.7 V 0 L 0 0 Z M 14.2 14.2 v 21.3 h 28.5 v 7.1 H 28.5 v 7.1 h 21.3 V 28.5 H 21.3 v -7.1 h 28.5 v -7.1 H 14.2 Z\"\n                />\n            </svg>\n        </SvgIcon>\n    );\n}\n","import React, { useEffect } from \"react\";\nimport \"./OverlayMertics.scss\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport CommuteOutlinedIcon from \"@material-ui/icons/CommuteOutlined\";\nimport DirectionsBikeOutlinedIcon from \"@material-ui/icons/DirectionsBikeOutlined\";\nimport AccountBalanceOutlinedIcon from \"@material-ui/icons/AccountBalanceOutlined\";\nimport NaturePeopleOutlinedIcon from \"@material-ui/icons/NaturePeopleOutlined\";\nimport EmojiPeopleOutlinedIcon from \"@material-ui/icons/EmojiPeopleOutlined\";\n\n// ! https://codepen.io/rishatmuhametshin/pen/BWRzGB\n\nexport default function OverlayMertics(props) {\n    const useStyles = makeStyles({\n        root: {\n            position: \"fixed\",\n            bottom: \"25em\",\n            right: \"3em\",\n            zIndex: 9999,\n        },\n    });\n\n    const theme = createMuiTheme({\n        palette: {\n            textPrimary: { main: \"white\" },\n        },\n        typography: {\n            h3: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"5em\",\n                fontWeight: \"300\",\n                color: \"white\",\n                textShadow: \"0em 0em 0.2em #000 \",\n            },\n        },\n    });\n\n    const classes = useStyles();\n    const [bool, setValue] = React.useState(props);\n\n    // render on new props\n    useEffect(() => {\n        // only show when toggled on\n        if (props.thisToggleName) {\n            setValue(true);\n            setTimeout(() => {\n                setValue(false);\n            }, 3000);\n        }\n    }, [props.thisToggleName]);\n\n    const OverlayContent = () => {\n        switch (props.thisToggleName) {\n            case \"parks\":\n                return <Typography variant=\"h3\">Waiting for Luis</Typography>;\n            case \"culturalBuildings\":\n                return <Typography variant=\"h3\">Waiting for Luis</Typography>;\n            case \"cars\":\n                return <Typography variant=\"h3\">Waiting for Luis</Typography>;\n            case \"bicycles\":\n                return <Typography variant=\"h3\">Waiting for Luis</Typography>;\n            case \"pedestrians\":\n                return <Typography variant=\"h3\">Waiting for Luis</Typography>;\n            default:\n                return <React.Fragment />;\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <CssBaseline />\n            <MuiThemeProvider theme={theme}>\n                <div className={classes.root + ` ${bool ? \"show\" : \"hide\"}`}>\n                    <OverlayContent />\n                </div>\n            </MuiThemeProvider>\n        </React.Fragment>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { CSSwitch } from \"./CSSwitch\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport HorizontalDivider from \"./HorizontalDivider\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuOpenIcon from \"@material-ui/icons/MenuOpen\";\nimport { listenToMenuUI } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Audio from \"../Audio\";\nimport Info from \"./Info\";\nimport Logo from \"./Logo\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport OverlayMertics from \"./OverlayMertics/OverlayMertics\";\n\n// ! https://github.com/mui-org/material-ui/issues/9290\n\nfunction Menu(props) {\n    const switchColors = {\n        parks: \"#84ff03\",\n        cultural: \"#fe01fe\",\n        cars: \"#fc0303\",\n        bicycles: \"#03bafc\",\n        pedestrians: \"#FFF7\",\n    };\n\n    const theme = createMuiTheme({\n        palette: {\n            textPrimary: { main: \"white\" },\n        },\n        typography: {\n            h5: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"2.5em\",\n                fontWeight: \"300\",\n            },\n            h6: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"1.6em\",\n                fontWeight: \"400\",\n            },\n            h3: {\n                fontFamily: '\"Roboto\", \"sans-serif\"',\n                fontSize: \"1.5em\",\n            },\n            caption: {\n                fontFamily: '\"Roboto\", \"sans-serif\"',\n                fontSize: \"1em\",\n            },\n        },\n    });\n\n    const useStyles = makeStyles(() => ({\n        radio: {\n            \"&$checked\": {\n                color: \"#fff\",\n            },\n        },\n        checked: {},\n        toolBar: { alignItems: \"end\" },\n        menuButton: {},\n        title: {\n            flexGrow: 2,\n        },\n        appBar: {\n            spacing: \"0\",\n            color: \"white\",\n            background: \"rgba(0,0,0,0.7)\",\n            width: \"100vw\",\n        },\n        menuIconWrapper: {\n            color: \"rgba(255,255,255)\",\n            position: \"fixed\",\n            bottom: \"2em\",\n            left: \"2em\",\n            fontSize: \"2em\",\n        },\n        largeIcon: {\n            width: 40,\n            height: 40,\n        },\n    }));\n\n    const [checked, setChecked] = React.useState(true);\n\n    const handleToggle = (toggleName) => {\n        listenToMenuUI({\n            ...toggleStates,\n            [toggleName]: !toggleStates[toggleName],\n            // add only toggle name if it was turned on\n            thisToggleName: !toggleStates[toggleName] ? toggleName : null,\n        });\n    };\n\n    const cameraRadio = (e) => {\n        listenToMenuUI({\n            ...toggleStates,\n            cameraScene: e.target.value,\n        });\n    };\n    const classes = useStyles();\n\n    const handleMenuIconClick = () => {\n        setChecked((prev) => !prev);\n    };\n\n    const { toggleStates, listenToMenuUI } = props;\n\n    return (\n        <React.Fragment>\n            <Logo />\n\n            <CssBaseline />\n            <MuiThemeProvider theme={theme}>\n                <OverlayMertics thisToggleName={toggleStates.thisToggleName} />\n\n                <Tooltip title=\"Toggle Options\" placement=\"top\">\n                    <IconButton\n                        className={classes.menuIconWrapper}\n                        variant=\"outlined\"\n                        onClick={handleMenuIconClick}\n                    >\n                        <MenuOpenIcon className={classes.largeIcon} />\n                    </IconButton>\n                </Tooltip>\n                {/*  */}\n                <Collapse timeout={500} in={checked}>\n                    {/*  */}\n                    <AppBar position=\"static\" className={classes.appBar}>\n                        <Toolbar\n                            classes={{\n                                root: classes.toolBar,\n                            }}\n                        >\n                            <Grid item xs={3} sm={3} md={3} lg={3}>\n                                <ListItem>\n                                    <Typography variant=\"h6\">\n                                        present & future\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        checked={toggleStates.scenarioSwitch}\n                                        onChange={() =>\n                                            handleToggle(\"scenarioSwitch\")\n                                        }\n                                        name=\"scenarioSwitch\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        2020-2040\n                                    </Typography>\n                                </ListItem>\n\n                                <ListItem>\n                                    <IconButton>\n                                        <Info />\n                                    </IconButton>\n\n                                    <Typography variant=\"caption\">\n                                        information\n                                    </Typography>\n                                </ListItem>\n\n                                <ListItem>\n                                    <Typography variant=\"h6\">\n                                        display\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        checked={toggleStates.metricsObjSwitch}\n                                        onChange={() =>\n                                            handleToggle(\"metricsObjSwitch\")\n                                        }\n                                        name=\"metricsObjSwitch\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        design metrics\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        checked={toggleStates.cityModelSwitch}\n                                        onChange={() =>\n                                            handleToggle(\"cityModelSwitch\")\n                                        }\n                                        name=\"cityModelSwitch\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        toggle 3D model\n                                    </Typography>\n                                </ListItem>\n                            </Grid>\n                            {/*  */}\n\n                            <HorizontalDivider />\n                            {/*  */}\n                            <Grid item xs={3} sm={3} md={3} lg={3}>\n                                <ListItem>\n                                    <Typography variant=\"h6\">\n                                        spatial design\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        knobcolor={switchColors.parks}\n                                        checked={toggleStates.parks}\n                                        onChange={() => handleToggle(\"parks\")}\n                                        name=\"parks\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        parks\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        knobcolor={switchColors.cultural}\n                                        checked={toggleStates.culturalBuildings}\n                                        onChange={() =>\n                                            handleToggle(\"culturalBuildings\")\n                                        }\n                                        name=\"culturalBuildings\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        cultural\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <Typography variant=\"h6\">\n                                        mobility\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        knobcolor={switchColors.cars}\n                                        checked={toggleStates.cars}\n                                        onChange={() => handleToggle(\"cars\")}\n                                        name=\"cars\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        cars\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        knobcolor={switchColors.bicycles}\n                                        checked={toggleStates.bicycles}\n                                        onChange={() =>\n                                            handleToggle(\"bicycles\")\n                                        }\n                                        name=\"bicycles\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        bicycles\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        knobcolor={switchColors.pedestrians}\n                                        checked={toggleStates.pedestrians}\n                                        onChange={() =>\n                                            handleToggle(\"pedestrians\")\n                                        }\n                                        name=\"pedestrians\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        pedestrians\n                                    </Typography>\n                                </ListItem>\n                            </Grid>\n                            {/*  */}\n                            <HorizontalDivider />\n                            {/*  */}\n                            <Grid item xs={3} sm={3} md={3} lg={3}>\n                                <ListItem>\n                                    <Typography variant=\"h6\">\n                                        select scene\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <FormControl component=\"fieldset\">\n                                        <RadioGroup\n                                            aria-label=\"camera\"\n                                            name=\"camera\"\n                                            onChange={cameraRadio}\n                                        >\n                                            <FormControlLabel\n                                                value=\"Triomphe\"\n                                                control={\n                                                    <Radio\n                                                        classes={{\n                                                            root: classes.radio,\n                                                            checked:\n                                                                classes.checked,\n                                                        }}\n                                                    />\n                                                }\n                                                label={\n                                                    <Typography variant=\"caption\">\n                                                        Arc de Triomphe\n                                                    </Typography>\n                                                }\n                                            />\n                                            <FormControlLabel\n                                                value=\"Champs\"\n                                                control={\n                                                    <Radio\n                                                        classes={{\n                                                            root: classes.radio,\n                                                            checked:\n                                                                classes.checked,\n                                                        }}\n                                                    />\n                                                }\n                                                label={\n                                                    <Typography variant=\"caption\">\n                                                        Avenue des\n                                                        Champs-Élysées\n                                                    </Typography>\n                                                }\n                                            />\n                                            <FormControlLabel\n                                                value=\"Palais\"\n                                                control={\n                                                    <Radio\n                                                        classes={{\n                                                            root: classes.radio,\n                                                            checked:\n                                                                classes.checked,\n                                                        }}\n                                                    />\n                                                }\n                                                label={\n                                                    <Typography variant=\"caption\">\n                                                        Grand & Petit Palais\n                                                    </Typography>\n                                                }\n                                            />\n\n                                            <FormControlLabel\n                                                value=\"Concorde\"\n                                                control={\n                                                    <Radio\n                                                        classes={{\n                                                            root: classes.radio,\n                                                            checked:\n                                                                classes.checked,\n                                                        }}\n                                                    />\n                                                }\n                                                label={\n                                                    <Typography variant=\"caption\">\n                                                        Place de la Concorde\n                                                    </Typography>\n                                                }\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </ListItem>\n                            </Grid>\n                            {/*  */}\n                            <HorizontalDivider />\n                            {/*  */}\n                            <Grid item xs={3} sm={3} md={3} lg={3}>\n                                <ListItem>\n                                    <Typography variant=\"h6\">\n                                        settings\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <Audio />\n                                    <Typography variant=\"caption\">\n                                        \"Aux Champs Elysées\" by Arthur Des\n                                        Ligneris\n                                    </Typography>\n                                </ListItem>\n                                <ListItem>\n                                    <CSSwitch\n                                        checked={toggleStates.quality}\n                                        onChange={() => handleToggle(\"quality\")}\n                                        name=\"quality\"\n                                    />\n                                    <Typography variant=\"caption\">\n                                        render quality (for fast devices)\n                                    </Typography>\n                                </ListItem>\n                            </Grid>\n                        </Toolbar>\n                    </AppBar>\n                </Collapse>\n                {/*  */}\n            </MuiThemeProvider>\n        </React.Fragment>\n    );\n}\n\nconst mapStateToProps = (state) => ({\n    toggleStates: state.MENU_INTERACTION,\n});\n\nconst mapDispatchToProps = {\n    listenToMenuUI: listenToMenuUI,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\n","import * as THREE from \"three\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer.js\";\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass.js\";\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass.js\";\nimport * as settings from \"../../settings.json\";\nimport TWEEN from \"@tweenjs/tween.js\";\n\n/**\n *\n * @param {*}  object THREEjs obj\n * three-way display control\n * \n * \n * \n *        \n *  new TWEEN.Tween(object.position)\n            .to(\n                {\n                    y: object.position.y ,\n                },\n                1000\n            )\n            .easing(TWEEN.Easing.Quadratic.Out)\n            .start()\n            .onComplete(() =>\n\n\n */\n\nexport const _objectDisplay = (object, bool) => {\n    const _visability = (object, bool) => {\n        object.traverse(function (child) {\n            if (child instanceof THREE.Mesh || child instanceof THREE.Sprite) {\n                child.visible = bool;\n            }\n        });\n    };\n\n    if (object) {\n        if (bool) {\n            _visability(object, bool);\n            object.position.y = object.position.y + 1;\n            new TWEEN.Tween(object.position)\n                .to(\n                    {\n                        y: object.position.y - 1,\n                    },\n                    1000\n                )\n                .easing(TWEEN.Easing.Quadratic.Out)\n                .start();\n        } else {\n            new TWEEN.Tween(object.position)\n                .to(\n                    {\n                        y: object.position.y + 1,\n                    },\n                    1000\n                )\n                .easing(TWEEN.Easing.Quadratic.Out)\n                .start()\n                .onComplete(() => {\n                    _visability(object, bool);\n                    object.position.y = object.position.y - 1;\n                });\n        }\n    }\n};\n\nexport const _addCustomSceneObjects = async () => {\n    /**\n     * The model pedestal\n     */\n\n    var pedestalTexture = await _loadTexture(\n        \"./resources/textures/shadowmap.png\"\n    );\n\n    // pedestal  model material\n    let modelColor = new THREE.Color();\n    modelColor.setHSL(0, 0, 0.5);\n    let modelMaterial = new THREE.MeshPhongMaterial({\n        color: modelColor,\n    });\n\n    var topModelMaterial = new THREE.MeshPhongMaterial({\n        map: pedestalTexture,\n        color: modelColor,\n    });\n\n    // 6 sides material for pedestal\n    let materialArray = [\n        modelMaterial,\n        modelMaterial,\n        topModelMaterial,\n        modelMaterial,\n        modelMaterial,\n        modelMaterial,\n    ];\n    // fix scaling issue\n    pedestalTexture.minFilter = THREE.LinearFilter;\n    const cubeGeo = new THREE.BoxBufferGeometry(1.57, 0.7, 0.92);\n    cubeGeo.translate(0, 0.35, 0);\n    const pedestalMesh = new THREE.Mesh(cubeGeo, materialArray);\n    pedestalMesh.castShadow = true;\n    pedestalMesh.receiveShadow = true;\n    pedestalMesh.name = \"pedestalMesh\";\n\n    return pedestalMesh;\n};\n\nexport const _addMetricsObject = async () => {\n    var radarBeforeText = await _loadTexture(\n        \"./resources/textures/radar/rb.jpg\"\n    );\n    var radarAfterText = await _loadTexture(\n        \"./resources/textures/radar/ra.jpg\"\n    );\n\n    // pedestal  model material\n    let modelColor = new THREE.Color();\n    modelColor.setHSL(0, 0, 0.5);\n\n    var modelMaterial = new THREE.MeshStandardMaterial({\n        name: \"radarMaterial\",\n        color: modelColor,\n        userData: {\n            radarBeforeText: radarBeforeText,\n            radarAfterText: radarAfterText,\n        },\n        map: radarBeforeText,\n        metalness: 0.2,\n        roughness: 10,\n    });\n\n    modelMaterial.side = THREE.DoubleSide;\n\n    // 6 sides material for pedestal\n    let materialArray = [\n        false,\n        modelMaterial,\n        false,\n        false,\n        modelMaterial,\n        modelMaterial,\n    ];\n    // fix scaling issue\n    radarBeforeText.minFilter = THREE.LinearFilter;\n    const cubeGeo = new THREE.BoxBufferGeometry(1.57, 1.57, 0.002);\n    cubeGeo.translate(0, 1.8, 0);\n    const metricsMesh = new THREE.Mesh(cubeGeo, materialArray);\n\n    metricsMesh.castShadow = false;\n    metricsMesh.receiveShadow = false;\n    metricsMesh.name = \"metricsObj\";\n\n    return metricsMesh;\n};\n\nexport const _pplLoader = async () => {\n    let URL = settings.pplModel.ppl;\n    let pplCol = new THREE.Color();\n    pplCol.setHSL(0, 0, 0.2);\n    let pplMaterial = new THREE.MeshLambertMaterial({\n        color: pplCol,\n    });\n    // load other models\n    let model = await _loadOBJmodel(URL);\n    model.name = \"people\";\n    model.traverse(function (child) {\n        child.material = pplMaterial;\n        child.scale.set(0.95, 0.95, 0.95);\n        child.position.set(0, 0.01, 0);\n        child.castShadow = true;\n    });\n    return model;\n};\n\nexport const _landscapeModelsLoader = async () => {\n    let landscapeModelsWrapper = new THREE.Object3D();\n    landscapeModelsWrapper.name = \"landscapeModelsWrapper\";\n\n    for (const modelName in settings.landscapeModels) {\n        let modelURL = settings.landscapeModels[modelName].URL;\n        let modelColor = settings.landscapeModels[modelName].color;\n        let modelPos = settings.landscapeModels[modelName].position;\n        let modelscale = settings.landscapeModels[modelName].scale;\n        // load other models\n        await _loadOBJmodel(modelURL).then((model) => {\n            landscapeModelsWrapper.add(model);\n            model.name = modelName;\n            model.scale.set(modelscale, modelscale, modelscale);\n\n            model.rotation.set(0, 0.4625123, 0);\n            model.traverse(function (child) {\n                child.material = new THREE.MeshPhongMaterial({\n                    color: new THREE.Color(\"hsl\" + modelColor),\n                });\n                child.position.set(modelPos[0], modelPos[1], modelPos[2]);\n            });\n        });\n    }\n\n    return landscapeModelsWrapper;\n};\n\n/**\n *\n * @param {} camera\n */\n\nexport const _setupBloom = (width, height, scene, camera, renderer) => {\n    var params = {\n        exposure: 1,\n        bloomStrength: 0.45,\n        bloomThreshold: 0,\n        bloomRadius: 0.1,\n    };\n    var renderScene = new RenderPass(scene, camera);\n    var bloomPass = new UnrealBloomPass(\n        new THREE.Vector2(width, height),\n        1,\n        0.4,\n        0.85\n    );\n    bloomPass.threshold = params.bloomThreshold;\n    bloomPass.strength = params.bloomStrength;\n    bloomPass.radius = params.bloomRadius;\n    let bloomComposer = new EffectComposer(renderer);\n    bloomComposer.renderToScreen = false;\n    bloomComposer.addPass(renderScene);\n    bloomComposer.addPass(bloomPass);\n    var finalPass = new ShaderPass(\n        new THREE.ShaderMaterial({\n            uniforms: {\n                baseTexture: { value: null },\n                bloomTexture: {\n                    value: bloomComposer.renderTarget2.texture,\n                },\n            },\n            vertexShader: _shaders().vertex,\n            fragmentShader: _shaders().frag,\n        }),\n        \"baseTexture\"\n    );\n    finalPass.needsSwap = true;\n    let finalComposer = new EffectComposer(renderer);\n    finalComposer.addPass(renderScene);\n    finalComposer.addPass(finalPass);\n\n    return { bloomComposer: bloomComposer, finalComposer: finalComposer };\n};\n\n/**\n *\n * @param {\n * } trips\n */\n\nexport const _blockCamera = (camera) => {\n    if (camera) {\n        let p = camera.position;\n        if (p.y < 0.3) p.y = 0.3;\n        if (p.y > 4) p.y = 4;\n    }\n};\n\n/***\n *\n *\n */\nexport const _setupAgents = async () => {\n    let agentsWrapper = new THREE.Object3D();\n    agentsWrapper.name = \"agentsWrapper\";\n    for (const tripName in settings.trips) {\n        let URL = settings.trips[tripName].URL;\n\n        fetch(URL)\n            .then((res) => res.json())\n            .then((tripsData) => {\n                let thisTripsAgents = _makeAgents(tripsData, tripName);\n                thisTripsAgents.name = tripName;\n                // adds a record of the trips to the\n                // THREEE obj so we can run anim from inside\n                // this oject itself\n                thisTripsAgents.trips = tripsData;\n                agentsWrapper.add(thisTripsAgents);\n            })\n            .catch((err) => console.error(err));\n    }\n    agentsWrapper.rotation.set(0, 0.4625123, 0);\n    agentsWrapper.position.set(\n        -(Math.cos(0.4625123) * 822) / 2000 - 1.57 / 2,\n        0,\n        (Math.sin(0.4625123) * 822) / 2000 - 0.92 / 2\n    );\n    agentsWrapper.rotation.set(0, 0.4625123, 0);\n    return agentsWrapper;\n};\n\nconst _makeAgents = (trips, tripName) => {\n    let scale = 0.03;\n    let color = new THREE.Color();\n    color.setHSL(\n        settings.trips[tripName].color.h,\n        settings.trips[tripName].color.s,\n        settings.trips[tripName].color.l\n    );\n\n    let textLoader = new THREE.TextureLoader();\n    let spriteText = textLoader.load(\"./resources/textures/agent.png\");\n    spriteText.minFilter = THREE.LinearFilter;\n    let spritesWarpper = new THREE.Object3D();\n    for (let i = 0; i < trips.length; i++) {\n        var spriteMaterial = new THREE.SpriteMaterial({\n            map: spriteText,\n            transparent: true,\n        });\n\n        var sprite = new THREE.Sprite(spriteMaterial);\n        sprite.material.color = color;\n        sprite.material.blending = THREE.AdditiveBlending;\n        sprite.material.transparent = true;\n        sprite.scale.set(scale, scale, scale);\n        sprite.position.set(0, 0, 0);\n        spritesWarpper.add(sprite);\n    }\n    return spritesWarpper;\n};\n\nexport const _handelCityModel = async () => {\n    let model = await _loadOBJmodel(settings.cityModelURL);\n    // global model material\n    let modelColor = new THREE.Color();\n    modelColor.setHSL(0, 0, 0.3);\n    let modelMaterial = new THREE.MeshPhongMaterial({\n        color: modelColor,\n    });\n\n    model.name = \"cityModel\";\n    model.scale.set(0.000505, 0.000505, 0.000505);\n    model.position.set(-0.0055, 0.7, 0);\n    model.rotation.set(0, 0.4625123, 0);\n    model.traverse(function (child) {\n        // child.castShadow = true;\n        child.material = modelMaterial;\n    });\n\n    return model;\n};\n\n/**\n *\n * @param {*} url\n */\n\nexport const _loadOBJmodel = async (url) => {\n    return new Promise((resolve) => {\n        new OBJLoader().load(url, resolve);\n    }).then((result) => {\n        return result;\n    });\n};\n\n/**\n *\n * @param {*} url\n */\n\nexport const _loadTexture = async (url) => {\n    return new Promise((resolve) => {\n        new THREE.TextureLoader().load(url, resolve);\n    }).then((result) => {\n        result.minFilter = THREE.LinearFilter;\n        return result;\n    });\n};\n\n/**\n *\n * @param {*} renderer\n * @param {*} scene\n */\n\nconst _shaders = () => {\n    const _vertexShader = () => {\n        return `\n    varying vec2 vUv;\n       void main() {\n           vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    `;\n    };\n    //\n    const _fragmentshader = () => {\n        return ` \n    uniform sampler2D baseTexture;\n    uniform sampler2D bloomTexture;\n    varying vec2 vUv;\n    vec4 getTexture( sampler2D texelToLinearTexture ) {\n        return mapTexelToLinear( texture2D( texelToLinearTexture , vUv ) );\n    }\n    void main() {\n        gl_FragColor = ( getTexture( baseTexture ) + vec4( 1.0 ) * getTexture( bloomTexture ) );\n    }`;\n    };\n\n    return { vertex: _vertexShader(), frag: _fragmentshader() };\n};\n\n/**\n *\n * @param {*} renderer\n *     Create a floor.\n\n */\n// ! should consider https://tinyurl.com/wqpozgh\n\nexport const _createFloor = async (renderer) => {\n    var repeatX = 15;\n    var repeatY = 15;\n    let path = \"./resources/textures/floor/\";\n\n    var baseText = await _loadTexture(path + \"WOOD_SML.jpg\");\n    var ao = await _loadTexture(path + \"GLOSS.jpg\");\n    var displace = await _loadTexture(path + \"WOOD_DISP.jpg\");\n    var normalText = await _loadTexture(path + \"NRM.jpg\");\n\n    baseText.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    baseText.wrapS = THREE.RepeatWrapping;\n    baseText.wrapT = THREE.RepeatWrapping;\n    baseText.repeat.set(repeatX, repeatY);\n\n    normalText.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    normalText.wrapS = THREE.RepeatWrapping;\n    normalText.wrapT = THREE.RepeatWrapping;\n    normalText.repeat.set(repeatX, repeatY);\n\n    ao.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    ao.wrapS = THREE.RepeatWrapping;\n    normalText.wrapT = THREE.RepeatWrapping;\n    ao.repeat.set(repeatX, repeatY);\n\n    displace.minFilter = THREE.LinearFilter;\n\n    displace.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    displace.wrapS = THREE.RepeatWrapping;\n    displace.wrapT = THREE.RepeatWrapping;\n    displace.repeat.set(repeatX, repeatY);\n\n    var material = new THREE.MeshStandardMaterial({\n        aoMap: ao,\n        aoMapIntensity: 1,\n        color: 0xffffff,\n        map: baseText,\n        metalnessMap: baseText,\n        displacementMap: displace,\n        displacementScale: 0.1,\n        normalMap: normalText,\n        metalness: 5,\n        roughness: 0.5,\n    });\n    const planeSize = 50;\n    const planeMesh = new THREE.Mesh(\n        new THREE.PlaneBufferGeometry(planeSize, planeSize),\n        material\n    );\n    planeMesh.receiveShadow = true;\n    planeMesh.rotation.x = Math.PI * -0.5;\n    planeMesh.position.y = 0;\n    planeMesh.position.z = 0;\n\n    return planeMesh;\n};\n","// ! https://github.com/mrdoob/three.js/blob/master/examples/css3d_youtube.html\n// ! https://codesandbox.io/s/81qjyxonm8\n// ! https://github.com/mrdoob/three.js/pull/17505\n// ! https://codepen.io/pen/?editors=0010\n// ! Good structure:\n// ! https://codesandbox.io/s/mjp143zq9x?from-embed\n// ! materials https://codepen.io/bartuc/pen/eEbmvJ?editors=0010\n// ! Bloom https://jsfiddle.net/yp2t6op6/3/\n// ! https://github.com/mrdoob/three.js/blob/master/examples/webgl_postprocesnsing_unreal_bloom_selective.html\n// ! https://stackoverflow.com/questions/47922923/ceiling-lights-effect-using-three-js\n// ! Glow https://stemkoski.github.io/Three.js/Shader-Glow.html\n\nimport React, { Component } from \"react\";\nimport { setLoadingState } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\nimport * as THREE from \"three\";\nimport TWEEN from \"@tweenjs/tween.js\";\n\nimport {\n    _setupBloom,\n    _addMetricsObject,\n    _createFloor,\n    _blockCamera,\n    _setupAgents,\n    _handelCityModel,\n    _landscapeModelsLoader,\n    _addCustomSceneObjects,\n    _pplLoader,\n    _objectDisplay,\n} from \"./ThreeUtils\";\nimport OrbitControls from \"three-orbitcontrols\";\nimport * as settings from \"../../settings.json\";\n\nclass ThreeScene extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            timeCounter: 0,\n            simSpeed: 1,\n            trips: {},\n            renderer: false,\n            past: true,\n            camLookAt: new THREE.Vector3(0, 1.25, 0),\n        };\n        this.theta = 0;\n        this.cameraSpeed = 0.5;\n        this.radius = 2.5;\n    }\n\n    componentDidMount() {\n        // get the div dims on init\n        this.width = this.mountingDiv.clientWidth;\n        this.height = this.mountingDiv.clientHeight;\n        window.addEventListener(\"resize\", this.handleWindowResize);\n        // start the app setup\n        setTimeout(() => {\n            this._init();\n        }, 500);\n    }\n\n    componentWillUnmount() {\n        window.cancelAnimationFrame(this.requestID);\n        window.removeEventListener(\"resize\", this.handleWindowResize);\n    }\n\n    _init = async () => {\n        this.shpContainer = new THREE.Object3D();\n        this._sceneSetup()\n            .then(\n                // load urban model\n                await _handelCityModel().then((model) => this.scene.add(model)),\n\n                // load other street models\n                await _landscapeModelsLoader().then((model) => {\n                    this.scene.add(model);\n                }),\n                // floor\n                await _createFloor(this.renderer).then((floor) => {\n                    this.scene.add(floor);\n                }),\n                //  load the rest of the scene\n                await _addCustomSceneObjects().then((pedestalMesh) =>\n                    this.scene.add(pedestalMesh)\n                ),\n\n                //  load the rest of the scene\n                await _addMetricsObject().then((metricsObject) =>\n                    this.scene.add(metricsObject)\n                ),\n                // load the public\n                await _pplLoader().then((ppl) => this.scene.add(ppl)),\n\n                // setup agents\n                await _setupAgents().then((agentWrapper) => {\n                    this.agentWrapper = agentWrapper;\n                    this.scene.add(this.agentWrapper);\n                })\n            )\n            .then(\n                this.setState({ loading: false }),\n                this.props.setLoadingState(this.state.loading),\n\n                //  start the animation\n                this.startAnimationLoop()\n                //\n            );\n    };\n\n    _sceneSetup = async () => {\n        this.scene = new THREE.Scene();\n        this.scene.dispose();\n        // camera\n        this.camera = new THREE.PerspectiveCamera(\n            50,\n            this.width / this.height,\n            0.01,\n            1000\n        );\n        this.camera.position.z = -4;\n        this.camera.position.x = 0;\n        this.camera.position.y = 2;\n\n        this.controls = new OrbitControls(this.camera, this.mountingDiv);\n        this.controls.maxDistance = 7;\n        this.controls.minDistance = 0.5;\n        this.camera.lookAt(new THREE.Vector3(0, 1.25, 0));\n        this.controls.target.set(0, 0.9, 0);\n\n        // renderer\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            alpha: true,\n        });\n\n        this.renderer.dispose();\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.toneMapping = THREE.ReinhardToneMapping;\n        this.renderer.setSize(this.width, this.height);\n        this.mountingDiv.appendChild(this.renderer.domElement);\n\n        /**\n         * Lights\n         */\n\n        this.whiteLight1 = new THREE.PointLight(0xffffff, 4, 1);\n        this.whiteLight1.name = \"whiteLight\";\n        this.whiteLight1.position.set(0, 1.5, -0.5);\n        this.whiteLight1.intensity = settings.lights.w1.low;\n\n        this.whiteLight2 = new THREE.PointLight(0xffffff, 4, 1);\n        this.whiteLight2.name = \"whiteLight\";\n        this.whiteLight2.position.set(0, 1.5, 0.5);\n        this.whiteLight2.intensity = settings.lights.w2.low;\n\n        //\n        this.orangeLight = new THREE.PointLight(0xf26101, 0, 100);\n        this.orangeLight.intensity = settings.lights.orange.low;\n        this.orangeLight.name = \"orangeLight\";\n        this.orangeLight.position.set(-1, 2, -1);\n        this.orangeLight.castShadow = true;\n        this.orangeLight.shadow.radius = 2;\n        //\n        this.blueLight = new THREE.PointLight(0x0071bc, 0, 100);\n        this.blueLight.intensity = settings.lights.blue.low;\n\n        this.blueLight.name = \"this.blueLight\";\n        this.blueLight.position.set(1, 2, 1);\n        this.blueLight.castShadow = true;\n        this.blueLight.shadow.radius = 2;\n\n        //\n        this.lightsWrapper = new THREE.Object3D();\n        this.lightsWrapper.name = \"lightsWrapper\";\n        this.lightsWrapper.add(\n            this.whiteLight1,\n            this.whiteLight2,\n            this.orangeLight,\n            this.blueLight\n        );\n\n        this.scene.add(this.lightsWrapper);\n\n        /*\n            BLOOM\n        */\n        let postEffect = _setupBloom(\n            this.width,\n            this.height,\n            this.scene,\n            this.camera,\n            this.renderer\n        );\n        this.bloomComposer = postEffect.bloomComposer;\n        this.finalComposer = postEffect.finalComposer;\n    };\n\n    _animateAgents = () => {\n        const time = this.state.timeCounter;\n        this.agentWrapper.children.forEach((tripsObject) => {\n            for (let i = 0; i < tripsObject.trips.length; i++) {\n                if (tripsObject.trips[i].path[time]) {\n                    let pnt = tripsObject.trips[i].path[time];\n                    let agent = tripsObject.children[i];\n                    agent.position.set(pnt[0], 0.705, pnt[1]);\n                }\n            }\n        });\n\n        this.setState({\n            timeCounter:\n                this.state.timeCounter < settings.simulationDuration\n                    ? this.state.timeCounter + this.state.simSpeed\n                    : 0,\n        });\n    };\n\n    handleWindowResize = () => {\n        const width = this.mountingDiv.clientWidth;\n        const height = this.mountingDiv.clientHeight;\n        this.renderer.setSize(width, height);\n\n        this.bloomComposer.setSize(width, height);\n        this.finalComposer.setSize(width, height);\n\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n    };\n\n    componentDidUpdate(prevProps) {\n        if (prevProps !== this.props) {\n            let {\n                scenarioSwitch,\n                parks,\n                culturalBuildings,\n                cars,\n                bicycles,\n                pedestrians,\n                quality,\n                cityModelSwitch,\n                metricsObjSwitch,\n            } = this.props.menuInteraction;\n\n            let cityModelObject = this.scene.getObjectByName(\"cityModel\");\n\n            //\n            let trips_car_before = this.scene.getObjectByName(\n                \"trips_car_before\"\n            );\n            let trips_car_after = this.scene.getObjectByName(\"trips_car_after\");\n            let trips_pedestrians_before = this.scene.getObjectByName(\n                \"trips_pedestrians_before\"\n            );\n            let trips_pedestrians_after = this.scene.getObjectByName(\n                \"trips_pedestrians_after\"\n            );\n            let trips_bike_before = this.scene.getObjectByName(\n                \"trips_bike_before\"\n            );\n            let trips_bike_after = this.scene.getObjectByName(\n                \"trips_bike_after\"\n            );\n            let parks_before = this.scene.getObjectByName(\"parks_before\");\n            let parks_after = this.scene.getObjectByName(\"parks_after\");\n            let cultural_before = this.scene.getObjectByName(\"cultural_before\");\n            let cultural_after = this.scene.getObjectByName(\"cultural_after\");\n            let metricsObj = this.scene.getObjectByName(\"metricsObj\");\n            // find which menu item has changed\n            for (const thisMenuItem in prevProps.menuInteraction) {\n                if (\n                    prevProps.menuInteraction[thisMenuItem] !==\n                    this.props.menuInteraction[thisMenuItem]\n                ) {\n                    switch (thisMenuItem) {\n                        case \"scenarioSwitch\":\n                            const lights = [this.blueLight, this.orangeLight];\n\n                            lights.forEach((thisLight) => {\n                                new TWEEN.Tween(thisLight.position)\n                                    .to(\n                                        {\n                                            x: -thisLight.position.x,\n                                            z: -thisLight.position.z,\n                                        },\n                                        2000\n                                    )\n                                    .easing(TWEEN.Easing.Quadratic.Out)\n                                    .onUpdate(() => {})\n                                    .start();\n                            });\n\n                            _objectDisplay(parks_before, parks);\n                            _objectDisplay(\n                                parks_after,\n                                scenarioSwitch && parks\n                            );\n\n                            _objectDisplay(cultural_before, culturalBuildings);\n                            _objectDisplay(\n                                cultural_after,\n                                scenarioSwitch && culturalBuildings\n                            );\n\n                            _objectDisplay(\n                                trips_car_before,\n                                !scenarioSwitch && cars\n                            );\n                            _objectDisplay(\n                                trips_car_after,\n                                scenarioSwitch && cars\n                            );\n\n                            _objectDisplay(\n                                trips_bike_before,\n                                !scenarioSwitch && bicycles\n                            );\n                            _objectDisplay(\n                                trips_bike_after,\n                                scenarioSwitch && bicycles\n                            );\n\n                            _objectDisplay(\n                                trips_pedestrians_before,\n                                !scenarioSwitch && pedestrians\n                            );\n                            _objectDisplay(\n                                trips_pedestrians_after,\n                                scenarioSwitch && pedestrians\n                            );\n\n                            // change radar texture\n\n                            new TWEEN.Tween(metricsObj.rotation)\n                                .to(\n                                    {\n                                        x: 0,\n                                        y: scenarioSwitch ? -3.14159 : 3.14159,\n                                        z: 0,\n                                    },\n                                    2000\n                                )\n                                .easing(TWEEN.Easing.Cubic.InOut)\n                                .start()\n                                .onStart(() => {\n                                    metricsObj.material.forEach((material) => {\n                                        if (material) {\n                                            material.map = scenarioSwitch\n                                                ? material.userData\n                                                      .radarAfterText\n                                                : material.userData\n                                                      .radarBeforeText;\n                                            material.map.needsUpdate = true;\n                                        }\n                                    });\n                                });\n\n                            break;\n\n                        case \"metricsObjSwitch\":\n                            _objectDisplay(metricsObj, metricsObjSwitch);\n                            break;\n\n                        case \"parks\":\n                            _objectDisplay(parks_before, parks);\n                            _objectDisplay(\n                                parks_after,\n                                scenarioSwitch && parks\n                            );\n                            break;\n\n                        case \"culturalBuildings\":\n                            _objectDisplay(cultural_before, culturalBuildings);\n                            _objectDisplay(\n                                cultural_after,\n                                scenarioSwitch && culturalBuildings\n                            );\n                            break;\n\n                        case \"cars\":\n                            _objectDisplay(\n                                trips_car_before,\n                                !scenarioSwitch && cars\n                            );\n                            _objectDisplay(\n                                trips_car_after,\n                                scenarioSwitch && cars\n                            );\n                            break;\n\n                        case \"bicycles\":\n                            _objectDisplay(\n                                trips_bike_before,\n                                !scenarioSwitch && bicycles\n                            );\n                            _objectDisplay(\n                                trips_bike_after,\n                                scenarioSwitch && bicycles\n                            );\n                            break;\n\n                        case \"pedestrians\":\n                            _objectDisplay(\n                                trips_pedestrians_before,\n                                !scenarioSwitch && pedestrians\n                            );\n                            _objectDisplay(\n                                trips_pedestrians_after,\n                                scenarioSwitch && pedestrians\n                            );\n                            break;\n\n                        case \"quality\":\n                            /**\n                             * Setup qulity\n                             */\n                            this.setState({ renderer: quality });\n                            // if low quality render\n                            if (!quality) {\n                                this.blueLight.intensity =\n                                    settings.lights.blue.low;\n                                this.orangeLight.intensity =\n                                    settings.lights.orange.low;\n                                this.whiteLight1.intensity =\n                                    settings.lights.w1.low;\n                                this.whiteLight2.intensity =\n                                    settings.lights.w2.low;\n                            } else {\n                                // higher qulaity\n                                this.blueLight.intensity =\n                                    settings.lights.blue.high;\n                                this.orangeLight.intensity =\n                                    settings.lights.orange.high;\n                                this.whiteLight1.intensity =\n                                    settings.lights.w1.high;\n                                this.whiteLight2.intensity =\n                                    settings.lights.w2.high;\n                            }\n                            break;\n\n                        case \"cityModelSwitch\":\n                            if (!cityModelSwitch) {\n                                //\n                                _objectDisplay(cityModelObject, false);\n                            } else {\n                                _objectDisplay(cityModelObject, true);\n                            }\n                            break;\n\n                        case \"cameraScene\":\n                            let slectedScene = this.props.menuInteraction\n                                .cameraScene;\n                            let newCamPos =\n                                settings.cameraScenesPositions[slectedScene]\n                                    .camPos;\n                            let l =\n                                settings.cameraScenesPositions[slectedScene]\n                                    .lookAt;\n                            let newLookAt = new THREE.Vector3(l[0], l[1], l[2]);\n                            // fly camera to new postion\n                            new TWEEN.Tween(this.camera.position)\n                                .to(\n                                    {\n                                        x: newCamPos[0],\n                                        y: newCamPos[1],\n                                        z: newCamPos[2],\n                                    },\n                                    1000\n                                )\n                                .easing(TWEEN.Easing.Quadratic.Out)\n                                .onUpdate(() => {\n                                    this.camera.lookAt(newLookAt);\n                                })\n                                .start();\n\n                            break;\n\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Each frame, choose renderer quality based  on state\n     */\n    _chooseRenderer = () => {\n        if (this.state.renderer) {\n            this.bloomComposer.render();\n            this.finalComposer.render();\n        } else {\n            this.renderer.render(this.scene, this.camera);\n        }\n    };\n\n    _cameraState = () => {\n        if (this.props.menuInteraction.cameraScene === \"animateCamera\") {\n            this.theta += this.cameraSpeed;\n            this.camera.position.x =\n                this.radius * Math.sin(THREE.MathUtils.degToRad(this.theta));\n            this.camera.position.y = 1.5;\n            this.camera.position.z =\n                this.radius * Math.cos(THREE.MathUtils.degToRad(this.theta));\n            this.camera.lookAt(new THREE.Vector3(0, 1.25, 0));\n            this.camera.updateMatrixWorld();\n        } else {\n            // force camera lookAt\n\n            _blockCamera(this.camera);\n        }\n    };\n\n    startAnimationLoop = () => {\n        this._cameraState();\n\n        // control TWEEN event\n        TWEEN.update();\n        // animate the sim\n        this._animateAgents();\n\n        //    choose the renderer quality\n        this._chooseRenderer();\n\n        this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n    };\n\n    _onMouseUp(e) {\n        let mouse = new THREE.Vector2();\n        let ray = new THREE.Raycaster();\n\n        mouse.x = (e.clientX / this.width) * 2 - 1;\n        mouse.y = -(e.clientY / this.height) * 2 + 1;\n        ray.setFromCamera(mouse.clone(), this.camera);\n\n        var objects = ray.intersectObjects(this.scene.children);\n        if (objects[0] && objects[0].point) {\n            console.log(objects[0].object);\n            let rayPos = objects[0].point;\n            this.controls.target.set(rayPos);\n            this.controls.update();\n        }\n    }\n\n    render() {\n        let displayTHREEscene =\n            // true;\n            this.props.startScene;\n\n        return (\n            <React.Fragment>\n                <div\n                    style={\n                        displayTHREEscene\n                            ? {\n                                  height: \"100%\",\n                                  position: \"fixed\",\n                                  width: \"100%\",\n                                  top: 0,\n                                  left: 0,\n                                  backgroundColor: \"black\",\n                                  visibility: \"\",\n                              }\n                            : {\n                                  height: \"100%\",\n                                  width: \"100%\",\n                                  position: \"fixed\",\n\n                                  top: 0,\n                                  left: 0,\n                                  backgroundColor: \"black\",\n                                  visibility: \"hidden\",\n                              }\n                    }\n                    ref={(div) => (this.mountingDiv = div)}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        startScene: state.START_SCENE,\n    };\n};\n\nconst mapDispatchToProps = {\n    setLoadingState: setLoadingState,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ThreeScene);\n","import React, { Component } from \"react\";\nimport LandingPage from \"./components/LandingPage/LandingPage\";\nimport Menu from \"./components/Menu/Menu\";\nimport ThreeScene from \"./components/ThreeScene/ThreeScene\";\nimport { connect } from \"react-redux\";\n\nclass App extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <ThreeScene menuInteraction={this.props.menuInteraction} />\n                {this.props.showMenu ? <Menu /> : null}\n                {/* <Menu /> */}\n                <LandingPage />\n                <div\n                    style={{\n                        position: \"fixed\",\n                        left: \"50%\",\n                        top: \"50%\",\n                        transform: \"translate(-50%, -50%)\",\n                        backgroundColor: \"transparent\",\n                        opacity: 0.5,\n                    }}\n                >\n                    <h1\n                        style={{\n                            fontSize: \"15em\",\n                            backgroundColor: \"rgba(0,0,0,0)\",\n\n                            textShadow:\n                                \"-3px -3px 0 #FFF, 3px -3px 0 #FFF, -3px 3px 0 #FFF, 3px 3px 0 #FFF\",\n                        }}\n                    >\n                        DRAFT\n                    </h1>\n                </div>\n                ;\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        menuInteraction: state.MENU_INTERACTION,\n        showMenu: state.START_SCENE,\n    };\n};\n\nexport default connect(mapStateToProps, null)(App);\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\n\nconst ProviderWrapper = ({ children, store }) => (\n    <Provider store={store}>{children}</Provider>\n);\n\nexport default ProviderWrapper;\n","import \"../settings.json\";\nimport * as settings from \"../settings.json\";\n\n/**\n * ! INIT STATE\n */\n\nconst initialState = {\n    LOADING: true,\n    START_SCENE: false,\n    MENU_INTERACTION: settings.initState,\n};\n\nexport default initialState;\n","import {\n    SET_LOADING_STATE,\n    SET_START_STATE,\n    MENU_INTERACTION,\n} from \"./actions\";\nimport initialState from \"./initialState\";\n\n/**\n * REDUCER\n */\nexport default function reducer(state = initialState, action) {\n    switch (action.type) {\n        case SET_LOADING_STATE:\n            return { ...state, LOADING: action.data };\n        case SET_START_STATE:\n            return { ...state, START_SCENE: action.data };\n        case MENU_INTERACTION:\n            return { ...state, MENU_INTERACTION: action.data };\n        default:\n            return state;\n    }\n}\n","import { createStore } from \"redux\";\nimport reducer from \"./reducer\";\n\nconst reduxDevTools =\n    window.__REDUX_DEVTOOLS_EXTENSION__ &&\n    window.__REDUX_DEVTOOLS_EXTENSION__();\n\nconst configureStore = () => {\n    const store = createStore(reducer, reduxDevTools);\n\n    if (process.env.NODE_ENV !== \"production\") {\n        if (module.hot) {\n            module.hot.accept(\"./reducer\", () => {\n                store.replaceReducer(reducer);\n            });\n        }\n    }\n\n    return store;\n};\n\nexport default configureStore;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport Provider from \"./redux/Provider\";\n\nimport configureStore from \"./redux/store\";\nconst store = configureStore();\n\nconst root = document.getElementById(\"root\");\nconst render = () => {\n    return ReactDOM.render(\n        <Provider store={store}>\n            <App />\n        </Provider>,\n\n        root\n    );\n};\n\nrender(App);\n\nif (module.hot) {\n    module.hot.accept(\"./App\", () => {\n        const NextApp = require(\"./App\").default;\n        render(NextApp);\n    });\n}\n"],"sourceRoot":""}