{"version":3,"sources":["components/LandingPage/LoadingSprite.js","components/LandingPage/EnterButton.js","components/LandingPage/Video.js","components/Menu/Logo.js","components/LandingPage/LandingPage.js","redux/actions.js","components/Menu/CSSwitch.js","components/Audio.js","components/Menu/Info.js","components/Menu/OverlayMertics/OverlayMertics.js","components/Menu/BigSwitch/BigSwitch.js","components/Menu/Menu.js","components/ThreeScene/ThreeUtils.js","components/ThreeScene/ThreeScene.js","App.js","redux/Provider.js","redux/initialState.js","redux/reducer.js","redux/store.js","index.js"],"names":["LoadingSprite","CircularProgress","style","borderColor","color","fontWeight","theme","createMuiTheme","typography","button","fontFamily","useStyles","makeStyles","root","margin","spacing","EnterButton","classes","className","Button","variant","Video","url","playing","controls","muted","loop","width","height","Logo","CSlogo","fontSize","SvgIcon","onClick","window","open","xmlns","viewBox","fill","d","mapDispatchToProps","setStartSceneState","data","type","connect","state","readyState","LOADING","props","overrides","MuiCssBaseline","palette","background","default","h2","join","subtitle1","subtitle2","caption","h6","box","padding","breakpoints","down","maxWidth","up","useState","startScene","setStartScene","Fragment","Box","CssBaseline","p","Typography","e","preventDefault","Grid","container","item","xs","md","lg","youtubeId","CSSwitch","switchBase","transform","common","white","backgroundColor","knobcolor","opacity","border","thumb","track","borderRadius","checked","focusVisible","Switch","focusVisibleClassName","disableRipple","audioIconWrapper","Audio","handlePause","setState","handlePlay","IconButton","this","Component","textPrimary","main","h3","paper","marginBottom","overflow","Info","React","setOpen","Dialog","onClose","id","Paper","OverlayMertics","position","bottom","right","zIndex","h5","textShadow","bool","setValue","useEffect","thisToggleName","setTimeout","OverlayContent","toggle","scenarioSwitch","BigSwitch","updateChecked","name","value","onChange","listenToMenuUI","toggleStates","MENU_INTERACTION","switchColors","body1","dividerColor","radio","toolBar","alignItems","title","flexGrow","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","menuIconWrapper","LogoWrapper","left","largeIcon","appBarShift","marginLeft","easeOut","enteringScreen","hide","display","drawer","flexShrink","drawerPaper","handleToggle","toggleName","radioValue","setRadioValue","Tooltip","placement","Drawer","anchor","Collapse","timeout","in","AppBar","ListItem","Divider","FormControl","component","RadioGroup","aria-label","target","cameraScene","FormControlLabel","control","Radio","label","parks","culturalBuildings","cars","bicycles","pedestrians","metricsObjSwitch","cityModelSwitch","quality","_objectDisplay","object","_visability","traverse","child","THREE","visible","y","Y_Value","TWEEN","Tween","to","Easing","Quadratic","Out","start","onComplete","_addCustomSceneObjects","a","_loadTexture","pedestalTexture","modelColor","setHSL","modelMaterial","topModelMaterial","map","materialArray","minFilter","cubeGeo","translate","pedestalMesh","castShadow","receiveShadow","_addMetricsObject","radarBeforeText","radarAfterText","userData","metalness","roughness","side","metricsMesh","set","_pplLoader","URL","settings","ppl","pplCol","pplMaterial","_loadOBJmodel","model","material","scale","_landscapeModelsLoader","landscapeModelsWrapper","modelName","modelURL","modelPos","modelscale","then","add","rotation","_setupBloom","scene","camera","renderer","params","renderScene","RenderPass","bloomPass","UnrealBloomPass","threshold","strength","radius","bloomComposer","EffectComposer","renderToScreen","addPass","finalPass","ShaderPass","uniforms","baseTexture","bloomTexture","renderTarget2","texture","vertexShader","_shaders","vertex","fragmentShader","frag","needsSwap","finalComposer","_setupAgents","tripName","agentsWrapper","fetch","res","json","tripsData","thisTripsAgents","_makeAgents","trips","catch","err","console","error","Math","cos","sin","h","s","l","spriteText","load","spritesWarpper","i","length","spriteMaterial","transparent","sprite","blending","_handelCityModel","Promise","resolve","OBJLoader","result","_createFloor","repeatX","repeatY","path","baseText","ao","displace","normalText","anisotropy","capabilities","getMaxAnisotropy","wrapS","wrapT","repeat","aoMap","aoMapIntensity","metalnessMap","displacementMap","displacementScale","normalMap","planeMesh","x","PI","z","ThreeScene","_init","shpContainer","_sceneSetup","floor","metricsObject","agentWrapper","loading","setLoadingState","startAnimationLoop","dispose","OrbitControls","mountingDiv","maxDistance","minDistance","lookAt","antialias","alpha","setPixelRatio","devicePixelRatio","shadowMap","enabled","toneMapping","setSize","appendChild","domElement","whiteLight1","intensity","w1","low","whiteLight2","w2","orangeLight","orange","shadow","blueLight","blue","lightsWrapper","postEffect","_animateAgents","time","timeCounter","children","forEach","tripsObject","pnt","simSpeed","handleWindowResize","clientWidth","clientHeight","aspect","updateProjectionMatrix","_handleVis","prevProps","menuInteraction","cityModelObject","getObjectByName","trips_car_before","trips_car_after","trips_pedestrians_before","trips_pedestrians_after","trips_bike_before","trips_bike_after","parks_before","parks_after","cultural_before","cultural_after","metricsObj","thisMenuItem","thisLight","onUpdate","Cubic","InOut","onStart","needsUpdate","high","slectedScene","newCamPos","camPos","newLookAt","_chooseRenderer","render","_cameraState","theta","cameraSpeed","degToRad","updateMatrixWorld","_blockCamera","update","requestID","requestAnimationFrame","past","camLookAt","addEventListener","cancelAnimationFrame","removeEventListener","mouse","ray","clientX","clientY","setFromCamera","clone","objects","intersectObjects","point","log","rayPos","displayTHREEscene","top","visibility","ref","div","START_SCENE","App","ReactGA","initialize","debug","siteSpeedSampleRate","pageview","location","pathname","search","Helmet","charSet","content","showMenu","ProviderWrapper","store","initialState","reducer","action","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","createStore","configureStore","document","getElementById","ReactDOM","Provider"],"mappings":"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","file":"static/js/main.49f4f34f.chunk.js","sourcesContent":["import React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nexport default function LoadingSprite() {\n    return (\n        <div>\n            <CircularProgress\n                style={{\n                    borderColor: \"#fff\",\n                    color: \"white\",\n                    fontWeight: \"bolder\",\n                }}\n            />\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n    typography: {\n        button: {\n            fontFamily: '\"Open Sans\", \"sans-serif\"',\n        },\n    },\n});\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        \"& > *\": {\n            margin: theme.spacing(1),\n        },\n    },\n}));\n\nexport default function EnterButton() {\n    const classes = useStyles();\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <div className={classes.root}>\n                <Button\n                    style={{\n                        borderColor: \"#fff\",\n                        color: \"white\",\n                        fontWeight: \"bolder\",\n                    }}\n                    variant=\"outlined\"\n                >\n                    Enter CityScope\n                </Button>\n            </div>\n        </MuiThemeProvider>\n    );\n}\n","import React from \"react\";\nimport \"./Video.css\";\nimport ReactPlayer from \"react-player\";\n\n// https://medium.com/@kevinsimper/full-width-youtube-embed-with-react-js-responsive-embed-509de7e7c3bf\n\nconst Video = () => {\n    return (\n        <div className=\"video-background\">\n            <div className=\"video-foreground\">\n                <ReactPlayer\n                    url={\"https://vimeo.com/390936231\"}\n                    playing={true}\n                    controls={false}\n                    muted\n                    loop\n                    width={\"0em\"}\n                    height={\"0em\"}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default Video;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SvgIcon from \"@material-ui/core/SvgIcon\";\n\nexport default function Logo() {\n    const useStyles = makeStyles(() => ({\n        CSlogo: {\n            color: \"white\",\n            fontSize: \"4em\",\n        },\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <SvgIcon\n            className={classes.CSlogo}\n            onClick={() =>\n                window.open(\"http://cityscope.media.mit.edu/\", \"_blank\")\n            }\n\n            // window.open(\"http://cityscope.media.mit.edu/\")}\n        >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 120 120\">\n                <path\n                    fill=\"#FFF\"\n                    d=\"M 60.2 38.4 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 61.1 38.4 60.6 38.4 60.2 38.4 Z M 64 28.8 h 2.1 v 1.7 H 64 V 28.8 Z M 64 31.5 h 2.1 v 6.7 H 64 V 31.5 Z M 69.9 38.3 c -0.3 0 -0.6 0 -0.9 -0.1 c -0.3 -0.1 -0.5 -0.2 -0.7 -0.3 c -0.2 -0.1 -0.3 -0.3 -0.4 -0.6 c -0.1 -0.2 -0.2 -0.5 -0.2 -0.9 v -3.6 h -0.9 v -1.3 h 0.9 v -2.1 h 2.1 v 2.1 H 71 v 1.3 h -1.2 V 36 c 0 0.3 0.1 0.4 0.2 0.5 c 0.1 0.1 0.3 0.1 0.5 0.1 c 0.1 0 0.2 0 0.3 0 c 0.1 0 0.2 0 0.2 0 v 1.6 c -0.1 0 -0.2 0.1 -0.4 0.1 C 70.4 38.3 70.2 38.3 69.9 38.3 Z M 72.2 38.8 H 73 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.1 -0.1 0.2 -0.3 0.2 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.5 c -0.1 -0.2 -0.2 -0.5 -0.3 -0.9 l -2 -5.2 h 2.3 l 0.9 2.9 c 0.1 0.2 0.1 0.3 0.2 0.5 c 0 0.2 0.1 0.3 0.1 0.5 c 0 0.2 0.1 0.3 0.1 0.5 h 0 c 0 -0.2 0.1 -0.3 0.1 -0.5 c 0 -0.1 0.1 -0.3 0.1 -0.5 c 0 -0.2 0.1 -0.4 0.2 -0.5 l 0.9 -2.9 h 2.1 l -2.3 6.8 c -0.1 0.4 -0.3 0.7 -0.4 1 c -0.2 0.3 -0.3 0.5 -0.5 0.7 c -0.2 0.2 -0.4 0.3 -0.7 0.4 c -0.3 0.1 -0.6 0.1 -0.9 0.1 h -1.4 V 38.8 Z M 59.8 50 c -1 0 -1.8 -0.2 -2.3 -0.6 c -0.6 -0.4 -0.9 -1 -0.9 -1.8 h 2 c 0 0.3 0.2 0.6 0.4 0.7 c 0.2 0.2 0.5 0.2 0.9 0.2 c 0.3 0 0.6 -0.1 0.8 -0.2 c 0.2 -0.1 0.3 -0.3 0.3 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.4 c -0.1 -0.1 -0.2 -0.2 -0.4 -0.2 c -0.2 -0.1 -0.3 -0.1 -0.5 -0.1 c -0.2 0 -0.4 -0.1 -0.6 -0.1 c -0.3 -0.1 -0.6 -0.1 -0.9 -0.2 c -0.3 -0.1 -0.5 -0.2 -0.8 -0.3 c -0.2 -0.1 -0.4 -0.3 -0.6 -0.6 c -0.1 -0.2 -0.2 -0.6 -0.2 -1 c 0 -0.3 0.1 -0.7 0.2 -0.9 c 0.2 -0.3 0.4 -0.5 0.6 -0.7 c 0.3 -0.2 0.6 -0.3 0.9 -0.4 c 0.4 -0.1 0.7 -0.1 1.1 -0.1 c 1 0 1.7 0.2 2.2 0.6 c 0.5 0.4 0.8 0.9 0.8 1.6 h -2 c 0 -0.3 -0.2 -0.5 -0.3 -0.6 c -0.2 -0.1 -0.4 -0.2 -0.7 -0.2 c -0.3 0 -0.5 0 -0.7 0.2 c -0.2 0.1 -0.3 0.3 -0.3 0.5 c 0 0.1 0 0.2 0.1 0.3 c 0.1 0.1 0.2 0.1 0.4 0.2 c 0.1 0 0.3 0.1 0.5 0.1 c 0.2 0 0.4 0.1 0.6 0.1 c 0.3 0.1 0.6 0.1 0.9 0.2 c 0.3 0.1 0.6 0.2 0.8 0.3 c 0.2 0.2 0.5 0.4 0.6 0.6 c 0.2 0.3 0.2 0.6 0.2 1 c 0 0.4 -0.1 0.7 -0.2 1 c -0.2 0.3 -0.4 0.5 -0.6 0.7 c -0.3 0.2 -0.6 0.3 -1 0.4 C 60.6 50 60.2 50 59.8 50 Z M 66.8 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 67.8 49.9 67.3 50 66.8 50 Z M 70.7 40.4 h 2.1 v 1.7 h -2.1 V 40.4 Z M 70.7 43.1 h 2.1 v 6.7 h -2.1 V 43.1 Z M 77.2 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 78 49.9 77.6 50 77.2 50 Z M 78.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 78.3 Z M 81.2 43.1 h 2.1 V 44 h 0 c 0.3 -0.4 0.5 -0.6 0.9 -0.8 c 0.3 -0.2 0.7 -0.3 1.2 -0.3 c 0.4 0 0.7 0.1 1 0.2 c 0.3 0.1 0.5 0.3 0.7 0.5 c 0.2 0.2 0.4 0.5 0.5 0.8 c 0.1 0.3 0.2 0.7 0.2 1 v 4.4 h -2.1 v -3.9 c 0 -0.4 -0.1 -0.6 -0.3 -0.9 c -0.2 -0.2 -0.4 -0.3 -0.8 -0.3 c -0.4 0 -0.6 0.1 -0.9 0.4 c -0.2 0.3 -0.3 0.6 -0.3 1 v 3.7 h -2.1 V 43.1 Z M 92 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 92.9 49.9 92.4 50 92 50 Z M 99.1 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 99.9 49.9 99.6 50 99.1 50 Z M 100.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 100.3 Z M 0 49.9 L 0 0 M 0 0 v 49.8 h 21.3 v -7.1 H 7.1 V 7.1 h 42.7 V 0 L 0 0 Z M 14.2 14.2 v 21.3 h 28.5 v 7.1 H 28.5 v 7.1 h 21.3 V 28.5 H 21.3 v -7.1 h 28.5 v -7.1 H 14.2 Z\"\n                />\n            </svg>\n        </SvgIcon>\n    );\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { connect } from \"react-redux\";\nimport \"./LandingPage.css\";\nimport LoadingSprite from \"../LandingPage/LoadingSprite\";\nimport EnterButton from \"../LandingPage/EnterButton\";\nimport Box from \"@material-ui/core/Box\";\nimport Video from \"./Video\";\nimport { setStartSceneState } from \"../../redux/actions\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Logo from \"../../components/Menu/Logo\";\n\nfunction LandingPage(props) {\n    const theme = createMuiTheme({\n        overrides: {\n            MuiCssBaseline: {\n                \"@global\": {\n                    \"*\": {\n                        \"scrollbar-width\": \"thin\",\n                    },\n                    \"*::-webkit-scrollbar\": {\n                        width: \"4px\",\n                        height: \"4px\",\n                    },\n                },\n            },\n        },\n        palette: {\n            background: {\n                default: \"black\",\n            },\n            color: {\n                default: \"#fff\",\n            },\n        },\n        typography: {\n            h2: {\n                fontFamily: [\"Cormorant Garamond\", \"cursive\"].join(\",\"),\n                fontWeight: 400,\n                fontSize: \"4.5em\",\n            },\n            subtitle1: {\n                fontFamily: '\"Roboto\", \"Cormorant Garamond\", \"sans-serif\"',\n                fontWeight: 400,\n                fontSize: \"1.5em\",\n            },\n            subtitle2: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n            },\n            caption: {\n                fontFamily: '\"Roboto\",\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"1em\",\n            },\n            h6: {\n                fontSize: \"2em\",\n                fontWeight: 400,\n\n                fontFamily: [\"Cormorant Garamond\", \"cursive\"].join(\",\"),\n            },\n        },\n    });\n\n    const useStyles = makeStyles((theme) => ({\n        box: {\n            background: \"none\",\n            color: \"#fff\",\n            padding: theme.spacing(3),\n            [theme.breakpoints.down(\"sm\")]: {\n                maxWidth: \"90vw\",\n            },\n            [theme.breakpoints.up(\"md\")]: {\n                maxWidth: \"70vw\",\n            },\n            [theme.breakpoints.up(\"lg\")]: {\n                maxWidth: \"60vw\",\n            },\n\n            textAlign: \"center\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            maxHeight: \"100vh\",\n            overflow: \"auto\",\n        },\n    }));\n\n    const [startScene, setStartScene] = useState(false);\n\n    function _enterButtonEvent(e) {\n        e.preventDefault();\n        // hook\n        setStartScene(true);\n        // redux the start\n        props.setStartSceneState(true);\n    }\n\n    const classes = useStyles();\n\n    if (!startScene) {\n        return (\n            <React.Fragment>\n                <MuiThemeProvider theme={theme}>\n                    <Box className={classes.box}>\n                        <CssBaseline />\n                        <Box p={1.5}></Box>\n                        <Typography variant=\"h2\">CITYSCOPE</Typography>\n                        <Typography variant=\"h2\">Champs-Élysées </Typography>\n                        <Box p={3} />\n\n                        {props.readyState ? (\n                            <React.Fragment>\n                                <LoadingSprite />\n                                <Typography variant=\"caption\">\n                                    Loading CityScope...\n                                </Typography>\n                            </React.Fragment>\n                        ) : (\n                            <div onClick={_enterButtonEvent}>\n                                <EnterButton />\n                            </div>\n                        )}\n                        <Box p={3} />\n\n                        <Typography variant=\"subtitle1\">\n                            <b>\n                                Virtual CityScope Champs-Élysées is an\n                                interactive and immersive platform to explore\n                                the future of Paris’ most important street.{\" \"}\n                            </b>\n                            CityScope Champs-Élysées is a tangible user\n                            interface for urban planning and decision-making. It\n                            was designed as part of an exhibition at the\n                            Pavillon de l'Arsenal in Paris, France. The\n                            exhibition, curated by PCA-STREAM, explores new\n                            plans and future interventions for the Champs\n                            Élysées Avenue. These plans include options for\n                            reduced traffic, encouraged walkability, improved\n                            cycling and pedestrian mobility, and improved access\n                            to cultural landmarks and amenities along the\n                            avenue. Due to COVID-19 and the forced shutdown of\n                            the exhibition, we have decided to move this\n                            exhibition online.\n                        </Typography>\n                        <Box p={3} />\n\n                        <Grid container spacing={5}>\n                            <Grid item xs={12} md={6} lg={6}>\n                                <Typography variant=\"h6\">\n                                    CityScope Champs-Elysées\n                                </Typography>\n                                <Typography variant=\"caption\">\n                                    in Pavillon de l'Arsenal, Paris\n                                </Typography>\n                                <Box p={1} />\n                                <div>\n                                    <Typography variant=\"caption\">\n                                        Arnaud Grignard, Nicolas Ayoub, Luis\n                                        Alonso, Ariel Noyman, Markus Elkatsha,\n                                        Maggie Church, Kent Larson\n                                    </Typography>\n                                </div>\n                                <div>\n                                    <Typography variant=\"caption\">\n                                        Gama Platform: Tri Nguyen-Huu (IRD),\n                                        Patrick Taillandier (INRA), Alexis\n                                        Drogoul (IRD)\n                                    </Typography>\n                                </div>\n                            </Grid>\n\n                            <Grid item xs={12} md={6} lg={6}>\n                                <Typography variant=\"h6\">\n                                    Virtual CityScope\n                                </Typography>\n\n                                <Box p={1} />\n                                <Typography variant=\"caption\">\n                                    Ariel Noyman, Arnaud Grignard, Nicolas\n                                    Ayoub, Tri Nguyen-Huu, Luis Alonso, Kent\n                                    Larson\n                                </Typography>\n                            </Grid>\n                        </Grid>\n\n                        <Box p={2} />\n                        <Logo />\n                    </Box>\n                </MuiThemeProvider>\n                <Video youtubeId={\"MVhauHKiEPA\"} />\n            </React.Fragment>\n        );\n    } else {\n        return null;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        readyState: state.LOADING,\n    };\n};\n\nconst mapDispatchToProps = {\n    setStartSceneState: setStartSceneState,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LandingPage);\n","/**\n * ACTIONS\n */\n\nexport const SET_LOADING_STATE = \"SET_LOADING_STATE\";\nexport function setLoadingState(data) {\n    return { type: SET_LOADING_STATE, data };\n}\n\nexport const SET_START_STATE = \"SET_START_SCENE\";\nexport function setStartSceneState(data) {\n    return { type: SET_START_STATE, data };\n}\n\nexport const MENU_INTERACTION = \"MENU_INTERACTION\";\nexport function listenToMenuUI(data) {\n    return { type: MENU_INTERACTION, data };\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\n\nexport function CSSwitch(props) {\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            width: 30,\n            height: 12,\n            padding: 0,\n            margin: theme.spacing(1),\n        },\n        switchBase: {\n            padding: 1,\n            \"&$checked\": {\n                transform: \"translateX(16px)\",\n                color: theme.palette.common.white,\n                \"& + $track\": {\n                    backgroundColor: props.knobcolor || \"#888\",\n                    opacity: 1,\n                },\n            },\n            \"&$focusVisible $thumb\": {\n                color: \"#888\",\n                border: \"1px solid #FFF\",\n            },\n        },\n        thumb: {\n            width: 10,\n            height: 10,\n        },\n        track: {\n            borderRadius: 30 / 2,\n            backgroundColor: \"#FFF3\",\n            opacity: 1,\n        },\n        checked: {},\n        focusVisible: {},\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Switch\n            focusVisibleClassName={classes.focusVisible}\n            disableRipple\n            classes={{\n                root: classes.root,\n                switchBase: classes.switchBase,\n                thumb: classes.thumb,\n                track: classes.track,\n                checked: classes.checked,\n            }}\n            {...props}\n        />\n    );\n}\n","import React, { Component } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\nimport { IconButton } from \"@material-ui/core\";\n\nconst style = {\n    audioIconWrapper: {\n        color: \"rgba(255,255,255)\",\n        width: 30,\n        height: 30,\n        padding: 0,\n    },\n};\n\nexport default class Audio extends Component {\n    state = {\n        playing: false,\n    };\n\n    handlePause = () => {\n        this.setState({ playing: false });\n    };\n\n    handlePlay = () => {\n        this.setState({ playing: true });\n    };\n\n    render() {\n        const iconSelector = () => {\n            if (this.state.playing) {\n                return (\n                    <IconButton onClick={this.handlePause}>\n                        <PauseCircleOutlineIcon\n                            style={style.audioIconWrapper}\n                        />\n                    </IconButton>\n                );\n            } else {\n                return (\n                    <IconButton onClick={this.handlePlay}>\n                        <PlayCircleOutlineIcon style={style.audioIconWrapper} />\n                    </IconButton>\n                );\n            }\n        };\n\n        return (\n            <React.Fragment>\n                {iconSelector()}\n\n                <ReactPlayer\n                    url={\"resources/audio/ace.mp3\"}\n                    playing={this.state.playing}\n                    controls={false}\n                    loop\n                    width={\"0em\"}\n                    height={\"0em\"}\n                />\n            </React.Fragment>\n        );\n    }\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { Paper } from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\n\nconst theme = createMuiTheme({\n    overrides: {\n        MuiCssBaseline: {\n            \"@global\": {\n                \"*\": {\n                    \"scrollbar-width\": \"thin\",\n                },\n                \"*::-webkit-scrollbar\": {\n                    width: \"5px\",\n                    height: \"10px\",\n                },\n            },\n        },\n    },\n    palette: {\n        textPrimary: { main: \"white\" },\n    },\n    typography: {\n        h2: {\n            fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n            fontSize: \"3em\",\n        },\n\n        h3: {\n            fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n            fontSize: \"2em\",\n        },\n        subtitle1: {\n            fontFamily: '\"Roboto\",\"Cormorant Garamond\", \"sans-serif\"',\n            fontSize: \"1.25em\",\n        },\n    },\n});\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        color: \"white\",\n        background: \"rgba(0,0,0,0.9)\",\n        marginBottom: \"0em\",\n        overflow: \"auto\",\n        padding: \"3em\",\n    },\n}));\n\nexport default function Info() {\n    const classes = useStyles();\n    // getModalStyle is not a pure function, we roll the style only on the first render\n    const [open, setOpen] = React.useState(false);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <div>\n                <InfoIcon\n                    type=\"button\"\n                    style={{ color: \"white\" }}\n                    onClick={handleOpen}\n                />\n                <CssBaseline />\n                <Dialog open={open} onClose={handleClose} id={\"modal\"}>\n                    <Paper className={classes.paper}>\n                        <Typography variant=\"h2\">\n                            CityScope Champs-Élysées\n                        </Typography>\n                        <Box p={3} />\n                        <Typography variant=\"subtitle1\">\n                            <b>\n                                Virtual CityScope Champs-Élysées is an\n                                interactive and immersive platform to explore\n                                the future of Paris’ most important street.{\" \"}\n                            </b>\n                            CityScope Champs-Élysées is a tangible user\n                            interface for urban planning and decision-making. It\n                            was designed as part of an exhibition at the\n                            Pavillon de l'Arsenal in Paris, France. The\n                            exhibition, curated by PCA-STREAM, explores new\n                            plans and future interventions for the Champs\n                            Élysées Avenue. These plans include options for\n                            reduced traffic, encouraged walkability, improved\n                            cycling and pedestrian mobility, and improved access\n                            to cultural landmarks and amenities along the\n                            avenue. Due to COVID-19 and the forced shutdown of\n                            the exhibition, we have decided to move this\n                            exhibition online.\n                        </Typography>\n                        <Box p={3} />\n                        <Typography variant=\"subtitle1\">\n                            <p>\n                                <Typography variant=\"h3\">\n                                    CityScope Champs-Elysées\n                                </Typography>\n                            </p>\n                            <p>\n                                MIT City Science Team: Arnaud Grignard, Nicolas\n                                Ayoub, Luis Alonso, Ariel Noyman, Markus\n                                Elkatsha, Maggie Church, Kent Larson\n                            </p>\n                            <p>\n                                Gama Platform Team: Tri Nguyen-Huu (IRD),\n                                Patrick Taillandier (INRA), Alexis Drogoul (IRD)\n                            </p>\n                            <Typography variant=\"h3\">\n                                Virtual CityScope Champs-Elysées\n                            </Typography>\n                            <p>\n                                Ariel Noyman, Arnaud Grignard, Nicolas Ayoub,\n                                Luis Alonso, Tri Nguyen-Huu, Kent Larson\n                            </p>\n                            <Box p={3} />\n                        </Typography>\n                    </Paper>\n                </Dialog>\n            </div>\n        </MuiThemeProvider>\n    );\n}\n","import React, { useEffect } from \"react\";\nimport \"./OverlayMertics.scss\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// ! https://codepen.io/rishatmuhametshin/pen/BWRzGB\n\nexport default function OverlayMertics(props) {\n    const useStyles = makeStyles({\n        root: {\n            position: \"fixed\",\n            bottom: \"10em\",\n            right: \"3em\",\n            zIndex: 9999,\n            maxWidth: \"20em\",\n        },\n    });\n\n    const theme = createMuiTheme({\n        palette: {\n            textPrimary: { main: \"white\" },\n        },\n        typography: {\n            h5: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"3em\",\n                fontWeight: \"300\",\n                color: \"white\",\n                textShadow: \"0em 0em 0.2em #000\",\n            },\n        },\n    });\n\n    const classes = useStyles();\n    const [bool, setValue] = React.useState(props);\n\n    // render on new props\n    useEffect(() => {\n        // only show when toggled on\n        if (props.thisToggleName) {\n            setValue(true);\n            setTimeout(() => {\n                setValue(false);\n            }, 5000);\n        }\n    }, [props.thisToggleName]);\n\n    /*\n    2020\t \n \t \n    Layer\tSentence\n          \n    Car layer:\t33% car based mobility and 318 670 gCO2/Km\n    Pedestrian layer:\t60% pedestrian mobility and 257 000m² of Pedestrian pathwalk.\n    Bikes layer:\t2% bike based mobility and 10 250 vehicles/h\n    Parks layer:\t75 500m2 of open land of parks and 35ºC sidewalk temperature.\n    Leisure layer:\t6 types of leisure offer and 7 300 m² of Relaxation areas.\n          \n    2040\t \n          \n    Car layer:\t51% reduction in cars and 48% reduction in air pollution\n    Pedestrian layer:\t23% increase of pedestrian mobility and a increase of 29% in Pedestrian pathwalk.\n    Bikes layer:\t66% increase of bikes and 24% reduction of vehicles/h\n    Parks layer:\t49% increase of parks and 4ºC of temperature reduction in sidewalk temperature.\n    Leisure layer:\t20 new types of leisure offer and an increase of 585% in Relaxation areas.\n*/\n\n    const OverlayContent = () => {\n        let toggle = props.thisToggleName;\n        let scenario = props.scenarioSwitch;\n\n        if (!scenario) {\n            // ! 2020\n            switch (toggle) {\n                case \"parks\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                75500m² of parks\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"culturalBuildings\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                6 leisure types, 7300m² of relaxation space\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"cars\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                33% mobility, 318,670 gCO2/Km\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"bicycles\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                2% bike based mobility, 10,250 vehicles/h\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"pedestrians\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                60% pedestrian, 257,000m² pathways\n                            </Typography>\n                        </React.Fragment>\n                    );\n                default:\n                    return <React.Fragment />;\n            }\n        } else {\n            // ! 2040\n            switch (toggle) {\n                case \"parks\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                +49% parks area, -4ºC on sidewalks\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"culturalBuildings\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                +20 new leisure types, +585% in resting areas\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"cars\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                -51% cars, -48% air pollution\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"bicycles\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                +66% cyclists, -24% vehicles\n                            </Typography>\n                        </React.Fragment>\n                    );\n                case \"pedestrians\":\n                    return (\n                        <React.Fragment>\n                            <Typography variant=\"h5\">\n                                +23% pedestrians, +29% pathways\n                            </Typography>\n                        </React.Fragment>\n                    );\n                default:\n                    return <React.Fragment />;\n            }\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <CssBaseline />\n            <MuiThemeProvider theme={theme}>\n                <div className={` ${bool ? \"show\" : \"hide\"}`}>\n                    <div className={classes.root}>\n                        <OverlayContent />\n                    </div>\n                </div>\n            </MuiThemeProvider>\n        </React.Fragment>\n    );\n}\n","import React, { useState } from \"react\";\n\nimport \"./BigSwitch.scss\";\n\nexport default function BigSwitch(props) {\n    const [checked, updateChecked] = useState(false);\n\n    return (\n        <label className={`Toggle ${checked ? \"Toggle--checked\" : \"\"}`}>\n            <input\n                name={props.name}\n                id={props.name}\n                type=\"checkbox\"\n                value={checked}\n                onChange={() => updateChecked(!checked)}\n            />\n\n            <div className=\"Toggle__slider\" />\n            <small className=\"Toggle__text\">2020</small>\n            <small className=\"Toggle__text\">2040</small>\n        </label>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { CSSwitch } from \"./CSSwitch\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuOpenIcon from \"@material-ui/icons/MenuOpen\";\nimport { listenToMenuUI } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Audio from \"../Audio\";\nimport Info from \"./Info\";\nimport Logo from \"./Logo\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport OverlayMertics from \"./OverlayMertics/OverlayMertics\";\nimport Box from \"@material-ui/core/Box\";\nimport BigSwitch from \"./BigSwitch/BigSwitch\";\n\nimport Divider from \"@material-ui/core/Divider\";\n\n// ! https://github.com/mui-org/material-ui/issues/9290\n\nfunction Menu(props) {\n    const drawerWidth = 300;\n\n    const switchColors = {\n        parks: \"#84ff03\",\n        cultural: \"#fe01fe\",\n        cars: \"#fc0303\",\n        bicycles: \"#03bafc\",\n        pedestrians: \"#FFF7\",\n    };\n\n    const theme = createMuiTheme({\n        palette: {\n            textPrimary: { main: \"white\" },\n        },\n        typography: {\n            body1: {\n                fontFamily: '\"Roboto\", \"sans-serif\"',\n                fontSize: \"1em\",\n            },\n            h5: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"3em\",\n                fontWeight: \"300\",\n            },\n            h6: {\n                fontFamily: '\"Cormorant Garamond\", \"sans-serif\"',\n                fontSize: \"1.8em\",\n                fontWeight: \"400\",\n            },\n            h3: {\n                fontFamily: '\"Roboto\", \"sans-serif\"',\n                fontSize: \"1.5em\",\n            },\n            caption: {\n                fontFamily: '\"Roboto\", \"sans-serif\"',\n                fontSize: \"1em\",\n            },\n        },\n    });\n\n    const useStyles = makeStyles(() => ({\n        dividerColor: {\n            backgroundColor: \"white\",\n        },\n        checked: {},\n        radio: {\n            \"&$checked\": {\n                color: \"#fff\",\n            },\n        },\n\n        toolBar: { alignItems: \"end\" },\n        title: {\n            flexGrow: 2,\n        },\n        appBar: {\n            background: \"rgba(0,0,0,0.7)\",\n\n            color: \"white\",\n            transition: theme.transitions.create([\"margin\", \"width\"], {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.leavingScreen,\n            }),\n        },\n        menuIconWrapper: {\n            color: \"rgba(255,255,255)\",\n            position: \"fixed\",\n            bottom: \"1em\",\n            right: \"1em\",\n            zIndex: 9999,\n        },\n\n        LogoWrapper: {\n            position: \"fixed\",\n            bottom: \"1em\",\n            left: \"1em\",\n            zIndex: 1,\n        },\n\n        largeIcon: {\n            width: 40,\n            height: 40,\n        },\n        appBarShift: {\n            width: `calc(100% - ${drawerWidth}px)`,\n            marginLeft: drawerWidth,\n            transition: theme.transitions.create([\"margin\", \"width\"], {\n                easing: theme.transitions.easing.easeOut,\n                duration: theme.transitions.duration.enteringScreen,\n            }),\n        },\n        hide: {\n            display: \"none\",\n        },\n        drawer: {\n            width: drawerWidth,\n            flexShrink: 0,\n        },\n        drawerPaper: {\n            background: \"rgba(0,0,0,0)\",\n            width: drawerWidth,\n            height: \"100%\",\n        },\n    }));\n\n    const handleToggle = (toggleName) => {\n        listenToMenuUI({\n            ...toggleStates,\n            [toggleName]: !toggleStates[toggleName],\n            // add only toggle name if it was turned on\n            thisToggleName: !toggleStates[toggleName] ? toggleName : null,\n        });\n    };\n\n    const [radioValue, setRadioValue] = React.useState(\"animateCamera\");\n\n    const cameraRadio = (e) => {\n        setRadioValue(e.target.value);\n        listenToMenuUI({\n            ...toggleStates,\n            cameraScene: e.target.value,\n        });\n    };\n\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const [checked] = React.useState(true);\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const { toggleStates, listenToMenuUI } = props;\n\n    return (\n        <React.Fragment>\n            {/*  */}\n            <CssBaseline />\n            {/*  */}\n            <MuiThemeProvider theme={theme}>\n                {/*  */}\n                <OverlayMertics\n                    thisToggleName={toggleStates.thisToggleName}\n                    scenarioSwitch={toggleStates.scenarioSwitch}\n                />\n                {/*  */}\n                <Tooltip title=\"Toggle Options\" placement=\"top\">\n                    <IconButton\n                        className={classes.menuIconWrapper}\n                        variant=\"outlined\"\n                        onClick={open ? handleDrawerClose : handleDrawerOpen}\n                    >\n                        <MenuOpenIcon className={classes.largeIcon} />\n                    </IconButton>\n                </Tooltip>\n                <div className={classes.LogoWrapper}>\n                    <Logo />\n                </div>\n                {/*  */}\n\n                <Drawer\n                    className={classes.drawer}\n                    variant=\"persistent\"\n                    anchor=\"left\"\n                    open={open}\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                >\n                    <Collapse timeout={500} in={checked}>\n                        {/*  */}\n\n                        <AppBar position=\"static\" className={classes.appBar}>\n                            <Box p={1} />\n                            <ListItem>\n                                <Typography variant=\"h5\">CityScope</Typography>\n                            </ListItem>\n                            <ListItem>\n                                <Typography variant=\"h6\">\n                                    Champs-Élysées\n                                </Typography>\n                            </ListItem>\n\n                            <ListItem>\n                                <div\n                                    onChange={() => {\n                                        handleToggle(\"scenarioSwitch\");\n                                    }}\n                                    name=\"scenarioSwitch\"\n                                    checked={toggleStates.scenarioSwitch}\n                                >\n                                    <BigSwitch\n                                        onChange={() => {\n                                            handleToggle(\"scenarioSwitch\");\n                                        }}\n                                        name=\"scenarioSwitch\"\n                                        checked={toggleStates.scenarioSwitch}\n                                    />\n                                </div>\n                            </ListItem>\n                            <Box p={1} />\n\n                            <Divider classes={{ root: classes.dividerColor }} />\n\n                            {/*  */}\n\n                            <ListItem>\n                                <Typography variant=\"h6\">\n                                    select view\n                                </Typography>\n                            </ListItem>\n\n                            <ListItem>\n                                <FormControl component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"camera\"\n                                        name=\"camera\"\n                                        onChange={cameraRadio}\n                                        value={radioValue}\n                                    >\n                                        <FormControlLabel\n                                            value=\"animateCamera\"\n                                            control={\n                                                <Radio\n                                                    classes={{\n                                                        root: classes.radio,\n                                                    }}\n                                                />\n                                            }\n                                            label={\n                                                <Typography>\n                                                    Animate Camera\n                                                </Typography>\n                                            }\n                                        />\n\n                                        <FormControlLabel\n                                            value=\"radarCamera\"\n                                            control={\n                                                <Radio\n                                                    classes={{\n                                                        root: classes.radio,\n                                                    }}\n                                                />\n                                            }\n                                            label={\n                                                <Typography>\n                                                    Urban Metrics\n                                                </Typography>\n                                            }\n                                        />\n\n                                        <FormControlLabel\n                                            value=\"Triomphe\"\n                                            control={\n                                                <Radio\n                                                    classes={{\n                                                        root: classes.radio,\n                                                    }}\n                                                />\n                                            }\n                                            label={\n                                                <Typography>\n                                                    Arc de Triomphe\n                                                </Typography>\n                                            }\n                                        />\n                                        <FormControlLabel\n                                            value=\"Champs\"\n                                            control={\n                                                <Radio\n                                                    classes={{\n                                                        root: classes.radio,\n                                                    }}\n                                                />\n                                            }\n                                            label={\n                                                <Typography>\n                                                    Avenue des Champs-Élysées\n                                                </Typography>\n                                            }\n                                        />\n                                        <FormControlLabel\n                                            value=\"Palais\"\n                                            control={\n                                                <Radio\n                                                    classes={{\n                                                        root: classes.radio,\n                                                    }}\n                                                />\n                                            }\n                                            label={\n                                                <Typography>\n                                                    Grand & Petit Palais\n                                                </Typography>\n                                            }\n                                        />\n                                        <FormControlLabel\n                                            value=\"Concorde\"\n                                            control={\n                                                <Radio\n                                                    classes={{\n                                                        root: classes.radio,\n                                                    }}\n                                                />\n                                            }\n                                            label={\n                                                <Typography>\n                                                    Place de la Concorde\n                                                </Typography>\n                                            }\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </ListItem>\n\n                            {/*  */}\n                            <Divider classes={{ root: classes.dividerColor }} />\n\n                            {/*  */}\n                            <ListItem>\n                                <Typography variant=\"h6\">layers</Typography>\n                            </ListItem>\n                            <ListItem>\n                                <CSSwitch\n                                    knobcolor={switchColors.parks}\n                                    checked={toggleStates.parks}\n                                    onChange={() => handleToggle(\"parks\")}\n                                    name=\"parks\"\n                                />\n                                <Typography variant=\"caption\">parks</Typography>\n                            </ListItem>\n                            <ListItem>\n                                <CSSwitch\n                                    knobcolor={switchColors.cultural}\n                                    checked={toggleStates.culturalBuildings}\n                                    onChange={() =>\n                                        handleToggle(\"culturalBuildings\")\n                                    }\n                                    name=\"culturalBuildings\"\n                                />\n                                <Typography variant=\"caption\">\n                                    cultural\n                                </Typography>\n                            </ListItem>\n\n                            <ListItem>\n                                <CSSwitch\n                                    knobcolor={switchColors.cars}\n                                    checked={toggleStates.cars}\n                                    onChange={() => handleToggle(\"cars\")}\n                                    name=\"cars\"\n                                />\n                                <Typography variant=\"caption\">cars</Typography>\n                            </ListItem>\n                            <ListItem>\n                                <CSSwitch\n                                    knobcolor={switchColors.bicycles}\n                                    checked={toggleStates.bicycles}\n                                    onChange={() => handleToggle(\"bicycles\")}\n                                    name=\"bicycles\"\n                                />\n                                <Typography variant=\"caption\">\n                                    bicycles\n                                </Typography>\n                            </ListItem>\n                            <ListItem>\n                                <CSSwitch\n                                    knobcolor={switchColors.pedestrians}\n                                    checked={toggleStates.pedestrians}\n                                    onChange={() => handleToggle(\"pedestrians\")}\n                                    name=\"pedestrians\"\n                                />\n                                <Typography variant=\"caption\">\n                                    pedestrians\n                                </Typography>\n                            </ListItem>\n                            {/*  */}\n                            <Divider classes={{ root: classes.dividerColor }} />\n                            {/*  */}\n                            <ListItem>\n                                <Typography variant=\"h6\">settings</Typography>\n                            </ListItem>\n\n                            <ListItem>\n                                <Audio />\n                                <Typography variant=\"caption\">\n                                    \"Aux Champs Elysées\" by Arthur Des Ligneris\n                                </Typography>\n                            </ListItem>\n\n                            <ListItem>\n                                <CSSwitch\n                                    checked={toggleStates.metricsObjSwitch}\n                                    onChange={() =>\n                                        handleToggle(\"metricsObjSwitch\")\n                                    }\n                                    name=\"metricsObjSwitch\"\n                                />\n                                <Typography variant=\"caption\">\n                                    toggle metrics\n                                </Typography>\n                            </ListItem>\n                            <ListItem>\n                                <CSSwitch\n                                    checked={toggleStates.cityModelSwitch}\n                                    onChange={() =>\n                                        handleToggle(\"cityModelSwitch\")\n                                    }\n                                    name=\"cityModelSwitch\"\n                                />\n                                <Typography variant=\"caption\">\n                                    toggle 3D model\n                                </Typography>\n                            </ListItem>\n\n                            <ListItem>\n                                <CSSwitch\n                                    checked={toggleStates.quality}\n                                    onChange={() => handleToggle(\"quality\")}\n                                    name=\"quality\"\n                                />\n                                <Typography variant=\"caption\">\n                                    render quality (for fast devices)\n                                </Typography>\n                            </ListItem>\n\n                            <ListItem>\n                                <IconButton>\n                                    <Info />\n                                </IconButton>\n                                <Typography variant=\"caption\">\n                                    information\n                                </Typography>\n                            </ListItem>\n                            <Box p={5} />\n                        </AppBar>\n                    </Collapse>\n                    {/*  */}\n                </Drawer>\n\n                {/*  */}\n            </MuiThemeProvider>\n        </React.Fragment>\n    );\n}\n\nconst mapStateToProps = (state) => ({\n    toggleStates: state.MENU_INTERACTION,\n});\n\nconst mapDispatchToProps = {\n    listenToMenuUI: listenToMenuUI,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\n","import * as THREE from \"three\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer.js\";\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass.js\";\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass.js\";\nimport * as settings from \"../../settings.json\";\nimport TWEEN from \"@tweenjs/tween.js\";\n\n/**\n *\n * @param {*}  object THREEjs obj\n * three-way display control\n * \n * \n * \n *        \n *  new TWEEN.Tween(object.position)\n            .to(\n                {\n                    y: object.position.y ,\n                },\n                1000\n            )\n            .easing(TWEEN.Easing.Quadratic.Out)\n            .start()\n            .onComplete(() =>\n\n\n */\n\nexport const _objectDisplay = (object, bool) => {\n    const _visability = (object, bool) => {\n        object.traverse(function (child) {\n            if (child instanceof THREE.Mesh || child instanceof THREE.Sprite) {\n                child.visible = bool;\n            }\n        });\n    };\n\n    if (object) {\n        if (bool) {\n            _visability(object, bool);\n\n            object.position.y = object.Y_Value * 2;\n            new TWEEN.Tween(object.position)\n                .to(\n                    {\n                        y: object.Y_Value,\n                    },\n                    1000\n                )\n                .easing(TWEEN.Easing.Quadratic.Out)\n                .start();\n        } else {\n            new TWEEN.Tween(object.position)\n                .to(\n                    {\n                        y: object.Y_Value * 2,\n                    },\n                    1000\n                )\n                .easing(TWEEN.Easing.Quadratic.Out)\n                .start()\n                .onComplete(() => {\n                    _visability(object, bool);\n                    object.position.y = object.Y_Value;\n                });\n        }\n    }\n};\n\nexport const _addCustomSceneObjects = async () => {\n    /**\n     * The model pedestal\n     */\n\n    var pedestalTexture = await _loadTexture(\n        \"./resources/textures/shadowmap.png\"\n    );\n\n    // pedestal  model material\n    let modelColor = new THREE.Color();\n    modelColor.setHSL(0, 0, 0.5);\n    let modelMaterial = new THREE.MeshPhongMaterial({\n        color: modelColor,\n    });\n\n    var topModelMaterial = new THREE.MeshPhongMaterial({\n        map: pedestalTexture,\n        color: modelColor,\n    });\n\n    // 6 sides material for pedestal\n    let materialArray = [\n        modelMaterial,\n        modelMaterial,\n        topModelMaterial,\n        modelMaterial,\n        modelMaterial,\n        modelMaterial,\n    ];\n    // fix scaling issue\n    pedestalTexture.minFilter = THREE.LinearFilter;\n    const cubeGeo = new THREE.BoxBufferGeometry(1.57, 0.7, 0.92);\n    cubeGeo.translate(0, 0.35, 0);\n    const pedestalMesh = new THREE.Mesh(cubeGeo, materialArray);\n    pedestalMesh.castShadow = true;\n    pedestalMesh.receiveShadow = true;\n    pedestalMesh.name = \"pedestalMesh\";\n\n    return pedestalMesh;\n};\n\nexport const _addMetricsObject = async () => {\n    var radarBeforeText = await _loadTexture(\n        \"./resources/textures/radar/rb.jpg\"\n    );\n    var radarAfterText = await _loadTexture(\n        \"./resources/textures/radar/ra.jpg\"\n    );\n\n    // pedestal  model material\n    let modelColor = new THREE.Color();\n    modelColor.setHSL(0, 0, 0.5);\n\n    var modelMaterial = new THREE.MeshStandardMaterial({\n        name: \"radarMaterial\",\n        color: modelColor,\n        userData: {\n            radarBeforeText: radarBeforeText,\n            radarAfterText: radarAfterText,\n        },\n        map: radarBeforeText,\n        metalness: 0.2,\n        roughness: 10,\n    });\n\n    modelMaterial.side = THREE.DoubleSide;\n\n    // 6 sides material for pedestal\n    let materialArray = [\n        false,\n        modelMaterial,\n        false,\n        false,\n        modelMaterial,\n        modelMaterial,\n    ];\n    // fix scaling issue\n    radarBeforeText.minFilter = THREE.LinearFilter;\n    const cubeGeo = new THREE.BoxBufferGeometry(1.57, 1.57, 0.002);\n\n    const metricsMesh = new THREE.Mesh(cubeGeo, materialArray);\n    metricsMesh.position.set(0, 1.8, 0);\n    metricsMesh.Y_Value = 1.8;\n    metricsMesh.castShadow = false;\n    metricsMesh.receiveShadow = false;\n    metricsMesh.name = \"metricsObj\";\n\n    return metricsMesh;\n};\n\nexport const _pplLoader = async () => {\n    let URL = settings.pplModel.ppl;\n    let pplCol = new THREE.Color();\n    pplCol.setHSL(0, 0, 0.2);\n    let pplMaterial = new THREE.MeshLambertMaterial({\n        color: pplCol,\n    });\n    // load other models\n    let model = await _loadOBJmodel(URL);\n    model.name = \"people\";\n    model.traverse(function (child) {\n        child.material = pplMaterial;\n        child.scale.set(0.95, 0.95, 0.95);\n        child.position.set(0, 0.01, 0);\n        child.castShadow = true;\n    });\n    return model;\n};\n\nexport const _landscapeModelsLoader = async () => {\n    let landscapeModelsWrapper = new THREE.Object3D();\n    landscapeModelsWrapper.name = \"landscapeModelsWrapper\";\n\n    for (const modelName in settings.landscapeModels) {\n        let modelURL = settings.landscapeModels[modelName].URL;\n        let modelColor = settings.landscapeModels[modelName].color;\n        let modelPos = settings.landscapeModels[modelName].position;\n        let modelscale = settings.landscapeModels[modelName].scale;\n        // load other models\n        await _loadOBJmodel(modelURL).then((model) => {\n            landscapeModelsWrapper.add(model);\n            model.name = modelName;\n            model.scale.set(modelscale, modelscale, modelscale);\n            model.Y_Value = modelPos[1];\n            model.rotation.set(0, 0.4625123, 0);\n            model.traverse(function (child) {\n                child.material = new THREE.MeshPhongMaterial({\n                    color: new THREE.Color(\"hsl\" + modelColor),\n                });\n                child.position.set(modelPos[0], modelPos[1], modelPos[2]);\n            });\n        });\n    }\n    return landscapeModelsWrapper;\n};\n\n/**\n *\n * @param {} camera\n */\n\nexport const _setupBloom = (width, height, scene, camera, renderer) => {\n    var params = {\n        exposure: 1,\n        bloomStrength: 0.45,\n        bloomThreshold: 0,\n        bloomRadius: 0.1,\n    };\n    var renderScene = new RenderPass(scene, camera);\n    var bloomPass = new UnrealBloomPass(\n        new THREE.Vector2(width, height),\n        1,\n        0.4,\n        0.85\n    );\n    bloomPass.threshold = params.bloomThreshold;\n    bloomPass.strength = params.bloomStrength;\n    bloomPass.radius = params.bloomRadius;\n    let bloomComposer = new EffectComposer(renderer);\n    bloomComposer.renderToScreen = false;\n    bloomComposer.addPass(renderScene);\n    bloomComposer.addPass(bloomPass);\n    var finalPass = new ShaderPass(\n        new THREE.ShaderMaterial({\n            uniforms: {\n                baseTexture: { value: null },\n                bloomTexture: {\n                    value: bloomComposer.renderTarget2.texture,\n                },\n            },\n            vertexShader: _shaders().vertex,\n            fragmentShader: _shaders().frag,\n        }),\n        \"baseTexture\"\n    );\n    finalPass.needsSwap = true;\n    let finalComposer = new EffectComposer(renderer);\n    finalComposer.addPass(renderScene);\n    finalComposer.addPass(finalPass);\n\n    return { bloomComposer: bloomComposer, finalComposer: finalComposer };\n};\n\n/**\n *\n * @param {\n * } trips\n */\n\nexport const _blockCamera = (camera) => {\n    if (camera) {\n        let p = camera.position;\n        if (p.y < 0.3) p.y = 0.3;\n        if (p.y > 4) p.y = 4;\n    }\n};\n\n/***\n *\n *\n */\nexport const _setupAgents = async () => {\n    let agentsWrapper = new THREE.Object3D();\n    agentsWrapper.name = \"agentsWrapper\";\n    for (const tripName in settings.trips) {\n        let URL = settings.trips[tripName].URL;\n\n        fetch(URL)\n            .then((res) => res.json())\n            .then((tripsData) => {\n                let thisTripsAgents = _makeAgents(tripsData, tripName);\n                thisTripsAgents.name = tripName;\n                // adds a record of the trips to the\n                // THREEE obj so we can run anim from inside\n                // this oject itself\n                thisTripsAgents.trips = tripsData;\n                thisTripsAgents.position.y = 0.705;\n                // !not safe \"magic number\"\n                thisTripsAgents.Y_Value = 0.705;\n                agentsWrapper.add(thisTripsAgents);\n            })\n            .catch((err) => console.error(err));\n    }\n    agentsWrapper.rotation.set(0, 0.4625123, 0);\n    agentsWrapper.position.set(\n        -(Math.cos(0.4625123) * 822) / 2000 - 1.57 / 2,\n        0,\n        (Math.sin(0.4625123) * 822) / 2000 - 0.92 / 2 + 0.0095);\n    agentsWrapper.rotation.set(0, 0.4625123, 0);\n    return agentsWrapper;\n};\n\nconst _makeAgents = (trips, tripName) => {\n    let scale = 0.03;\n    let color = new THREE.Color();\n    color.setHSL(\n        settings.trips[tripName].color.h,\n        settings.trips[tripName].color.s,\n        settings.trips[tripName].color.l\n    );\n\n    let textLoader = new THREE.TextureLoader();\n    let spriteText = textLoader.load(\"./resources/textures/agent.png\");\n    spriteText.minFilter = THREE.LinearFilter;\n    let spritesWarpper = new THREE.Object3D();\n    for (let i = 0; i < trips.length; i++) {\n        var spriteMaterial = new THREE.SpriteMaterial({\n            map: spriteText,\n            transparent: true,\n        });\n\n        var sprite = new THREE.Sprite(spriteMaterial);\n        sprite.material.color = color;\n        sprite.material.blending = THREE.AdditiveBlending;\n        sprite.material.transparent = true;\n        sprite.scale.set(scale, scale, scale);\n        sprite.position.set(0, 0, 0);\n        spritesWarpper.add(sprite);\n    }\n    return spritesWarpper;\n};\n\nexport const _handelCityModel = async () => {\n    let model = await _loadOBJmodel(settings.cityModelURL);\n    // global model material\n    let modelColor = new THREE.Color();\n    modelColor.setHSL(0, 0, 0.3);\n    let modelMaterial = new THREE.MeshPhongMaterial({\n        color: modelColor,\n    });\n\n    model.name = \"cityModel\";\n    model.scale.set(0.000505, 0.000505, 0.000505);\n    model.position.set(-0.0055, 0.7, 0);\n    model.Y_Value = 0.7;\n\n    model.rotation.set(0, 0.4625123, 0);\n\n    model.traverse(function (child) {\n        // child.castShadow = true;\n        child.material = modelMaterial;\n    });\n\n    return model;\n};\n\n/**\n *\n * @param {*} url\n */\n\nexport const _loadOBJmodel = async (url) => {\n    return new Promise((resolve) => {\n        new OBJLoader().load(url, resolve);\n    }).then((result) => {\n        return result;\n    });\n};\n\n/**\n *\n * @param {*} url\n */\n\nexport const _loadTexture = async (url) => {\n    return new Promise((resolve) => {\n        new THREE.TextureLoader().load(url, resolve);\n    }).then((result) => {\n        result.minFilter = THREE.LinearFilter;\n        return result;\n    });\n};\n\n/**\n *\n * @param {*} renderer\n * @param {*} scene\n */\n\nconst _shaders = () => {\n    const _vertexShader = () => {\n        return `\n    varying vec2 vUv;\n       void main() {\n           vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    `;\n    };\n    //\n    const _fragmentshader = () => {\n        return ` \n    uniform sampler2D baseTexture;\n    uniform sampler2D bloomTexture;\n    varying vec2 vUv;\n    vec4 getTexture( sampler2D texelToLinearTexture ) {\n        return mapTexelToLinear( texture2D( texelToLinearTexture , vUv ) );\n    }\n    void main() {\n        gl_FragColor = ( getTexture( baseTexture ) + vec4( 1.0 ) * getTexture( bloomTexture ) );\n    }`;\n    };\n\n    return { vertex: _vertexShader(), frag: _fragmentshader() };\n};\n\n/**\n *\n * @param {*} renderer\n *     Create a floor.\n\n */\n// ! should consider https://tinyurl.com/wqpozgh\n\nexport const _createFloor = async (renderer) => {\n    var repeatX = 15;\n    var repeatY = 15;\n    let path = \"./resources/textures/floor/\";\n\n    var baseText = await _loadTexture(path + \"WOOD_SML.jpg\");\n    var ao = await _loadTexture(path + \"GLOSS.jpg\");\n    var displace = await _loadTexture(path + \"WOOD_DISP.jpg\");\n    var normalText = await _loadTexture(path + \"NRM.jpg\");\n\n    baseText.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    baseText.wrapS = THREE.RepeatWrapping;\n    baseText.wrapT = THREE.RepeatWrapping;\n    baseText.repeat.set(repeatX, repeatY);\n\n    normalText.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    normalText.wrapS = THREE.RepeatWrapping;\n    normalText.wrapT = THREE.RepeatWrapping;\n    normalText.repeat.set(repeatX, repeatY);\n\n    ao.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    ao.wrapS = THREE.RepeatWrapping;\n    normalText.wrapT = THREE.RepeatWrapping;\n    ao.repeat.set(repeatX, repeatY);\n\n    displace.minFilter = THREE.LinearFilter;\n\n    displace.anisotropy = renderer.capabilities.getMaxAnisotropy();\n    displace.wrapS = THREE.RepeatWrapping;\n    displace.wrapT = THREE.RepeatWrapping;\n    displace.repeat.set(repeatX, repeatY);\n\n    var material = new THREE.MeshStandardMaterial({\n        aoMap: ao,\n        aoMapIntensity: 1,\n        color: 0xffffff,\n        map: baseText,\n        metalnessMap: baseText,\n        displacementMap: displace,\n        displacementScale: 0.1,\n        normalMap: normalText,\n        metalness: 5,\n        roughness: 0.5,\n    });\n    const planeSize = 50;\n    const planeMesh = new THREE.Mesh(\n        new THREE.PlaneBufferGeometry(planeSize, planeSize),\n        material\n    );\n    planeMesh.receiveShadow = true;\n    planeMesh.rotation.x = Math.PI * -0.5;\n    planeMesh.position.y = 0;\n    planeMesh.position.z = 0;\n\n    return planeMesh;\n};\n","// ! https://github.com/mrdoob/three.js/blob/master/examples/css3d_youtube.html\n// ! https://codesandbox.io/s/81qjyxonm8\n// ! https://github.com/mrdoob/three.js/pull/17505\n// ! https://codepen.io/pen/?editors=0010\n// ! Good structure:\n// ! https://codesandbox.io/s/mjp143zq9x?from-embed\n// ! materials https://codepen.io/bartuc/pen/eEbmvJ?editors=0010\n// ! Bloom https://jsfiddle.net/yp2t6op6/3/\n// ! https://github.com/mrdoob/three.js/blob/master/examples/webgl_postprocesnsing_unreal_bloom_selective.html\n// ! https://stackoverflow.com/questions/47922923/ceiling-lights-effect-using-three-js\n// ! Glow https://stemkoski.github.io/Three.js/Shader-Glow.html\n\nimport React, { Component } from \"react\";\nimport { setLoadingState } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\nimport * as THREE from \"three\";\nimport TWEEN from \"@tweenjs/tween.js\";\n\nimport {\n    _setupBloom,\n    _addMetricsObject,\n    _createFloor,\n    _blockCamera,\n    _setupAgents,\n    _handelCityModel,\n    _landscapeModelsLoader,\n    _addCustomSceneObjects,\n    _pplLoader,\n    _objectDisplay,\n} from \"./ThreeUtils\";\nimport OrbitControls from \"three-orbitcontrols\";\nimport * as settings from \"../../settings.json\";\n\nclass ThreeScene extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            timeCounter: 0,\n            simSpeed: 1,\n            trips: {},\n            renderer: false,\n            past: true,\n            camLookAt: new THREE.Vector3(0, 1.25, 0),\n        };\n        this.theta = 0;\n        this.cameraSpeed = 0.5;\n        this.radius = 2.5;\n    }\n\n    componentDidMount() {\n        // get the div dims on init\n        this.width = this.mountingDiv.clientWidth;\n        this.height = this.mountingDiv.clientHeight;\n        window.addEventListener(\"resize\", this.handleWindowResize);\n        // start the app setup\n        setTimeout(() => {\n            this._init();\n        }, 500);\n    }\n\n    componentWillUnmount() {\n        window.cancelAnimationFrame(this.requestID);\n        window.removeEventListener(\"resize\", this.handleWindowResize);\n    }\n\n    _init = async () => {\n        this.shpContainer = new THREE.Object3D();\n        this._sceneSetup()\n            .then(\n                // load urban model\n                await _handelCityModel().then((model) => this.scene.add(model)),\n\n                // load other street models\n                await _landscapeModelsLoader().then((model) => {\n                    this.scene.add(model);\n                }),\n                // floor\n                await _createFloor(this.renderer).then((floor) => {\n                    this.scene.add(floor);\n                }),\n                //  load the rest of the scene\n                await _addCustomSceneObjects().then((pedestalMesh) =>\n                    this.scene.add(pedestalMesh)\n                ),\n\n                //  load the rest of the scene\n                await _addMetricsObject().then((metricsObject) =>\n                    this.scene.add(metricsObject)\n                ),\n                // load the public\n                await _pplLoader().then((ppl) => this.scene.add(ppl)),\n\n                // setup agents\n                await _setupAgents().then((agentWrapper) => {\n                    this.agentWrapper = agentWrapper;\n                    this.scene.add(this.agentWrapper);\n                })\n            )\n            .then(\n                this.setState({ loading: false }),\n                this.props.setLoadingState(this.state.loading),\n                //  start the animation\n                this.startAnimationLoop()\n                //\n            );\n    };\n\n    _sceneSetup = async () => {\n        this.scene = new THREE.Scene();\n        this.scene.dispose();\n        // camera\n        this.camera = new THREE.PerspectiveCamera(\n            50,\n            this.width / this.height,\n            0.01,\n            1000\n        );\n        this.camera.position.z = -4;\n        this.camera.position.x = 0;\n        this.camera.position.y = 2;\n\n        this.controls = new OrbitControls(this.camera, this.mountingDiv);\n        this.controls.maxDistance = 7;\n        this.controls.minDistance = 0.5;\n        this.camera.lookAt(new THREE.Vector3(0, 1.25, 0));\n        this.controls.target.set(0, 0.9, 0);\n\n        // renderer\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            alpha: true,\n        });\n\n        this.renderer.dispose();\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.toneMapping = THREE.ReinhardToneMapping;\n        this.renderer.setSize(this.width, this.height);\n        this.mountingDiv.appendChild(this.renderer.domElement);\n\n        /**\n         * Lights\n         */\n\n        this.whiteLight1 = new THREE.PointLight(0xffffff, 4, 1);\n        this.whiteLight1.name = \"whiteLight\";\n        this.whiteLight1.position.set(0, 1.5, -0.5);\n        this.whiteLight1.intensity = settings.lights.w1.low;\n\n        this.whiteLight2 = new THREE.PointLight(0xffffff, 4, 1);\n        this.whiteLight2.name = \"whiteLight\";\n        this.whiteLight2.position.set(0, 1.5, 0.5);\n        this.whiteLight2.intensity = settings.lights.w2.low;\n\n        //\n        this.orangeLight = new THREE.PointLight(0xf26101, 0, 100);\n        this.orangeLight.intensity = settings.lights.orange.low;\n        this.orangeLight.name = \"orangeLight\";\n        this.orangeLight.position.set(-1, 2, -1);\n        this.orangeLight.castShadow = true;\n        this.orangeLight.shadow.radius = 2;\n        //\n        this.blueLight = new THREE.PointLight(0x0071bc, 0, 100);\n        this.blueLight.intensity = settings.lights.blue.low;\n\n        this.blueLight.name = \"this.blueLight\";\n        this.blueLight.position.set(1, 2, 1);\n        this.blueLight.castShadow = true;\n        this.blueLight.shadow.radius = 2;\n\n        //\n        this.lightsWrapper = new THREE.Object3D();\n        this.lightsWrapper.name = \"lightsWrapper\";\n        this.lightsWrapper.add(\n            this.whiteLight1,\n            this.whiteLight2,\n            this.orangeLight,\n            this.blueLight\n        );\n\n        this.scene.add(this.lightsWrapper);\n\n        /*\n            BLOOM\n        */\n        let postEffect = _setupBloom(\n            this.width,\n            this.height,\n            this.scene,\n            this.camera,\n            this.renderer\n        );\n        this.bloomComposer = postEffect.bloomComposer;\n        this.finalComposer = postEffect.finalComposer;\n    };\n\n    _animateAgents = () => {\n        const time = this.state.timeCounter;\n        this.agentWrapper.children.forEach((tripsObject) => {\n            for (let i = 0; i < tripsObject.trips.length; i++) {\n                if (tripsObject.trips[i].path[time]) {\n                    let pnt = tripsObject.trips[i].path[time];\n                    let agent = tripsObject.children[i];\n                    agent.position.set(pnt[0], 0, pnt[1]);\n                }\n            }\n        });\n\n        this.setState({\n            timeCounter:\n                this.state.timeCounter < settings.simulationDuration\n                    ? this.state.timeCounter + this.state.simSpeed\n                    : 0,\n        });\n    };\n\n    handleWindowResize = () => {\n        const width = this.mountingDiv.clientWidth;\n        const height = this.mountingDiv.clientHeight;\n        this.renderer.setSize(width, height);\n\n        this.bloomComposer.setSize(width, height);\n        this.finalComposer.setSize(width, height);\n\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n    };\n\n    componentDidUpdate(prevProps) {\n        this._handleVis(prevProps);\n    }\n\n    _handleVis = (prevProps) => {\n        if (prevProps !== this.props) {\n            let {\n                scenarioSwitch,\n                parks,\n                culturalBuildings,\n                cars,\n                bicycles,\n                pedestrians,\n                quality,\n                cityModelSwitch,\n                metricsObjSwitch,\n            } = this.props.menuInteraction;\n\n            let cityModelObject = this.scene.getObjectByName(\"cityModel\");\n\n            //\n            let trips_car_before = this.scene.getObjectByName(\n                \"trips_car_before\"\n            );\n            let trips_car_after = this.scene.getObjectByName(\"trips_car_after\");\n            let trips_pedestrians_before = this.scene.getObjectByName(\n                \"trips_pedestrians_before\"\n            );\n            let trips_pedestrians_after = this.scene.getObjectByName(\n                \"trips_pedestrians_after\"\n            );\n            let trips_bike_before = this.scene.getObjectByName(\n                \"trips_bike_before\"\n            );\n            let trips_bike_after = this.scene.getObjectByName(\n                \"trips_bike_after\"\n            );\n            let parks_before = this.scene.getObjectByName(\"parks_before\");\n            let parks_after = this.scene.getObjectByName(\"parks_after\");\n            let cultural_before = this.scene.getObjectByName(\"cultural_before\");\n            let cultural_after = this.scene.getObjectByName(\"cultural_after\");\n            let metricsObj = this.scene.getObjectByName(\"metricsObj\");\n            // find which menu item has changed\n            for (const thisMenuItem in prevProps.menuInteraction) {\n                if (\n                    prevProps.menuInteraction[thisMenuItem] !==\n                    this.props.menuInteraction[thisMenuItem]\n                ) {\n                    switch (thisMenuItem) {\n                        case \"scenarioSwitch\":\n                            const lights = [this.blueLight, this.orangeLight];\n\n                            lights.forEach((thisLight) => {\n                                new TWEEN.Tween(thisLight.position)\n                                    .to(\n                                        {\n                                            x: -thisLight.position.x,\n                                            z: -thisLight.position.z,\n                                        },\n                                        2000\n                                    )\n                                    .easing(TWEEN.Easing.Quadratic.Out)\n                                    .onUpdate(() => {})\n                                    .start();\n                            });\n\n                            _objectDisplay(parks_before, parks);\n                            _objectDisplay(\n                                parks_after,\n                                scenarioSwitch && parks\n                            );\n\n                            _objectDisplay(cultural_before, culturalBuildings);\n                            _objectDisplay(\n                                cultural_after,\n                                scenarioSwitch && culturalBuildings\n                            );\n\n                            _objectDisplay(\n                                trips_car_before,\n                                !scenarioSwitch && cars\n                            );\n                            _objectDisplay(\n                                trips_car_after,\n                                scenarioSwitch && cars\n                            );\n\n                            _objectDisplay(\n                                trips_bike_before,\n                                !scenarioSwitch && bicycles\n                            );\n                            _objectDisplay(\n                                trips_bike_after,\n                                scenarioSwitch && bicycles\n                            );\n\n                            _objectDisplay(\n                                trips_pedestrians_before,\n                                !scenarioSwitch && pedestrians\n                            );\n                            _objectDisplay(\n                                trips_pedestrians_after,\n                                scenarioSwitch && pedestrians\n                            );\n\n                            // change radar texture\n\n                            new TWEEN.Tween(metricsObj.rotation)\n                                .to(\n                                    {\n                                        x: 0,\n                                        y: scenarioSwitch ? -3.14159 : 3.14159,\n                                        z: 0,\n                                    },\n                                    2000\n                                )\n                                .easing(TWEEN.Easing.Cubic.InOut)\n                                .start()\n                                .onStart(() => {\n                                    metricsObj.material.forEach((material) => {\n                                        if (material) {\n                                            material.map = scenarioSwitch\n                                                ? material.userData\n                                                      .radarAfterText\n                                                : material.userData\n                                                      .radarBeforeText;\n                                            material.map.needsUpdate = true;\n                                        }\n                                    });\n                                });\n\n                            break;\n\n                        case \"metricsObjSwitch\":\n                            _objectDisplay(metricsObj, metricsObjSwitch);\n                            break;\n\n                        case \"parks\":\n                            _objectDisplay(parks_before, parks);\n                            _objectDisplay(\n                                parks_after,\n                                scenarioSwitch && parks\n                            );\n                            break;\n\n                        case \"culturalBuildings\":\n                            _objectDisplay(cultural_before, culturalBuildings);\n                            _objectDisplay(\n                                cultural_after,\n                                scenarioSwitch && culturalBuildings\n                            );\n                            break;\n\n                        case \"cars\":\n                            _objectDisplay(\n                                trips_car_before,\n                                !scenarioSwitch && cars\n                            );\n                            _objectDisplay(\n                                trips_car_after,\n                                scenarioSwitch && cars\n                            );\n                            break;\n\n                        case \"bicycles\":\n                            _objectDisplay(\n                                trips_bike_before,\n                                !scenarioSwitch && bicycles\n                            );\n                            _objectDisplay(\n                                trips_bike_after,\n                                scenarioSwitch && bicycles\n                            );\n                            break;\n\n                        case \"pedestrians\":\n                            _objectDisplay(\n                                trips_pedestrians_before,\n                                !scenarioSwitch && pedestrians\n                            );\n                            _objectDisplay(\n                                trips_pedestrians_after,\n                                scenarioSwitch && pedestrians\n                            );\n                            break;\n\n                        case \"quality\":\n                            /**\n                             * Setup qulity\n                             */\n                            this.setState({ renderer: quality });\n                            // if low quality render\n                            if (!quality) {\n                                this.blueLight.intensity =\n                                    settings.lights.blue.low;\n                                this.orangeLight.intensity =\n                                    settings.lights.orange.low;\n                                this.whiteLight1.intensity =\n                                    settings.lights.w1.low;\n                                this.whiteLight2.intensity =\n                                    settings.lights.w2.low;\n                            } else {\n                                // higher qulaity\n                                this.blueLight.intensity =\n                                    settings.lights.blue.high;\n                                this.orangeLight.intensity =\n                                    settings.lights.orange.high;\n                                this.whiteLight1.intensity =\n                                    settings.lights.w1.high;\n                                this.whiteLight2.intensity =\n                                    settings.lights.w2.high;\n                            }\n                            break;\n\n                        case \"cityModelSwitch\":\n                            if (!cityModelSwitch) {\n                                //\n                                _objectDisplay(cityModelObject, false);\n                            } else {\n                                _objectDisplay(cityModelObject, true);\n                            }\n                            break;\n\n                        case \"cameraScene\":\n                            let slectedScene = this.props.menuInteraction\n                                .cameraScene;\n\n                            if (slectedScene === \"animateCamera\") {\n                                break;\n                            } else {\n                                let newCamPos =\n                                    settings.cameraScenesPositions[slectedScene]\n                                        .camPos;\n                                let l =\n                                    settings.cameraScenesPositions[slectedScene]\n                                        .lookAt;\n                                let newLookAt = new THREE.Vector3(\n                                    l[0],\n                                    l[1],\n                                    l[2]\n                                );\n                                // fly camera to new postion\n                                new TWEEN.Tween(this.camera.position)\n                                    .to(\n                                        {\n                                            x: newCamPos[0],\n                                            y: newCamPos[1],\n                                            z: newCamPos[2],\n                                        },\n                                        1000\n                                    )\n                                    .easing(TWEEN.Easing.Quadratic.Out)\n                                    .onUpdate(() => {\n                                        this.camera.lookAt(newLookAt);\n                                    })\n                                    .start();\n                            }\n                            break;\n\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     * Each frame, choose renderer quality based  on state\n     */\n    _chooseRenderer = () => {\n        if (this.state.renderer) {\n            this.bloomComposer.render();\n            this.finalComposer.render();\n        } else {\n            this.renderer.render(this.scene, this.camera);\n        }\n    };\n\n    _cameraState = () => {\n        if (this.props.menuInteraction.cameraScene === \"animateCamera\") {\n            if (this.theta < 36000) {\n                this.theta += this.cameraSpeed;\n            } else {\n                this.theta = 0;\n            }\n\n            this.camera.position.x =\n                Math.sin(this.theta / 100) +\n                this.radius * Math.sin(THREE.MathUtils.degToRad(this.theta));\n            this.camera.position.y = 1.5;\n            this.camera.position.z =\n                Math.sin(this.theta / 100) +\n                this.radius * Math.cos(THREE.MathUtils.degToRad(this.theta));\n            this.camera.lookAt(new THREE.Vector3(0, 1.25, 0));\n            this.camera.updateMatrixWorld();\n        } else {\n            // force camera lookAt\n            _blockCamera(this.camera);\n        }\n    };\n\n    startAnimationLoop = () => {\n        this._cameraState();\n\n        // control TWEEN event\n        TWEEN.update();\n        // animate the sim\n        this._animateAgents();\n\n        //    choose the renderer quality\n        this._chooseRenderer();\n\n        this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n    };\n\n    _onMouseUp(e) {\n        let mouse = new THREE.Vector2();\n        let ray = new THREE.Raycaster();\n\n        mouse.x = (e.clientX / this.width) * 2 - 1;\n        mouse.y = -(e.clientY / this.height) * 2 + 1;\n        ray.setFromCamera(mouse.clone(), this.camera);\n\n        var objects = ray.intersectObjects(this.scene.children);\n        if (objects[0] && objects[0].point) {\n            console.log(objects[0].object);\n            let rayPos = objects[0].point;\n            this.controls.target.set(rayPos);\n            this.controls.update();\n        }\n    }\n\n    render() {\n        let displayTHREEscene =\n            // true;\n            this.props.startScene;\n\n        return (\n            <React.Fragment>\n                <div\n                    style={\n                        displayTHREEscene\n                            ? {\n                                  height: \"100%\",\n                                  position: \"fixed\",\n                                  width: \"100%\",\n                                  top: 0,\n                                  left: 0,\n                                  backgroundColor: \"black\",\n                                  visibility: \"\",\n                              }\n                            : {\n                                  height: \"100%\",\n                                  width: \"100%\",\n                                  position: \"fixed\",\n\n                                  top: 0,\n                                  left: 0,\n                                  backgroundColor: \"black\",\n                                  visibility: \"hidden\",\n                              }\n                    }\n                    ref={(div) => (this.mountingDiv = div)}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        startScene: state.START_SCENE,\n    };\n};\n\nconst mapDispatchToProps = {\n    setLoadingState: setLoadingState,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ThreeScene);\n","import React, { Component } from \"react\";\nimport LandingPage from \"./components/LandingPage/LandingPage\";\nimport Menu from \"./components/Menu/Menu\";\nimport ThreeScene from \"./components/ThreeScene/ThreeScene\";\nimport { connect } from \"react-redux\";\nimport ReactGA from \"react-ga\";\nimport { Helmet } from \"react-helmet\";\n\n/**\n * \n <!-- Global site tag (gtag.js) - Google Analytics -->\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-164555260-1\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'UA-164555260-1');\n</script>\n\n \n */\n\nclass App extends Component {\n    componentDidMount() {\n        ReactGA.initialize(\"UA-164555260-1\", {\n            debug: false,\n            siteSpeedSampleRate: 100,\n        });\n        ReactGA.pageview(window.location.pathname + window.location.search);\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <Helmet>\n                    <meta charSet=\"utf-8\" />\n                    <title>\"CityScope Champs-Élysées\"</title>\n                    <meta\n                        name=\"description\"\n                        content=\"Virtual CityScope Champs-Élysées is an interactive and immersive platform to explore the future of Paris’ most important street.\"\n                    />\n                    <meta\n                        name=\"og:url\"\n                        content=\"http://rechamp.media.mit.edu/\"\n                    />\n                    <meta name=\"og:title\" content=\"CityScope Champs-Élysées\" />\n                    <meta\n                        name=\"og:description\"\n                        content=\"Virtual CityScope Champs-Élysées is an interactive and immersive platform to explore the future of Paris’ most important street.\"\n                    />\n                    <meta\n                        name=\"og:image\"\n                        content=\"https://raw.githubusercontent.com/CityScope/CSL_Paris/master/champscope/header.jpg\"\n                    />\n                    <meta name=\"og:type\" content=\"website\" />\n                </Helmet>\n\n                <ThreeScene menuInteraction={this.props.menuInteraction} />\n                {this.props.showMenu ? <Menu /> : null}\n                <LandingPage />\n                {/* <Menu /> */}\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        menuInteraction: state.MENU_INTERACTION,\n        showMenu: state.START_SCENE,\n    };\n};\n\nexport default connect(mapStateToProps, null)(App);\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\n\nconst ProviderWrapper = ({ children, store }) => (\n    <Provider store={store}>{children}</Provider>\n);\n\nexport default ProviderWrapper;\n","import \"../settings.json\";\nimport * as settings from \"../settings.json\";\n\n/**\n * ! INIT STATE\n */\n\nconst initialState = {\n    LOADING: true,\n    START_SCENE: false,\n    MENU_INTERACTION: settings.initState,\n};\n\nexport default initialState;\n","import {\n    SET_LOADING_STATE,\n    SET_START_STATE,\n    MENU_INTERACTION,\n} from \"./actions\";\nimport initialState from \"./initialState\";\n\n/**\n * REDUCER\n */\nexport default function reducer(state = initialState, action) {\n    switch (action.type) {\n        case SET_LOADING_STATE:\n            return { ...state, LOADING: action.data };\n        case SET_START_STATE:\n            return { ...state, START_SCENE: action.data };\n        case MENU_INTERACTION:\n            return { ...state, MENU_INTERACTION: action.data };\n        default:\n            return state;\n    }\n}\n","import { createStore } from \"redux\";\nimport reducer from \"./reducer\";\n\nconst reduxDevTools =\n    window.__REDUX_DEVTOOLS_EXTENSION__ &&\n    window.__REDUX_DEVTOOLS_EXTENSION__();\n\nconst configureStore = () => {\n    const store = createStore(reducer, reduxDevTools);\n\n    if (process.env.NODE_ENV !== \"production\") {\n        if (module.hot) {\n            module.hot.accept(\"./reducer\", () => {\n                store.replaceReducer(reducer);\n            });\n        }\n    }\n\n    return store;\n};\n\nexport default configureStore;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport Provider from \"./redux/Provider\";\n\nimport configureStore from \"./redux/store\";\nconst store = configureStore();\n\nconst root = document.getElementById(\"root\");\nconst render = () => {\n    return ReactDOM.render(\n        <Provider store={store}>\n            <App />\n        </Provider>,\n\n        root\n    );\n};\n\nrender(App);\n\nif (module.hot) {\n    module.hot.accept(\"./App\", () => {\n        const NextApp = require(\"./App\").default;\n        render(NextApp);\n    });\n}\n"],"sourceRoot":""}