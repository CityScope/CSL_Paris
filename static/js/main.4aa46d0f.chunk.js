(this.webpackJsonpchampscope=this.webpackJsonpchampscope||[]).push([[0],{125:function(e,t,a){e.exports=a(145)},134:function(e,t,a){},135:function(e,t,a){},142:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),o=a(30),s=a(43),l=a(33),u=a(34),p=a(32),m=a(6),h=a(178),d=a(147),f=a(108),g=a(179),b=a(181),v=a(26),w=(a(134),a(176));function E(){return r.a.createElement("div",null,r.a.createElement(w.a,{style:{borderColor:"#fff",color:"white",fontWeight:"bolder"}}))}var y=a(180),S=Object(f.a)({typography:{button:{fontFamily:'"Open Sans", "sans-serif"'}}}),C=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function k(){var e=C();return r.a.createElement(g.a,{theme:S},r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{style:{borderColor:"#fff",color:"white",fontWeight:"bolder"},variant:"outlined"},"Enter CityScope")))}var O=a(189),x=(a(135),a(66)),j=a.n(x),M=function(){return r.a.createElement("div",{className:"video-background"},r.a.createElement("div",{className:"video-foreground"},r.a.createElement(j.a,{url:"https://vimeo.com/390936231",playing:!0,controls:!1,muted:!0,loop:!0,width:"0em",height:"0em"})))};var T={setStartSceneState:function(e){return{type:"SET_START_SCENE",data:e}}},_=Object(v.b)((function(e){return{readyState:e.LOADING}}),T)((function(e){var t=Object(f.a)({overrides:{MuiCssBaseline:{"@global":{"*":{"scrollbar-width":"thin"},"*::-webkit-scrollbar":{width:"4px",height:"4px"}}}},palette:{background:{default:"black"},color:{default:"#fff"}},typography:{h2:{fontFamily:["Cormorant Garamond","cursive"].join(","),fontWeight:400,fontSize:"5em"},subtitle1:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontWeight:300,fontSize:"1.5em"},subtitle2:{fontFamily:'"Cormorant Garamond", "sans-serif"'},caption:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"1em"},h6:{fontFamily:["Cormorant Garamond","cursive"].join(",")}}}),a=Object(h.a)((function(e){var t;return{box:(t={background:"none",color:"#fff",padding:e.spacing(3)},Object(m.a)(t,e.breakpoints.down("sm"),{maxWidth:"90vw"}),Object(m.a)(t,e.breakpoints.up("md"),{maxWidth:"50vw"}),Object(m.a)(t,e.breakpoints.up("lg"),{maxWidth:"50vw"}),Object(m.a)(t,"textAlign","center"),Object(m.a)(t,"marginLeft","auto"),Object(m.a)(t,"marginRight","auto"),Object(m.a)(t,"maxHeight","100vh"),Object(m.a)(t,"overflow","auto"),t)}})),i=Object(n.useState)(!1),c=Object(p.a)(i,2),o=c[0],s=c[1],l=a();return o?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{theme:t},r.a.createElement(O.a,{className:l.box},r.a.createElement(b.a,null),r.a.createElement(O.a,{p:3}),r.a.createElement(d.a,{variant:"h2"},"CITYSCOPE"),r.a.createElement(d.a,{variant:"h2"},"Champs-\xc9lys\xe9es "),r.a.createElement(O.a,{p:2}),e.readyState?r.a.createElement(E,null):r.a.createElement("div",{onClick:function(t){t.preventDefault(),s(!0),e.setStartSceneState(!0)}},r.a.createElement(k,null)),r.a.createElement(O.a,{p:3},r.a.createElement(d.a,{variant:"subtitle1"},"CityScope Champs-\xc9lys\xe9e is a Tangible User Interface for urban planning and decision-making, that was installed as part of an exhibition in Pavillon de l'Arsenal, Paris. The exhibition by PCA-STREAM, explored new plans and future interventions for Champs \xc9lys\xe9es Boulevard. These include reduced traffic, encouraged walkability, cycling and pedestrian movement in the famous street. As well, the project suggested improved access to cultural landmarks and amenities along the Boulevard. Due to COVID19, we have decided to move this exhibition online. This website allow users to explore MIT CityScope Champs-\xc9lys\xe9e in an interactive and immersive way.")),r.a.createElement(O.a,{p:3}),r.a.createElement(d.a,{variant:"h6"},"Exhabition in Pavillon de l'Arsenal"),r.a.createElement(O.a,{p:1}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d.a,{variant:"caption"},"PCA-STREAM"))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d.a,{variant:"caption"},"MIT City Science"))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d.a,{variant:"caption"},"GAMA"))),r.a.createElement(O.a,{p:3}),r.a.createElement(d.a,{variant:"h6"},"Virtual Champs-\xc9lys\xe9es"),r.a.createElement(O.a,{p:.5}),r.a.createElement(d.a,{variant:"caption"},"Ariel Noyman, Arnaud Grignard, Nicolas Ayoub, Luis Alonso, Kent Larson"),r.a.createElement(O.a,{p:2}))),r.a.createElement(M,{youtubeId:"MVhauHKiEPA"}))})),L=a(42),A=a(186),N=a(182);function I(e){var t=Object(h.a)((function(t){return{root:{width:30,height:12,padding:0,margin:t.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:t.palette.common.white,"& + $track":{backgroundColor:e.knobcolor||"#888",opacity:1}},"&$focusVisible $thumb":{color:"#888",border:"1px solid #FFF"}},thumb:{width:10,height:10},track:{borderRadius:15,backgroundColor:"#FFF3",opacity:1},checked:{},focusVisible:{}}}))();return r.a.createElement(N.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},e))}var R=a(148),P=a(104),D=a.n(P),W=a(185),F=a(191),B=a(101),U=a.n(B),V=a(100),z=a.n(V),G={audioIconWrapper:{color:"rgba(255,255,255)",width:30,height:30,padding:0}},H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={playing:!1},e.handlePause=function(){e.setState({playing:!1})},e.handlePlay=function(){e.setState({playing:!0})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,e.state.playing?r.a.createElement(R.a,{onClick:e.handlePause},r.a.createElement(z.a,{style:G.audioIconWrapper})):r.a.createElement(R.a,{onClick:e.handlePlay},r.a.createElement(U.a,{style:G.audioIconWrapper})),r.a.createElement(j.a,{url:"resources/audio/ace.mp3",playing:this.state.playing,controls:!1,loop:!0,width:"0em",height:"0em"}))}}]),a}(n.Component),Z=a(102),q=a.n(Z),X=a(183),$=a(111),K=Object(f.a)({overrides:{MuiCssBaseline:{"@global":{"*":{"scrollbar-width":"thin"},"*::-webkit-scrollbar":{width:"5px",height:"10px"}}}},palette:{textPrimary:{main:"white"}},typography:{h2:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"3em"},subtitle1:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"1.5em"}}}),Q=Object(h.a)((function(e){return{paper:{color:"white",background:"rgba(0,0,0,0.9)",marginBottom:"0em",overflow:"auto",padding:"3em"}}}));function J(){var e=Q(),t=r.a.useState(!1),a=Object(p.a)(t,2),n=a[0],i=a[1];return r.a.createElement(g.a,{theme:K},r.a.createElement("div",null,r.a.createElement(q.a,{type:"button",style:{color:"white"},onClick:function(){i(!0)}}),r.a.createElement(b.a,null),r.a.createElement(X.a,{open:n,onClose:function(){i(!1)},id:"modal"},r.a.createElement($.a,{className:e.paper},r.a.createElement(d.a,{variant:"h2"},"CityScope Champs-\xc9lys\xe9es"),r.a.createElement(O.a,{p:3}),r.a.createElement(d.a,{variant:"subtitle1"},r.a.createElement("p",null,"A collaboration between PCA-STREAM and MIT Media Lab City Science"),"CityScope Champs-\xc9lys\xe9e is a Tangible User Interface for urban planning and decision-making, that was installed as part of an exhibition in Pavillon de l'Arsenal, Paris. The exhibition by PCA-STREAM, explored new plans and future interventions for Champs \xc9lys\xe9es Boulevard. These include reduced traffic, encouraged walkability, cycling and pedestrian movement in the famous street. As well, the project suggested improved access to cultural landmarks and amenities along the Boulevard. Due to COVID19, we have decided to move this exhibition online. This website allow users to explore MIT CityScope Champs-\xc9lys\xe9e in an interactive and immersive way."),r.a.createElement(O.a,{p:3}),r.a.createElement(d.a,{variant:"subtitle1"},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("u",null,"CityScope Champs-Elys\xe9es"))),r.a.createElement("p",null,"CityScope is developed by City Science - MIT Media Lab www.media.mit.edu/groups/city-science github.com/CityScope/cityscope.github.io"),r.a.createElement("p",null,"Gama Platform is developed by the l\u2019IRD/UMMISCO and its partners gama-platform.github.io"),r.a.createElement("p",null,r.a.createElement("b",null,"MIT City Science Team:")),r.a.createElement("p",null,"Arnaud Grignard, Nicolas Ayoub, Luis Alonso, Ariel Noyman, Markus Elkatsha, Maggie Church, Kent Larson"),r.a.createElement("p",null,r.a.createElement("b",null,"Gama Platform Team:"),"Tri Nguyen-Huu (IRD), Patrick Taillandier (INRA), Alexis Drogoul (IRD)"),r.a.createElement("b",null,r.a.createElement("u",null,"Virtual CityScope Champs-Elys\xe9es")),r.a.createElement("p",null,"Developed by MIT Media Lab City Science"),r.a.createElement("p",null,"Virtual Champs Elys\xe9es is a virtual representation of the physical CityScope Champs-Elys\xe9es deployed at the Pavillon de l'Arsenal."),"Ariel Noyman, Arnaud Grignard, Nicolas Ayoub, Luis Alonso, Tri Nguyen-Huu, Kent Larson")))))}var Y=a(95);function ee(){var e=Object(h.a)((function(){return{CSlogo:{color:"white",fontSize:"4em"}}}))();return r.a.createElement(Y.a,{className:e.CSlogo,onClick:function(){return window.open("http://cityscope.media.mit.edu/","_blank")}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120"},r.a.createElement("path",{fill:"#FFF",d:"M 60.2 38.4 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 61.1 38.4 60.6 38.4 60.2 38.4 Z M 64 28.8 h 2.1 v 1.7 H 64 V 28.8 Z M 64 31.5 h 2.1 v 6.7 H 64 V 31.5 Z M 69.9 38.3 c -0.3 0 -0.6 0 -0.9 -0.1 c -0.3 -0.1 -0.5 -0.2 -0.7 -0.3 c -0.2 -0.1 -0.3 -0.3 -0.4 -0.6 c -0.1 -0.2 -0.2 -0.5 -0.2 -0.9 v -3.6 h -0.9 v -1.3 h 0.9 v -2.1 h 2.1 v 2.1 H 71 v 1.3 h -1.2 V 36 c 0 0.3 0.1 0.4 0.2 0.5 c 0.1 0.1 0.3 0.1 0.5 0.1 c 0.1 0 0.2 0 0.3 0 c 0.1 0 0.2 0 0.2 0 v 1.6 c -0.1 0 -0.2 0.1 -0.4 0.1 C 70.4 38.3 70.2 38.3 69.9 38.3 Z M 72.2 38.8 H 73 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.1 -0.1 0.2 -0.3 0.2 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.5 c -0.1 -0.2 -0.2 -0.5 -0.3 -0.9 l -2 -5.2 h 2.3 l 0.9 2.9 c 0.1 0.2 0.1 0.3 0.2 0.5 c 0 0.2 0.1 0.3 0.1 0.5 c 0 0.2 0.1 0.3 0.1 0.5 h 0 c 0 -0.2 0.1 -0.3 0.1 -0.5 c 0 -0.1 0.1 -0.3 0.1 -0.5 c 0 -0.2 0.1 -0.4 0.2 -0.5 l 0.9 -2.9 h 2.1 l -2.3 6.8 c -0.1 0.4 -0.3 0.7 -0.4 1 c -0.2 0.3 -0.3 0.5 -0.5 0.7 c -0.2 0.2 -0.4 0.3 -0.7 0.4 c -0.3 0.1 -0.6 0.1 -0.9 0.1 h -1.4 V 38.8 Z M 59.8 50 c -1 0 -1.8 -0.2 -2.3 -0.6 c -0.6 -0.4 -0.9 -1 -0.9 -1.8 h 2 c 0 0.3 0.2 0.6 0.4 0.7 c 0.2 0.2 0.5 0.2 0.9 0.2 c 0.3 0 0.6 -0.1 0.8 -0.2 c 0.2 -0.1 0.3 -0.3 0.3 -0.5 c 0 -0.1 0 -0.3 -0.1 -0.4 c -0.1 -0.1 -0.2 -0.2 -0.4 -0.2 c -0.2 -0.1 -0.3 -0.1 -0.5 -0.1 c -0.2 0 -0.4 -0.1 -0.6 -0.1 c -0.3 -0.1 -0.6 -0.1 -0.9 -0.2 c -0.3 -0.1 -0.5 -0.2 -0.8 -0.3 c -0.2 -0.1 -0.4 -0.3 -0.6 -0.6 c -0.1 -0.2 -0.2 -0.6 -0.2 -1 c 0 -0.3 0.1 -0.7 0.2 -0.9 c 0.2 -0.3 0.4 -0.5 0.6 -0.7 c 0.3 -0.2 0.6 -0.3 0.9 -0.4 c 0.4 -0.1 0.7 -0.1 1.1 -0.1 c 1 0 1.7 0.2 2.2 0.6 c 0.5 0.4 0.8 0.9 0.8 1.6 h -2 c 0 -0.3 -0.2 -0.5 -0.3 -0.6 c -0.2 -0.1 -0.4 -0.2 -0.7 -0.2 c -0.3 0 -0.5 0 -0.7 0.2 c -0.2 0.1 -0.3 0.3 -0.3 0.5 c 0 0.1 0 0.2 0.1 0.3 c 0.1 0.1 0.2 0.1 0.4 0.2 c 0.1 0 0.3 0.1 0.5 0.1 c 0.2 0 0.4 0.1 0.6 0.1 c 0.3 0.1 0.6 0.1 0.9 0.2 c 0.3 0.1 0.6 0.2 0.8 0.3 c 0.2 0.2 0.5 0.4 0.6 0.6 c 0.2 0.3 0.2 0.6 0.2 1 c 0 0.4 -0.1 0.7 -0.2 1 c -0.2 0.3 -0.4 0.5 -0.6 0.7 c -0.3 0.2 -0.6 0.3 -1 0.4 C 60.6 50 60.2 50 59.8 50 Z M 66.8 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 67.8 49.9 67.3 50 66.8 50 Z M 70.7 40.4 h 2.1 v 1.7 h -2.1 V 40.4 Z M 70.7 43.1 h 2.1 v 6.7 h -2.1 V 43.1 Z M 77.2 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 78 49.9 77.6 50 77.2 50 Z M 78.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 78.3 Z M 81.2 43.1 h 2.1 V 44 h 0 c 0.3 -0.4 0.5 -0.6 0.9 -0.8 c 0.3 -0.2 0.7 -0.3 1.2 -0.3 c 0.4 0 0.7 0.1 1 0.2 c 0.3 0.1 0.5 0.3 0.7 0.5 c 0.2 0.2 0.4 0.5 0.5 0.8 c 0.1 0.3 0.2 0.7 0.2 1 v 4.4 h -2.1 v -3.9 c 0 -0.4 -0.1 -0.6 -0.3 -0.9 c -0.2 -0.2 -0.4 -0.3 -0.8 -0.3 c -0.4 0 -0.6 0.1 -0.9 0.4 c -0.2 0.3 -0.3 0.6 -0.3 1 v 3.7 h -2.1 V 43.1 Z M 92 50 c -0.5 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.6 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.3 -0.9 -0.3 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 c 0.2 -0.4 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.2 0.2 c 0.4 0.1 0.7 0.3 1 0.5 c 0.3 0.2 0.5 0.5 0.7 0.8 c 0.2 0.3 0.3 0.7 0.3 1 h -2.1 c -0.1 -0.3 -0.2 -0.5 -0.4 -0.7 c -0.2 -0.2 -0.4 -0.3 -0.7 -0.3 c -0.5 0 -0.8 0.2 -1 0.5 c -0.2 0.4 -0.3 0.8 -0.3 1.4 c 0 0.6 0.1 1.1 0.3 1.4 c 0.2 0.3 0.6 0.5 1 0.5 c 0.7 0 1.1 -0.4 1.2 -1.2 h 2 c 0 0.4 -0.1 0.7 -0.3 1.1 c -0.2 0.3 -0.4 0.6 -0.6 0.9 c -0.3 0.2 -0.6 0.4 -1 0.6 C 92.9 49.9 92.4 50 92 50 Z M 99.1 50 c -0.6 0 -1 -0.1 -1.5 -0.3 c -0.4 -0.2 -0.8 -0.4 -1.1 -0.7 c -0.3 -0.3 -0.5 -0.7 -0.7 -1.1 c -0.2 -0.4 -0.2 -0.9 -0.2 -1.4 c 0 -0.5 0.1 -1 0.2 -1.4 s 0.4 -0.8 0.7 -1.1 c 0.3 -0.3 0.7 -0.6 1.1 -0.7 c 0.4 -0.2 0.9 -0.3 1.4 -0.3 c 0.5 0 0.9 0.1 1.3 0.2 c 0.4 0.1 0.7 0.4 1 0.6 c 0.4 0.4 0.7 0.8 0.9 1.4 c 0.2 0.6 0.3 1.2 0.3 1.9 h -4.8 c 0.1 0.5 0.2 0.8 0.5 1.1 c 0.2 0.3 0.6 0.4 1 0.4 c 0.3 0 0.5 -0.1 0.7 -0.2 c 0.2 -0.1 0.3 -0.3 0.4 -0.5 h 2.1 c -0.1 0.3 -0.2 0.6 -0.4 0.9 c -0.2 0.3 -0.4 0.5 -0.7 0.7 c -0.3 0.2 -0.6 0.4 -0.9 0.5 C 99.9 49.9 99.6 50 99.1 50 Z M 100.3 45.7 c 0 -0.4 -0.2 -0.7 -0.4 -1 c -0.2 -0.2 -0.5 -0.4 -0.9 -0.4 c -0.4 0 -0.7 0.1 -0.9 0.4 c -0.2 0.2 -0.4 0.6 -0.4 1 H 100.3 Z M 0 49.9 L 0 0 M 0 0 v 49.8 h 21.3 v -7.1 H 7.1 V 7.1 h 42.7 V 0 L 0 0 Z M 14.2 14.2 v 21.3 h 28.5 v 7.1 H 28.5 v 7.1 h 21.3 V 28.5 H 21.3 v -7.1 h 28.5 v -7.1 H 14.2 Z"})))}var te=a(194),ae=a(190),ne=a(193),re=a(188),ie=a(196),ce=a(192);a(142);var oe=a(187);var se={listenToMenuUI:function(e){return{type:"MENU_INTERACTION",data:e}}},le=Object(v.b)((function(e){return{toggleStates:e.MENU_INTERACTION}}),se)((function(e){var t="#84ff03",a="#fe01fe",n="#fc0303",i="#03bafc",c="#FFF7",o=Object(f.a)({palette:{textPrimary:{main:"white"}},typography:{h5:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"2.5em",fontWeight:"300"},h6:{fontFamily:'"Cormorant Garamond", "sans-serif"',fontSize:"1.6em",fontWeight:"400"},h3:{fontFamily:'"Roboto", "sans-serif"',fontSize:"1.5em"},caption:{fontFamily:'"Roboto", "sans-serif"',fontSize:"1em"}}}),s=Object(h.a)((function(){return{checked:{},radio:{"&$checked":{color:"#fff"}},toolBar:{alignItems:"end"},title:{flexGrow:2},appBar:{background:"rgba(0,0,0,0.7)",color:"white",transition:o.transitions.create(["margin","width"],{easing:o.transitions.easing.sharp,duration:o.transitions.duration.leavingScreen})},menuIconWrapper:{color:"rgba(255,255,255)",position:"fixed",bottom:"1em",right:"1em",zIndex:9999},LogoWrapper:{position:"fixed",bottom:"1em",left:"1em",zIndex:1},largeIcon:{width:40,height:40},appBarShift:{width:"calc(100% - ".concat(300,"px)"),marginLeft:300,transition:o.transitions.create(["margin","width"],{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.enteringScreen})},hide:{display:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{background:"rgba(0,0,0,0)",width:300,height:"100%"}}})),l=function(e){var t;x(Object(L.a)({},k,(t={},Object(m.a)(t,e,!k[e]),Object(m.a)(t,"thisToggleName",k[e]?null:e),t)))},u=s(),v=r.a.useState(!0),w=Object(p.a)(v,2),E=w[0],y=w[1],S=r.a.useState(!0),C=Object(p.a)(S,1)[0],k=e.toggleStates,x=e.listenToMenuUI;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(g.a,{theme:o},r.a.createElement(F.a,{title:"Toggle Options",placement:"top"},r.a.createElement(R.a,{className:u.menuIconWrapper,variant:"outlined",onClick:E?function(){y(!1)}:function(){y(!0)}},r.a.createElement(D.a,{className:u.largeIcon}))),r.a.createElement("div",{className:u.LogoWrapper},r.a.createElement(ee,null)),r.a.createElement(ce.a,{className:u.drawer,variant:"persistent",anchor:"left",open:E,classes:{paper:u.drawerPaper}},r.a.createElement(W.a,{timeout:500,in:C},r.a.createElement(A.a,{position:"static",className:u.appBar},r.a.createElement(O.a,{p:1}),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"h5"},"CityScope")),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"caption"},"Champs-\xc9lys\xe9es")),r.a.createElement(O.a,{p:1}),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"h6"},"present & future")),r.a.createElement(te.a,null,r.a.createElement(I,{checked:k.scenarioSwitch,onChange:function(){return l("scenarioSwitch")},name:"scenarioSwitch"}),r.a.createElement(d.a,{variant:"caption"},"2020-2040")),r.a.createElement(te.a,null,r.a.createElement(R.a,null,r.a.createElement(J,null)),r.a.createElement(d.a,{variant:"caption"},"information")),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"h6"},"display")),r.a.createElement(te.a,null,r.a.createElement(I,{checked:k.metricsObjSwitch,onChange:function(){return l("metricsObjSwitch")},name:"metricsObjSwitch"}),r.a.createElement(d.a,{variant:"caption"},"design metrics")),r.a.createElement(te.a,null,r.a.createElement(I,{checked:k.cityModelSwitch,onChange:function(){return l("cityModelSwitch")},name:"cityModelSwitch"}),r.a.createElement(d.a,{variant:"caption"},"toggle 3D model")),r.a.createElement(oe.a,null),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"h6"},"spatial design")),r.a.createElement(te.a,null,r.a.createElement(I,{knobcolor:t,checked:k.parks,onChange:function(){return l("parks")},name:"parks"}),r.a.createElement(d.a,{variant:"caption"},"parks")),r.a.createElement(te.a,null,r.a.createElement(I,{knobcolor:a,checked:k.culturalBuildings,onChange:function(){return l("culturalBuildings")},name:"culturalBuildings"}),r.a.createElement(d.a,{variant:"caption"},"cultural")),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"h6"},"mobility")),r.a.createElement(te.a,null,r.a.createElement(I,{knobcolor:n,checked:k.cars,onChange:function(){return l("cars")},name:"cars"}),r.a.createElement(d.a,{variant:"caption"},"cars")),r.a.createElement(te.a,null,r.a.createElement(I,{knobcolor:i,checked:k.bicycles,onChange:function(){return l("bicycles")},name:"bicycles"}),r.a.createElement(d.a,{variant:"caption"},"bicycles")),r.a.createElement(te.a,null,r.a.createElement(I,{knobcolor:c,checked:k.pedestrians,onChange:function(){return l("pedestrians")},name:"pedestrians"}),r.a.createElement(d.a,{variant:"caption"},"pedestrians")),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"h6"},"select scene")),r.a.createElement(te.a,null,r.a.createElement(ie.a,{component:"fieldset"},r.a.createElement(ne.a,{"aria-label":"camera",name:"camera",onChange:function(e){x(Object(L.a)({},k,{cameraScene:e.target.value}))}},r.a.createElement(re.a,{value:"Triomphe",control:r.a.createElement(ae.a,{classes:{root:u.radio}}),label:r.a.createElement(d.a,{variant:"caption"},"Arc de Triomphe")}),r.a.createElement(re.a,{value:"Champs",control:r.a.createElement(ae.a,{classes:{root:u.radio}}),label:r.a.createElement(d.a,{variant:"caption"},"Avenue des Champs-\xc9lys\xe9es")}),r.a.createElement(re.a,{value:"Palais",control:r.a.createElement(ae.a,{classes:{root:u.radio}}),label:r.a.createElement(d.a,{variant:"caption"},"Grand & Petit Palais")}),r.a.createElement(re.a,{value:"Concorde",control:r.a.createElement(ae.a,{classes:{root:u.radio}}),label:r.a.createElement(d.a,{variant:"caption"},"Place de la Concorde")}),r.a.createElement(re.a,{value:"animateCamera",control:r.a.createElement(ae.a,{classes:{root:u.radio}}),label:r.a.createElement(d.a,{variant:"caption"},"Animate Camera")})))),r.a.createElement(te.a,null,r.a.createElement(d.a,{variant:"h6"},"settings")),r.a.createElement(te.a,null,r.a.createElement(H,null),r.a.createElement(d.a,{variant:"caption"},'"Aux Champs Elys\xe9es" by Arthur Des Ligneris')),r.a.createElement(te.a,null,r.a.createElement(I,{checked:k.quality,onChange:function(){return l("quality")},name:"quality"}),r.a.createElement(d.a,{variant:"caption"},"render quality (for fast devices)")),r.a.createElement(O.a,{p:5}))))))})),ue=a(12),pe=a.n(ue),me=a(21),he=a(2),de=a(22),fe=a(105),ge=a(109),be=a(82),ve=a(106),we=a(53),Ee=a(9),ye=function(e,t){var a=function(e,t){e.traverse((function(e){(e instanceof he.Mesh||e instanceof he.Sprite)&&(e.visible=t)}))};e&&(t?(a(e,t),e.position.y=e.position.y+1,new de.a.Tween(e.position).to({y:e.position.y-1},1e3).easing(de.a.Easing.Quadratic.Out).start()):new de.a.Tween(e.position).to({y:e.position.y+1},1e3).easing(de.a.Easing.Quadratic.Out).start().onComplete((function(){a(e,t),e.position.y=e.position.y-1})))},Se=function(){var e=Object(me.a)(pe.a.mark((function e(){var t,a,n,r,i,c,o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le("./resources/textures/shadowmap.png");case 2:return t=e.sent,(a=new he.Color).setHSL(0,0,.5),n=new he.MeshPhongMaterial({color:a}),r=new he.MeshPhongMaterial({map:t,color:a}),i=[n,n,r,n,n,n],t.minFilter=he.LinearFilter,(c=new he.BoxBufferGeometry(1.57,.7,.92)).translate(0,.35,0),(o=new he.Mesh(c,i)).castShadow=!0,o.receiveShadow=!0,o.name="pedestalMesh",e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(me.a)(pe.a.mark((function e(){var t,a,n,r,i,c,o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le("./resources/textures/radar/rb.jpg");case 2:return t=e.sent,e.next=5,Le("./resources/textures/radar/ra.jpg");case 5:return a=e.sent,(n=new he.Color).setHSL(0,0,.5),(r=new he.MeshStandardMaterial({name:"radarMaterial",color:n,userData:{radarBeforeText:t,radarAfterText:a},map:t,metalness:.2,roughness:10})).side=he.DoubleSide,i=[!1,r,!1,!1,r,r],t.minFilter=he.LinearFilter,(c=new he.BoxBufferGeometry(1.57,1.57,.002)).translate(0,1.8,0),(o=new he.Mesh(c,i)).castShadow=!1,o.receiveShadow=!1,o.name="metricsObj",e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(me.a)(pe.a.mark((function e(){var t,a,n,r;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ee.f.ppl,(a=new he.Color).setHSL(0,0,.2),n=new he.MeshLambertMaterial({color:a}),e.next=6,_e(t);case 6:return(r=e.sent).name="people",r.traverse((function(e){e.material=n,e.scale.set(.95,.95,.95),e.position.set(0,.01,0),e.castShadow=!0})),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(me.a)(pe.a.mark((function e(){var t,a,n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new he.Object3D).name="landscapeModelsWrapper",a=pe.a.mark((function e(a){var n,r,i,c;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee.d[a].URL,r=Ee.d[a].color,i=Ee.d[a].position,c=Ee.d[a].scale,e.next=6,_e(n).then((function(e){t.add(e),e.name=a,e.scale.set(c,c,c),e.rotation.set(0,.4625123,0),e.traverse((function(e){e.material=new he.MeshPhongMaterial({color:new he.Color("hsl"+r)}),e.position.set(i[0],i[1],i[2])}))}));case 6:case"end":return e.stop()}}),e)})),e.t0=pe.a.keys(Ee.d);case 4:if((e.t1=e.t0()).done){e.next=9;break}return n=e.t1.value,e.delegateYield(a(n),"t2",7);case 7:e.next=4;break;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e,t,a,n,r){var i=.45,c=0,o=.1,s=new ve.a(a,n),l=new ge.a(new he.Vector2(e,t),1,.4,.85);l.threshold=c,l.strength=i,l.radius=o;var u=new be.a(r);u.renderToScreen=!1,u.addPass(s),u.addPass(l);var p=new we.a(new he.ShaderMaterial({uniforms:{baseTexture:{value:null},bloomTexture:{value:u.renderTarget2.texture}},vertexShader:Ae().vertex,fragmentShader:Ae().frag}),"baseTexture");p.needsSwap=!0;var m=new be.a(r);return m.addPass(s),m.addPass(p),{bloomComposer:u,finalComposer:m}},je=function(){var e=Object(me.a)(pe.a.mark((function e(){var t,a,n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in(t=new he.Object3D).name="agentsWrapper",a=function(e){var a=Ee.h[e].URL;fetch(a).then((function(e){return e.json()})).then((function(a){var n=Me(a,e);n.name=e,n.trips=a,t.add(n)})).catch((function(e){return console.error(e)}))},Ee.h)a(n);return t.rotation.set(0,.4625123,0),t.position.set(-822*Math.cos(.4625123)/2e3-.785,0,822*Math.sin(.4625123)/2e3-.46),t.rotation.set(0,.4625123,0),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(e,t){var a=new he.Color;a.setHSL(Ee.h[t].color.h,Ee.h[t].color.s,Ee.h[t].color.l);var n=(new he.TextureLoader).load("./resources/textures/agent.png");n.minFilter=he.LinearFilter;for(var r=new he.Object3D,i=0;i<e.length;i++){var c=new he.SpriteMaterial({map:n,transparent:!0}),o=new he.Sprite(c);o.material.color=a,o.material.blending=he.AdditiveBlending,o.material.transparent=!0,o.scale.set(.03,.03,.03),o.position.set(0,0,0),r.add(o)}return r},Te=function(){var e=Object(me.a)(pe.a.mark((function e(){var t,a,n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(Ee.b);case 2:return t=e.sent,(a=new he.Color).setHSL(0,0,.3),n=new he.MeshPhongMaterial({color:a}),t.name="cityModel",t.scale.set(505e-6,505e-6,505e-6),t.position.set(-.0055,.7,0),t.rotation.set(0,.4625123,0),t.traverse((function(e){e.material=n})),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(me.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){(new fe.a).load(t,e)})).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(me.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){(new he.TextureLoader).load(t,e)})).then((function(e){return e.minFilter=he.LinearFilter,e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){return{vertex:"\n    varying vec2 vUv;\n       void main() {\n           vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    ",frag:" \n    uniform sampler2D baseTexture;\n    uniform sampler2D bloomTexture;\n    varying vec2 vUv;\n    vec4 getTexture( sampler2D texelToLinearTexture ) {\n        return mapTexelToLinear( texture2D( texelToLinearTexture , vUv ) );\n    }\n    void main() {\n        gl_FragColor = ( getTexture( baseTexture ) + vec4( 1.0 ) * getTexture( bloomTexture ) );\n    }"}},Ne=function(){var e=Object(me.a)(pe.a.mark((function e(t){var a,n,r,i,c,o,s,l,u;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=15,n=15,r="./resources/textures/floor/",e.next=5,Le(r+"WOOD_SML.jpg");case 5:return i=e.sent,e.next=8,Le(r+"GLOSS.jpg");case 8:return c=e.sent,e.next=11,Le(r+"WOOD_DISP.jpg");case 11:return o=e.sent,e.next=14,Le(r+"NRM.jpg");case 14:return s=e.sent,i.anisotropy=t.capabilities.getMaxAnisotropy(),i.wrapS=he.RepeatWrapping,i.wrapT=he.RepeatWrapping,i.repeat.set(a,n),s.anisotropy=t.capabilities.getMaxAnisotropy(),s.wrapS=he.RepeatWrapping,s.wrapT=he.RepeatWrapping,s.repeat.set(a,n),c.anisotropy=t.capabilities.getMaxAnisotropy(),c.wrapS=he.RepeatWrapping,s.wrapT=he.RepeatWrapping,c.repeat.set(a,n),o.minFilter=he.LinearFilter,o.anisotropy=t.capabilities.getMaxAnisotropy(),o.wrapS=he.RepeatWrapping,o.wrapT=he.RepeatWrapping,o.repeat.set(a,n),l=new he.MeshStandardMaterial({aoMap:c,aoMapIntensity:1,color:16777215,map:i,metalnessMap:i,displacementMap:o,displacementScale:.1,normalMap:s,metalness:5,roughness:.5}),50,(u=new he.Mesh(new he.PlaneBufferGeometry(50,50),l)).receiveShadow=!0,u.rotation.x=-.5*Math.PI,u.position.y=0,u.position.z=0,e.abrupt("return",u);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=a(107),Re=a.n(Ie),Pe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e))._init=Object(me.a)(pe.a.mark((function e(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.shpContainer=new he.Object3D,e.t0=n._sceneSetup(),e.next=4,Te().then((function(e){return n.scene.add(e)}));case 4:return e.t1=e.sent,e.next=7,Oe().then((function(e){n.scene.add(e)}));case 7:return e.t2=e.sent,e.next=10,Ne(n.renderer).then((function(e){n.scene.add(e)}));case 10:return e.t3=e.sent,e.next=13,Se().then((function(e){return n.scene.add(e)}));case 13:return e.t4=e.sent,e.next=16,Ce().then((function(e){return n.scene.add(e)}));case 16:return e.t5=e.sent,e.next=19,ke().then((function(e){return n.scene.add(e)}));case 19:return e.t6=e.sent,e.next=22,je().then((function(e){n.agentWrapper=e,n.scene.add(n.agentWrapper)}));case 22:e.t7=e.sent,e.t0.then.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7).then(n.setState({loading:!1}),n.props.setLoadingState(n.state.loading),n.startAnimationLoop());case 24:case"end":return e.stop()}}),e)}))),n._sceneSetup=Object(me.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.scene=new he.Scene,n.scene.dispose(),n.camera=new he.PerspectiveCamera(50,n.width/n.height,.01,1e3),n.camera.position.z=-4,n.camera.position.x=0,n.camera.position.y=2,n.controls=new Re.a(n.camera,n.mountingDiv),n.controls.maxDistance=7,n.controls.minDistance=.5,n.camera.lookAt(new he.Vector3(0,1.25,0)),n.controls.target.set(0,.9,0),n.renderer=new he.WebGLRenderer({antialias:!0,alpha:!0}),n.renderer.dispose(),n.renderer.setPixelRatio(window.devicePixelRatio),n.renderer.shadowMap.enabled=!0,n.renderer.toneMapping=he.ReinhardToneMapping,n.renderer.setSize(n.width,n.height),n.mountingDiv.appendChild(n.renderer.domElement),n.whiteLight1=new he.PointLight(16777215,4,1),n.whiteLight1.name="whiteLight",n.whiteLight1.position.set(0,1.5,-.5),n.whiteLight1.intensity=Ee.e.w1.low,n.whiteLight2=new he.PointLight(16777215,4,1),n.whiteLight2.name="whiteLight",n.whiteLight2.position.set(0,1.5,.5),n.whiteLight2.intensity=Ee.e.w2.low,n.orangeLight=new he.PointLight(15884545,0,100),n.orangeLight.intensity=Ee.e.orange.low,n.orangeLight.name="orangeLight",n.orangeLight.position.set(-1,2,-1),n.orangeLight.castShadow=!0,n.orangeLight.shadow.radius=2,n.blueLight=new he.PointLight(29116,0,100),n.blueLight.intensity=Ee.e.blue.low,n.blueLight.name="this.blueLight",n.blueLight.position.set(1,2,1),n.blueLight.castShadow=!0,n.blueLight.shadow.radius=2,n.lightsWrapper=new he.Object3D,n.lightsWrapper.name="lightsWrapper",n.lightsWrapper.add(n.whiteLight1,n.whiteLight2,n.orangeLight,n.blueLight),n.scene.add(n.lightsWrapper),t=xe(n.width,n.height,n.scene,n.camera,n.renderer),n.bloomComposer=t.bloomComposer,n.finalComposer=t.finalComposer;case 45:case"end":return e.stop()}}),e)}))),n._animateAgents=function(){var e=n.state.timeCounter;n.agentWrapper.children.forEach((function(t){for(var a=0;a<t.trips.length;a++)if(t.trips[a].path[e]){var n=t.trips[a].path[e];t.children[a].position.set(n[0],.705,n[1])}})),n.setState({timeCounter:n.state.timeCounter<Ee.g?n.state.timeCounter+n.state.simSpeed:0})},n.handleWindowResize=function(){var e=n.mountingDiv.clientWidth,t=n.mountingDiv.clientHeight;n.renderer.setSize(e,t),n.bloomComposer.setSize(e,t),n.finalComposer.setSize(e,t),n.camera.aspect=e/t,n.camera.updateProjectionMatrix()},n._chooseRenderer=function(){n.state.renderer?(n.bloomComposer.render(),n.finalComposer.render()):n.renderer.render(n.scene,n.camera)},n._cameraState=function(){"animateCamera"===n.props.menuInteraction.cameraScene?(n.theta+=n.cameraSpeed,n.camera.position.x=n.radius*Math.sin(he.MathUtils.degToRad(n.theta)),n.camera.position.y=1.5,n.camera.position.z=n.radius*Math.cos(he.MathUtils.degToRad(n.theta)),n.camera.lookAt(new he.Vector3(0,1.25,0)),n.camera.updateMatrixWorld()):function(e){if(e){var t=e.position;t.y<.3&&(t.y=.3),t.y>4&&(t.y=4)}}(n.camera)},n.startAnimationLoop=function(){n._cameraState(),de.a.update(),n._animateAgents(),n._chooseRenderer(),n.requestID=window.requestAnimationFrame(n.startAnimationLoop)},n.state={loading:!0,timeCounter:0,simSpeed:1,trips:{},renderer:!1,past:!0,camLookAt:new he.Vector3(0,1.25,0)},n.theta=0,n.cameraSpeed=.5,n.radius=2.5,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.width=this.mountingDiv.clientWidth,this.height=this.mountingDiv.clientHeight,window.addEventListener("resize",this.handleWindowResize),setTimeout((function(){e._init()}),500)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.requestID),window.removeEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e){var t=this;e!==this.props&&function(){var a=t.props.menuInteraction,n=a.scenarioSwitch,r=a.parks,i=a.culturalBuildings,c=a.cars,o=a.bicycles,s=a.pedestrians,l=a.quality,u=a.cityModelSwitch,p=a.metricsObjSwitch,m=t.scene.getObjectByName("cityModel"),h=t.scene.getObjectByName("trips_car_before"),d=t.scene.getObjectByName("trips_car_after"),f=t.scene.getObjectByName("trips_pedestrians_before"),g=t.scene.getObjectByName("trips_pedestrians_after"),b=t.scene.getObjectByName("trips_bike_before"),v=t.scene.getObjectByName("trips_bike_after"),w=t.scene.getObjectByName("parks_before"),E=t.scene.getObjectByName("parks_after"),y=t.scene.getObjectByName("cultural_before"),S=t.scene.getObjectByName("cultural_after"),C=t.scene.getObjectByName("metricsObj");for(var k in e.menuInteraction)if(e.menuInteraction[k]!==t.props.menuInteraction[k])switch(k){case"scenarioSwitch":[t.blueLight,t.orangeLight].forEach((function(e){new de.a.Tween(e.position).to({x:-e.position.x,z:-e.position.z},2e3).easing(de.a.Easing.Quadratic.Out).onUpdate((function(){})).start()})),ye(w,r),ye(E,n&&r),ye(y,i),ye(S,n&&i),ye(h,!n&&c),ye(d,n&&c),ye(b,!n&&o),ye(v,n&&o),ye(f,!n&&s),ye(g,n&&s),new de.a.Tween(C.rotation).to({x:0,y:n?-3.14159:3.14159,z:0},2e3).easing(de.a.Easing.Cubic.InOut).start().onStart((function(){C.material.forEach((function(e){e&&(e.map=n?e.userData.radarAfterText:e.userData.radarBeforeText,e.map.needsUpdate=!0)}))}));break;case"metricsObjSwitch":ye(C,p);break;case"parks":ye(w,r),ye(E,n&&r);break;case"culturalBuildings":ye(y,i),ye(S,n&&i);break;case"cars":ye(h,!n&&c),ye(d,n&&c);break;case"bicycles":ye(b,!n&&o),ye(v,n&&o);break;case"pedestrians":ye(f,!n&&s),ye(g,n&&s);break;case"quality":t.setState({renderer:l}),l?(t.blueLight.intensity=Ee.e.blue.high,t.orangeLight.intensity=Ee.e.orange.high,t.whiteLight1.intensity=Ee.e.w1.high,t.whiteLight2.intensity=Ee.e.w2.high):(t.blueLight.intensity=Ee.e.blue.low,t.orangeLight.intensity=Ee.e.orange.low,t.whiteLight1.intensity=Ee.e.w1.low,t.whiteLight2.intensity=Ee.e.w2.low);break;case"cityModelSwitch":ye(m,!!u);break;case"cameraScene":var O=t.props.menuInteraction.cameraScene;if(console.log(O),"animateCamera"===O)break;!function(){var e=Ee.a[O].camPos,a=Ee.a[O].lookAt,n=new he.Vector3(a[0],a[1],a[2]);new de.a.Tween(t.camera.position).to({x:e[0],y:e[1],z:e[2]},1e3).easing(de.a.Easing.Quadratic.Out).onUpdate((function(){t.camera.lookAt(n)})).start()}()}}()}},{key:"_onMouseUp",value:function(e){var t=new he.Vector2,a=new he.Raycaster;t.x=e.clientX/this.width*2-1,t.y=-e.clientY/this.height*2+1,a.setFromCamera(t.clone(),this.camera);var n=a.intersectObjects(this.scene.children);if(n[0]&&n[0].point){console.log(n[0].object);var r=n[0].point;this.controls.target.set(r),this.controls.update()}}},{key:"render",value:function(){var e=this,t=this.props.startScene;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:t?{height:"100%",position:"fixed",width:"100%",top:0,left:0,backgroundColor:"black",visibility:""}:{height:"100%",width:"100%",position:"fixed",top:0,left:0,backgroundColor:"black",visibility:"hidden"},ref:function(t){return e.mountingDiv=t}}))}}]),a}(n.Component),De={setLoadingState:function(e){return{type:"SET_LOADING_STATE",data:e}}},We=Object(v.b)((function(e){return{startScene:e.START_SCENE}}),De)(Pe),Fe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(We,{menuInteraction:this.props.menuInteraction}),this.props.showMenu?r.a.createElement(le,null):null,r.a.createElement(_,null))}}]),a}(n.Component),Be=Object(v.b)((function(e){return{menuInteraction:e.MENU_INTERACTION,showMenu:e.START_SCENE}}),null)(Fe),Ue=function(e){var t=e.children,a=e.store;return r.a.createElement(v.a,{store:a},t)},Ve=a(59),ze={LOADING:!0,START_SCENE:!1,MENU_INTERACTION:Ee.c};function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING_STATE":return Object(L.a)({},e,{LOADING:t.data});case"SET_START_SCENE":return Object(L.a)({},e,{START_SCENE:t.data});case"MENU_INTERACTION":return Object(L.a)({},e,{MENU_INTERACTION:t.data});default:return e}}var He=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Ze=function(){return Object(Ve.b)(Ge,He)}(),qe=document.getElementById("root");c.a.render(r.a.createElement(Ue,{store:Ze},r.a.createElement(Be,null)),qe)},9:function(e){e.exports=JSON.parse('{"c":{"scenarioSwitch":false,"parks":true,"culturalBuildings":true,"cars":true,"bicycles":true,"pedestrians":true,"cameraScene":"animateCamera","quality":false,"cityModelSwitch":true,"metricsObjSwitch":true,"thisToggleName":""},"a":{"Triomphe":{"camPos":[-0.62,1.2,-0.03],"lookAt":[-0.62,0.5,-0.03]},"Champs":{"camPos":[0,1.35,0.5],"lookAt":[0,0.5,0.2]},"Palais":{"camPos":[0.6,1.2,-0.5],"lookAt":[0.5,0.5,0.8]},"Concorde":{"camPos":[1.25,1,0],"lookAt":[-1,0.75,0]}},"e":{"orange":{"high":0.85,"low":2.75},"blue":{"high":0.85,"low":2.75},"w1":{"high":3,"low":9},"w2":{"high":3,"low":9}},"g":500,"b":"./resources/model/city/city.obj","d":{"parks_before":{"URL":"resources/model/park/parks_before.obj","color":"(80, 100%, 20%)","position":[0.09,0.702,0.01],"scale":0.000505},"parks_after":{"URL":"resources/model/park/parks_after.obj","color":"(80, 100%, 50%)","position":[0.09,0.7015,0.01],"scale":0.000505},"cultural_before":{"URL":"resources/model/culture/culture_before.obj","color":"(312, 50%, 50%)","position":[0.3,0.695,0.08],"scale":0.0355},"cultural_after":{"URL":"resources/model/culture/culture_after.obj","color":"(312, 100%, 50%)","position":[0.3,0.69,0.08],"scale":0.0355}},"f":{"ppl":"resources/ppl/ppl.obj"},"h":{"trips_car_before":{"dataObj":"trips_car_before","color":{"h":1,"s":1,"l":0.3},"URL":"resources/trips/real/trips_car_before.json"},"trips_car_after":{"dataObj":"trips_car_after","color":{"h":1,"s":1,"l":0.5},"URL":"resources/trips/real/trips_car_after.json"},"trips_pedestrians_before":{"dataObj":"trips_pedestrians_before","color":{"h":0,"s":0,"l":0.85},"URL":"resources/trips/real/trips_people_before.json"},"trips_pedestrians_after":{"dataObj":"trips_pedestrians_after","color":{"h":0,"s":0,"l":1},"URL":"resources/trips/real/trips_people_after.json"},"trips_bike_before":{"dataObj":"trips_bike_before","color":{"h":0.55,"s":1,"l":0.3},"URL":"resources/trips/real/trips_bike_before.json"},"trips_bike_after":{"dataObj":"trips_bike_after","color":{"h":0.55,"s":1,"l":0.5},"URL":"resources/trips/real/trips_bike_after.json"}}}')}},[[125,1,2]]]);
//# sourceMappingURL=main.4aa46d0f.chunk.js.map